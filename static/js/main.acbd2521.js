!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=70)}([function(e,t,r){"use strict";e.exports=r(76)},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return b})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return E})),r.d(t,"e",(function(){return _})),r.d(t,"f",(function(){return S})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return T})),r.d(t,"j",(function(){return f})),r.d(t,"k",(function(){return p})),r.d(t,"l",(function(){return M})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return m})),r.d(t,"o",(function(){return h})),r.d(t,"p",(function(){return P})),r.d(t,"q",(function(){return N}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=63&s|128):55296==(64512&s)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=63&s|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=63&s|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const s=e[t],a=t+1<e.length,o=a?e[t+1]:0,i=t+2<e.length,l=i?e[t+2]:0,u=s>>2,c=(3&s)<<4|o>>4;let d=(15&o)<<2|l>>6,f=63&l;i||(f=64,a||(d=64)),n.push(r[u],r[c],r[d],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[r++];t[n++]=String.fromCharCode((31&s)<<6|63&a)}else if(s>239&&s<365){const a=((7&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const s=r[e.charAt(t++)],a=t<e.length?r[e.charAt(t)]:0;++t;const i=t<e.length?r[e.charAt(t)]:64;++t;const l=t<e.length?r[e.charAt(t)]:64;if(++t,null==s||null==a||null==i||null==l)throw new o;const u=s<<2|a>>4;if(n.push(u),64!==i){const e=a<<4&240|i>>2;if(n.push(e),64!==l){const e=i<<6&192|l;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return l()||(()=>{if(void 0===n)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&i(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},c=e=>{var t,r;return null===(r=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},d=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class b extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v.prototype.create)}}class v{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,s=this.errors[e],a=s?function(e,t){return e.replace(y,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(s,r):"Error",o=`${this.serviceName}: ${a} (${n}).`;return new b(n,o,r)}}const y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const r=e[s],a=t[s];if(I(r)&&I(a)){if(!_(r,a))return!1}else if(r!==a)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function I(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function S(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(e,t){const r=new V(e,t);return r.subscribe.bind(r)}class V{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=w),void 0===n.error&&(n.error=w),void 0===n.complete&&(n.complete=w);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function T(e){return e&&e._delegate?e._delegate:e}}).call(this,r(15),r(19))},function(e,t,r){e.exports=r(109)()},function(e,t){e.exports={API_BASE:"https://corsproxy.io/?https://gifx.co/chip",CATALOG_PREFIX:"https://corsproxy.io/?https://gifx.co/music/",ERROR_FLASH_DURATION_MS:6e3,FORMATS:["ay","gbs","it","mdx","mid","miniusf","mod","nsf","nsfe","sgc","spc","s3m","smf","v2m","vgm","vgz","xm"],MAX_VOICES:64,REPLACE_STATE_ON_SEEK:!1,SOUNDFONT_MOUNTPOINT:"/soundfonts",SOUNDFONT_URL_PATH:"https://corsproxy.io/?https://gifx.co/soundfonts/",SOUNDFONTS:[{label:"User SoundFonts (Drop .sf2 to add)",items:[]},{label:"Small Soundfonts",items:[{label:"GMGSx Plus (6.2 MB)",value:"gmgsx-plus.sf2"},{label:"Roland SC-55/SCC1 (3.3 MB)",value:"Scc1t2.sf2"},{label:"Yamaha DB50XG (3.9 MB)",value:"Yamaha DB50XG.sf2"},{label:"Gravis Ultrasound (5.9 MB)",value:"Gravis_Ultrasound_Classic_PachSet_v1.6.sf2"},{label:"Tim GM (6 MB)",value:"TimGM6mb.sf2"},{label:"Alan Chan 5MBGMGS (4.9 MB)",value:"5MBGMGS.SF2"},{label:"E-mu 2MBGMGS (2.1 MB)",value:"2MBGMGS.SF2"},{label:"E-mu 8MBGMGS (8.2 MB)",value:"8MBGMGS.SF2"}]},{label:"Large Soundfonts",items:[{label:"Masquerade 55 v006 (18.4 MB)",value:"masquerade55v006.sf2"},{label:"GeneralUser GS v1.471 (31.3 MB)",value:"generaluser.sf2"},{label:"Chorium Revision A (28.9 MB)",value:"choriumreva.sf2"},{label:"Unison (29.3 MB)",value:"Unison.SF2"},{label:"Creative 28MBGM (29.7 MB)",value:"28MBGM.sf2"},{label:"Musica Theoria 2 (30.5 MB)",value:"mustheory2.sf2"},{label:"Personal Copy Lite (31.4 MB)",value:"PCLite.sf2"},{label:"AnotherXG (31.4 MB)",value:"bennetng_AnotherXG_v2-1.sf2"},{label:"NTONYX 32Mb GM Stereo (32.5 MB)",value:"32MbGMStereo.sf2"},{label:"Weeds GM 3 (54.9 MB)",value:"weedsgm3.sf2"}]},{label:"Novelty Soundfonts",items:[{label:"PC Beep (31 KB)",value:"pcbeep.sf2"},{label:"Nokia 6230i (227 KB)",value:"Nokia_6230i_RM-72_.sf2"},{label:"Kirby's Dream Land (271 KB)",value:"Kirby's_Dream_Land_3.sf2"},{label:"Vintage Waves v2 (315 KB)",value:"Vintage Dreams Waves v2.sf2"},{label:"Setzer's SPC Soundfont (1.2 MB)",value:"Setzer's_SPC_Soundfont.sf2"},{label:"SNES GM (1.9 MB)",value:"Super_Nintendo_Unofficial_update.sf2"},{label:"Nokia 30 (2.2 MB)",value:"Nokia_30.sf2"},{label:"LG Wink/Motorola ROKR (3.3 MB)",value:"LG_Wink_Style_T310_Soundfont.sf2"},{label:"Diddy Kong Racing DS (13.7 MB)",value:"Diddy_Kong_Racing_DS_Soundfont.sf2"},{label:"Regression FM v1.99g (14.4 MB)",value:"R_FM_v1.99g-beta.sf2"},{label:"Ultimate Megadrive (63.2 MB)",value:"The Ultimate Megadrive Soundfont.sf2"}]},{label:"Piano Soundfonts",items:[{label:"Yamaha Grand Lite v1.1 (21.8 MB)",value:"Yamaha-Grand-Lite-v1.1.sf2"},{label:"Abbey Steinway D v1.9 (40.2 MB)",value:"Abbey-Steinway-D-v1.9.sf2"},{label:"Chateau Grand Lite v1.0 (49.1 MB)",value:"Chateau Grand Lite-v1.0.sf2"},{label:"Steinway Grand v1.0 (145 MB)",value:"Steinway Grand-SF4U-v1.sf2"}]}]}},function(e,t,r){"use strict";function n(){throw new Error("MIDIEvents function not intended to be run.")}n.EVENT_META=255,n.EVENT_SYSEX=240,n.EVENT_DIVSYSEX=247,n.EVENT_MIDI=8,n.EVENT_META_SEQUENCE_NUMBER=0,n.EVENT_META_TEXT=1,n.EVENT_META_COPYRIGHT_NOTICE=2,n.EVENT_META_TRACK_NAME=3,n.EVENT_META_INSTRUMENT_NAME=4,n.EVENT_META_LYRICS=5,n.EVENT_META_MARKER=6,n.EVENT_META_CUE_POINT=7,n.EVENT_META_MIDI_CHANNEL_PREFIX=32,n.EVENT_META_END_OF_TRACK=47,n.EVENT_META_SET_TEMPO=81,n.EVENT_META_SMTPE_OFFSET=84,n.EVENT_META_TIME_SIGNATURE=88,n.EVENT_META_KEY_SIGNATURE=89,n.EVENT_META_SEQUENCER_SPECIFIC=127,n.EVENT_MIDI_NOTE_OFF=8,n.EVENT_MIDI_NOTE_ON=9,n.EVENT_MIDI_NOTE_AFTERTOUCH=10,n.EVENT_MIDI_CONTROLLER=11,n.EVENT_MIDI_PROGRAM_CHANGE=12,n.EVENT_MIDI_CHANNEL_AFTERTOUCH=13,n.EVENT_MIDI_PITCH_BEND=14,n.MIDI_1PARAM_EVENTS=[n.EVENT_MIDI_PROGRAM_CHANGE,n.EVENT_MIDI_CHANNEL_AFTERTOUCH],n.MIDI_2PARAMS_EVENTS=[n.EVENT_MIDI_NOTE_OFF,n.EVENT_MIDI_NOTE_ON,n.EVENT_MIDI_NOTE_AFTERTOUCH,n.EVENT_MIDI_CONTROLLER,n.EVENT_MIDI_PITCH_BEND],n.createParser=function(e,t,r){var s,a,o,i,l;if(e instanceof DataView&&(e={position:t||0,buffer:e,readUint8:function(){return this.buffer.getUint8(this.position++)},readUint16:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readUint32:function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},readVarInt:function(){for(var e,t=0,r=0;4>r++;){if(!(128&(e=this.readUint8())))return t+e;t+=127&e,t<<=7}throw new Error("0x"+this.position.toString(16)+": Variable integer length cannot exceed 4 bytes")},readBytes:function(e){for(var t=[];0<e;e--)t.push(this.readUint8());return t},pos:function(){return"0x"+(this.buffer.byteOffset+this.position).toString(16)},end:function(){return this.position===this.buffer.byteLength}},t=0),0<t)for(;t--;)e.readUint8();return{next:function(){if(e.end())return null;if(a={index:e.pos(),delta:e.readVarInt()},240==(240&(s=e.readUint8()))){if(s!==n.EVENT_META){if(s===n.EVENT_SYSEX||s===n.EVENT_DIVSYSEX)return a.type=s,a.length=e.readVarInt(),a.data=e.readBytes(a.length),a;if(r)throw new Error(e.pos()+" Unknown event type "+s.toString(16)+", Delta: "+a.delta+".");return a.type=s,a.badsubtype=e.readVarInt(),a.length=e.readUint8(),a.data=e.readBytes(a.length),a}switch(a.type=n.EVENT_META,a.subtype=e.readUint8(),a.length=e.readVarInt(),a.subtype){case n.EVENT_META_SEQUENCE_NUMBER:if(r&&2!==a.length)throw new Error(e.pos()+" Bad metaevent length.");return a.msb=e.readUint8(),a.lsb=e.readUint8(),a;case n.EVENT_META_TEXT:case n.EVENT_META_COPYRIGHT_NOTICE:case n.EVENT_META_TRACK_NAME:case n.EVENT_META_INSTRUMENT_NAME:case n.EVENT_META_LYRICS:case n.EVENT_META_MARKER:case n.EVENT_META_CUE_POINT:return a.data=e.readBytes(a.length),a;case n.EVENT_META_MIDI_CHANNEL_PREFIX:if(r&&1!==a.length)throw new Error(e.pos()+" Bad metaevent length.");return a.prefix=e.readUint8(),a;case n.EVENT_META_END_OF_TRACK:if(r&&0!==a.length)throw new Error(e.pos()+" Bad metaevent length.");return a;case n.EVENT_META_SET_TEMPO:if(r&&3!==a.length)throw new Error(e.pos()+" Tempo meta event length must be 3.");return a.tempo=(e.readUint8()<<16)+(e.readUint8()<<8)+e.readUint8(),a.tempoBPM=6e7/a.tempo,a;case n.EVENT_META_SMTPE_OFFSET:if(r&&5!==a.length)throw new Error(e.pos()+" Bad metaevent length.");if(a.hour=e.readUint8(),r&&23<a.hour)throw new Error(e.pos()+" SMTPE offset hour value must be part of 0-23.");if(a.minutes=e.readUint8(),r&&59<a.minutes)throw new Error(e.pos()+" SMTPE offset minutes value must be part of 0-59.");if(a.seconds=e.readUint8(),r&&59<a.seconds)throw new Error(e.pos()+" SMTPE offset seconds value must be part of 0-59.");if(a.frames=e.readUint8(),r&&30<a.frames)throw new Error(e.pos()+" SMTPE offset frames value must be part of 0-30.");if(a.subframes=e.readUint8(),r&&99<a.subframes)throw new Error(e.pos()+" SMTPE offset subframes value must be part of 0-99.");return a;case n.EVENT_META_KEY_SIGNATURE:if(r&&2!==a.length)throw new Error(e.pos()+" Bad metaevent length.");if(a.key=e.readUint8(),r&&(-7>a.key||7<a.key))throw new Error(e.pos()+" Bad metaevent length.");if(a.scale=e.readUint8(),r&&0!==a.scale&&1!==a.scale)throw new Error(e.pos()+" Key signature scale value must be 0 or 1.");return a;case n.EVENT_META_TIME_SIGNATURE:if(r&&4!==a.length)throw new Error(e.pos()+" Bad metaevent length.");return a.data=e.readBytes(a.length),a.param1=a.data[0],a.param2=a.data[1],a.param3=a.data[2],a.param4=a.data[3],a;case n.EVENT_META_SEQUENCER_SPECIFIC:return a.data=e.readBytes(a.length),a;default:if(r)throw new Error(e.pos()+" Unknown meta event type ("+a.subtype.toString(16)+").");return a.data=e.readBytes(a.length),a}}else{if(0==(128&s)){if(!o)throw new Error(e.pos()+" Running status without previous event");l=s}else o=s>>4,i=15&s,l=e.readUint8();switch(a.type=n.EVENT_MIDI,a.subtype=o,a.channel=i,a.param1=l,o){case n.EVENT_MIDI_NOTE_OFF:return a.param2=e.readUint8(),a;case n.EVENT_MIDI_NOTE_ON:return a.param2=e.readUint8(),a.param2||(a.subtype=n.EVENT_MIDI_NOTE_OFF,a.param2=127),a;case n.EVENT_MIDI_NOTE_AFTERTOUCH:case n.EVENT_MIDI_CONTROLLER:return a.param2=e.readUint8(),a;case n.EVENT_MIDI_PROGRAM_CHANGE:case n.EVENT_MIDI_CHANNEL_AFTERTOUCH:return a;case n.EVENT_MIDI_PITCH_BEND:return a.param2=e.readUint8(),a;default:if(r)throw new Error(e.pos()+" Unknown MIDI event type ("+o.toString(16)+").");return a}}}}},n.writeToTrack=function(e,t,r){var s,a,o,i,l=0;for(s=0,a=e.length;s<a;s++){if(e[s].delta>>>28)throw Error("Event #"+s+": Maximum delta time value reached ("+e[s].delta+"/134217728 max)");if(e[s].delta>>>21&&(t[l++]=e[s].delta>>>21&127|128),e[s].delta>>>14&&(t[l++]=e[s].delta>>>14&127|128),e[s].delta>>>7&&(t[l++]=e[s].delta>>>7&127|128),t[l++]=127&e[s].delta,e[s].type===n.EVENT_MIDI)t[l++]=(e[s].subtype<<4)+e[s].channel,t[l++]=e[s].param1,-1!==n.MIDI_2PARAMS_EVENTS.indexOf(e[s].subtype)&&(t[l++]=e[s].param2);else{if(t[l++]=e[s].type,e[s].type===n.EVENT_META&&(t[l++]=e[s].subtype),e[s].length>>>28)throw Error("Event #"+s+": Maximum length reached ("+e[s].length+"/134217728 max)");if(e[s].length>>>21&&(t[l++]=e[s].length>>>21&127|128),e[s].length>>>14&&(t[l++]=e[s].length>>>14&127|128),e[s].length>>>7&&(t[l++]=e[s].length>>>7&127|128),t[l++]=127&e[s].length,e[s].type===n.EVENT_META)switch(e[s].subtype){case n.EVENT_META_SEQUENCE_NUMBER:t[l++]=e[s].msb,t[l++]=e[s].lsb;break;case n.EVENT_META_TEXT:case n.EVENT_META_COPYRIGHT_NOTICE:case n.EVENT_META_TRACK_NAME:case n.EVENT_META_INSTRUMENT_NAME:case n.EVENT_META_LYRICS:case n.EVENT_META_MARKER:case n.EVENT_META_CUE_POINT:for(o=0,i=e[s].length;o<i;o++)t[l++]=e[s].data[o];break;case n.EVENT_META_MIDI_CHANNEL_PREFIX:t[l++]=e[s].prefix;break;case n.EVENT_META_END_OF_TRACK:break;case n.EVENT_META_SET_TEMPO:t[l++]=e[s].tempo>>16,t[l++]=e[s].tempo>>8&255,t[l++]=255&e[s].tempo;break;case n.EVENT_META_SMTPE_OFFSET:if(r&&23<e[s].hour)throw new Error("Event #"+s+": SMTPE offset hour value must be part of 0-23.");if(t[l++]=e[s].hour,r&&59<e[s].minutes)throw new Error("Event #"+s+": SMTPE offset minutes value must be part of 0-59.");if(t[l++]=e[s].minutes,r&&59<e[s].seconds)throw new Error("Event #"+s+": SMTPE offset seconds value must be part of 0-59.");if(t[l++]=e[s].seconds,r&&30<e[s].frames)throw new Error("Event #"+s+": SMTPE offset frames amount must be part of 0-30.");if(t[l++]=e[s].frames,r&&99<e[s].subframes)throw new Error("Event #"+s+": SMTPE offset subframes amount must be part of 0-99.");t[l++]=e[s].subframes;break;case n.EVENT_META_KEY_SIGNATURE:if("number"!=typeof e[s].key||-7>e[s].key||7<e[s].scale)throw new Error("Event #"+s+":The key signature key must be between -7 and 7");if("number"!=typeof e[s].scale||0>e[s].scale||1<e[s].scale)throw new Error("Event #"+s+":The key signature scale must be 0 or 1");t[l++]=e[s].key,t[l++]=e[s].scale;break;case n.EVENT_META_TIME_SIGNATURE:case n.EVENT_META_SEQUENCER_SPECIFIC:default:for(o=0,i=e[s].length;o<i;o++)t[l++]=e[s].data[o]}else for(o=0,i=e[s].length;o<i;o++)t[l++]=e[s].data[o]}}},n.getRequiredBufferLength=function(e){var t,r=0,s=0;for(s=0,t=e.length;s<t;s++)r+=e[s].delta>>>21?4:e[s].delta>>>14?3:e[s].delta>>>7?2:1,e[s].type===n.EVENT_MIDI?(r++,r++,-1!==n.MIDI_2PARAMS_EVENTS.indexOf(e[s].subtype)&&r++):(r++,e[s].type===n.EVENT_META&&r++,r+=e[s].length>>>21?4:e[s].length>>>14?3:e[s].length>>>7?2:1,r+=e[s].length);return r},e.exports=n},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return g})),r.d(t,"d",(function(){return d})),r.d(t,"e",(function(){return v}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=63&s|128):55296==(64512&s)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=63&s|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=63&s|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const s=e[t],a=t+1<e.length,o=a?e[t+1]:0,i=t+2<e.length,l=i?e[t+2]:0,u=s>>2,c=(3&s)<<4|o>>4;let d=(15&o)<<2|l>>6,f=63&l;i||(f=64,a||(d=64)),n.push(r[u],r[c],r[d],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[r++];t[n++]=String.fromCharCode((31&s)<<6|63&a)}else if(s>239&&s<365){const a=((7&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const s=r[e.charAt(t++)],a=t<e.length?r[e.charAt(t)]:0;++t;const i=t<e.length?r[e.charAt(t)]:64;++t;const l=t<e.length?r[e.charAt(t)]:64;if(++t,null==s||null==a||null==i||null==l)throw new o;const u=s<<2|a>>4;if(n.push(u),64!==i){const e=a<<4&240|i>>2;if(n.push(e),64!==l){const e=i<<6&192|l;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=s(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===n)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},d=e=>{const t=(e=>{var t,r;return null===(r=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]})(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/"+r,aud:r,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(a)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,s=this.errors[e],a=s?function(e,t){return e.replace(h,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(s,r):"Error",o=`${this.serviceName}: ${a} (${n}).`;return new m(n,o,r)}}const h=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const r=e[s],a=t[s];if(b(r)&&b(a)){if(!g(r,a))return!1}else if(r!==a)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function b(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function v(e){return e&&e._delegate?e._delegate:e}}).call(this,r(15),r(19))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));function n(e,{include:t,exclude:r}={}){const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(n):!r||!r.some(n)};for(const[t,r]of(e=>{const t=new Set;do{for(const r of Reflect.ownKeys(e))t.add([e,r])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===r||!n(r))continue;const s=Reflect.getOwnPropertyDescriptor(t,r);s&&"function"==typeof s.value&&(e[r]=e[r].bind(e))}return e}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return V})),r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return I})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return _})),r.d(t,"f",(function(){return O})),r.d(t,"g",(function(){return L})),r.d(t,"h",(function(){return U})),r.d(t,"i",(function(){return F}));var n=r(14),s=r(0),a=r.n(s),o=r(2),i=r.n(o),l=r(12),u=r(13),c=r(9),d=r(39),f=r.n(d),m=(r(21),r(17)),p=r(16),h=r.n(p),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function b(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(r,n){e=r,t.forEach((function(t){return t(e,n)}))}}}var v=a.a.createContext||function(e,t){var r,s,o="__create-react-context-"+function(){var e="__global_unique_id__";return g[e]=(g[e]||0)+1}()+"__",l=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).emitter=b(t.props.value),t}Object(n.a)(r,e);var s=r.prototype;return s.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},s.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var r,n=this.props.value,s=e.value;((a=n)===(o=s)?0!==a||1/a==1/o:a!=a&&o!=o)?r=0:(r="function"==typeof t?t(n,s):1073741823,0!==(r|=0)&&this.emitter.set(e.value,r))}var a,o},s.render=function(){return this.props.children},r}(a.a.Component);l.childContextTypes=((r={})[o]=i.a.object.isRequired,r);var u=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,r){0!=((0|e.observedBits)&r)&&e.setState({value:e.getValue()})},e}Object(n.a)(r,t);var s=r.prototype;return s.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},s.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},s.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},s.getValue=function(){return this.context[o]?this.context[o].get():e},s.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},r}(a.a.Component);return u.contextTypes=((s={})[o]=i.a.object,s),{Provider:l,Consumer:u}},y=function(e){var t=v();return t.displayName=e,t},M=y("Router-History"),_=y("Router"),I=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={location:t.history.location},r._isMounted=!1,r._pendingLocation=null,t.staticContext||(r.unlisten=t.history.listen((function(e){r._pendingLocation=e}))),r}Object(n.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return a.a.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(M.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;var P=function(e){function t(){return e.apply(this,arguments)||this}Object(n.a)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(a.a.Component);var N={},S=0;function E(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(N[e])return N[e];var t=f.a.compile(e);return S<1e4&&(N[e]=t,S++),t}(e)(t,{pretty:!0})}function V(e){var t=e.computedMatch,r=e.to,n=e.push,s=void 0!==n&&n;return a.a.createElement(_.Consumer,null,(function(e){e||Object(u.a)(!1);var n=e.history,o=e.staticContext,i=s?n.push:n.replace,d=Object(l.c)(t?"string"==typeof r?E(r,t.params):Object(c.a)({},r,{pathname:E(r.pathname,t.params)}):r);return o?(i(d),null):a.a.createElement(P,{onMount:function(){i(d)},onUpdate:function(e,t){var r=Object(l.c)(t.to);Object(l.f)(r,Object(c.a)({},d,{key:r.key}))||i(d)},to:r})}))}var w={},T=0;function O(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,s=r.exact,a=void 0!==s&&s,o=r.strict,i=void 0!==o&&o,l=r.sensitive,u=void 0!==l&&l;return[].concat(n).reduce((function(t,r){if(!r&&""!==r)return null;if(t)return t;var n=function(e,t){var r=""+t.end+t.strict+t.sensitive,n=w[r]||(w[r]={});if(n[e])return n[e];var s=[],a={regexp:f()(e,s,t),keys:s};return T<1e4&&(n[e]=a,T++),a}(r,{end:a,strict:i,sensitive:u}),s=n.regexp,o=n.keys,l=s.exec(e);if(!l)return null;var c=l[0],d=l.slice(1),m=e===c;return a&&!m?null:{path:r,url:"/"===r&&""===c?"/":c,isExact:m,params:o.reduce((function(e,t,r){return e[t.name]=d[r],e}),{})}}),null)}var k=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(_.Consumer,null,(function(t){t||Object(u.a)(!1);var r=e.props.location||t.location,n=e.props.computedMatch?e.props.computedMatch:e.props.path?O(r.pathname,e.props):t.match,s=Object(c.a)({},t,{location:r,match:n}),o=e.props,i=o.children,l=o.component,d=o.render;return Array.isArray(i)&&function(e){return 0===a.a.Children.count(e)}(i)&&(i=null),a.a.createElement(_.Provider,{value:s},s.match?i?"function"==typeof i?i(s):i:l?a.a.createElement(l,s):d?d(s):null:"function"==typeof i?i(s):null)}))},t}(a.a.Component);function x(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var r=x(e);return 0!==t.pathname.indexOf(r)?t:Object(c.a)({},t,{pathname:t.pathname.substr(r.length)})}function A(e){return"string"==typeof e?e:Object(l.e)(e)}function C(e){return function(){Object(u.a)(!1)}}function D(){}a.a.Component;var j=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(_.Consumer,null,(function(t){t||Object(u.a)(!1);var r,n,s=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==n&&a.a.isValidElement(e)){r=e;var o=e.props.path||e.props.from;n=o?O(s.pathname,Object(c.a)({},e.props,{path:o})):t.match}})),n?a.a.cloneElement(r,{location:s,computedMatch:n}):null}))},t}(a.a.Component);function F(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(t){var r=t.wrappedComponentRef,n=Object(m.a)(t,["wrappedComponentRef"]);return a.a.createElement(_.Consumer,null,(function(t){return t||Object(u.a)(!1),a.a.createElement(e,Object(c.a)({},n,t,{ref:r}))}))};return r.displayName=t,r.WrappedComponent=e,h()(r,e)}var B=a.a.useContext;function L(){return B(M)}function U(){return B(_).location}}).call(this,r(15))},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var s=e[n];"."===s?e.splice(n,1):".."===s?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",s=!1,a=arguments.length-1;a>=-1&&!s;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,s="/"===o.charAt(0))}return(s?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!s).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===s(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var s=n(e.split("/")),a=n(r.split("/")),o=Math.min(s.length,a.length),i=o,l=0;l<o;l++)if(s[l]!==a[l]){i=l;break}var u=[];for(l=i;l<s.length;l++)u.push("..");return(u=u.concat(a.slice(i))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!s){n=a;break}}else s=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,s=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!s){r=t+1;break}}else-1===n&&(s=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var i=e.charCodeAt(o);if(47!==i)-1===n&&(s=!1,n=o+1),46===i?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!s){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(19))},function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";t.decode=t.parse=r(107),t.encode=t.stringify=r(108)},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return m}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=63&s|128):55296==(64512&s)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=63&s|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=63&s|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const s=e[t],a=t+1<e.length,o=a?e[t+1]:0,i=t+2<e.length,l=i?e[t+2]:0,u=s>>2,c=(3&s)<<4|o>>4;let d=(15&o)<<2|l>>6,f=63&l;i||(f=64,a||(d=64)),n.push(r[u],r[c],r[d],r[f])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const s=e[r++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[r++];t[n++]=String.fromCharCode((31&s)<<6|63&a)}else if(s>239&&s<365){const a=((7&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const s=r[e.charAt(t++)],a=t<e.length?r[e.charAt(t)]:0;++t;const i=t<e.length?r[e.charAt(t)]:64;++t;const l=t<e.length?r[e.charAt(t)]:64;if(++t,null==s||null==a||null==i||null==l)throw new o;const u=s<<2|a>>4;if(n.push(u),64!==i){const e=a<<4&240|i>>2;if(n.push(e),64!==l){const e=i<<6&192|l;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i=function(e){return function(e){const t=s(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return u()||(()=>{if(void 0===n)return;const e=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config};function f(){try{return"object"==typeof indexedDB}catch(e){return!1}}function m(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class p extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,s=this.errors[e],a=s?function(e,t){return e.replace(g,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(s,r):"Error",o=`${this.serviceName}: ${a} (${n}).`;return new p(n,o,r)}}const g=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return!1;const r=e[s],a=t[s];if(v(r)&&v(a)){if(!b(r,a))return!1}else if(r!==a)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function v(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,r(15),r(19))},function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return E})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return h})),r.d(t,"f",(function(){return g})),r.d(t,"e",(function(){return p}));var n=r(9);function s(e){return"/"===e.charAt(0)}function a(e,t){for(var r=t,n=r+1,s=e.length;n<s;r+=1,n+=1)e[r]=e[n];e.pop()}var o=function(e,t){void 0===t&&(t="");var r,n=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&s(e),l=t&&s(t),u=i||l;if(e&&s(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";if(o.length){var c=o[o.length-1];r="."===c||".."===c||""===c}else r=!1;for(var d=0,f=o.length;f>=0;f--){var m=o[f];"."===m?a(o,f):".."===m?(a(o,f),d++):d&&(a(o,f),d--)}if(!u)for(;d--;d)o.unshift("..");!u||""===o[0]||o[0]&&s(o[0])||o.unshift("");var p=o.join("/");return r&&"/"!==p.substr(-1)&&(p+="/"),p};function i(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if("object"==typeof t||"object"==typeof r){var n=i(t),s=i(r);return n!==t||s!==r?e(n,s):Object.keys(Object.assign({},t,r)).every((function(n){return e(t[n],r[n])}))}return!1},u=r(13);function c(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,r=e.search,n=e.hash,s=t||"/";return r&&"?"!==r&&(s+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(s+="#"===n.charAt(0)?n:"#"+n),s}function h(e,t,r,s){var a;"string"==typeof e?(a=function(e){var t=e||"/",r="",n="",s=t.indexOf("#");-1!==s&&(n=t.substr(s),t=t.substr(0,s));var a=t.indexOf("?");return-1!==a&&(r=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e)).state=t:(void 0===(a=Object(n.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(a.key=r),s?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,s.pathname)):a.pathname=s.pathname:a.pathname||(a.pathname="/"),a}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function b(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,s){if(null!=e){var a="function"==typeof e?e(t,r):e;"string"==typeof a?"function"==typeof n?n(a,s):s(!0):s(!1!==a)}else s(!0)},appendListener:function(e){var r=!0;function n(){r&&e.apply(void 0,arguments)}return t.push(n),function(){r=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,r)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}function M(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),v||Object(u.a)(!1);var t,r=window.history,s=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,i=o.forceRefresh,l=void 0!==i&&i,d=o.getUserConfirmation,g=void 0===d?y:d,_=o.keyLength,I=void 0===_?6:_,P=e.basename?m(c(e.basename)):"";function N(e){var t=e||{},r=t.key,n=t.state,s=window.location,a=s.pathname+s.search+s.hash;return P&&(a=f(a,P)),h(a,n,r)}function S(){return Math.random().toString(36).substr(2,I)}var E=b();function V(e){Object(n.a)(B,e),B.length=r.length,E.notifyListeners(B.location,B.action)}function w(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(N(e.state))}function T(){k(N(M()))}var O=!1;function k(e){if(O)O=!1,V();else{E.confirmTransitionTo(e,"POP",g,(function(t){t?V({action:"POP",location:e}):function(e){var t=B.location,r=R.indexOf(t.key);-1===r&&(r=0);var n=R.indexOf(e.key);-1===n&&(n=0);var s=r-n;s&&(O=!0,C(s))}(e)}))}}var x=N(M()),R=[x.key];function A(e){return P+p(e)}function C(e){r.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?(window.addEventListener("popstate",w),a&&window.addEventListener("hashchange",T)):0===D&&(window.removeEventListener("popstate",w),a&&window.removeEventListener("hashchange",T))}var F=!1;var B={length:r.length,action:"POP",location:x,createHref:A,push:function(e,t){var n=h(e,t,S(),B.location);E.confirmTransitionTo(n,"PUSH",g,(function(e){if(e){var t=A(n),a=n.key,o=n.state;if(s)if(r.pushState({key:a,state:o},null,t),l)window.location.href=t;else{var i=R.indexOf(B.location.key),u=R.slice(0,i+1);u.push(n.key),R=u,V({action:"PUSH",location:n})}else window.location.href=t}}))},replace:function(e,t){var n=h(e,t,S(),B.location);E.confirmTransitionTo(n,"REPLACE",g,(function(e){if(e){var t=A(n),a=n.key,o=n.state;if(s)if(r.replaceState({key:a,state:o},null,t),l)window.location.replace(t);else{var i=R.indexOf(B.location.key);-1!==i&&(R[i]=n.key),V({action:"REPLACE",location:n})}else window.location.replace(t)}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=E.appendListener(e);return j(1),function(){j(-1),t()}}};return B}var I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:c},slash:{encodePath:c,decodePath:c}};function P(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function S(e){window.location.replace(P(window.location.href)+"#"+e)}function E(e){void 0===e&&(e={}),v||Object(u.a)(!1);var t=window.history,r=(window.navigator.userAgent.indexOf("Firefox"),e),s=r.getUserConfirmation,a=void 0===s?y:s,o=r.hashType,i=void 0===o?"slash":o,l=e.basename?m(c(e.basename)):"",d=I[i],g=d.encodePath,M=d.decodePath;function _(){var e=M(N());return l&&(e=f(e,l)),h(e)}var E=b();function V(e){Object(n.a)(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)}var w=!1,T=null;function O(){var e,t,r=N(),n=g(r);if(r!==n)S(n);else{var s=_(),o=B.location;if(!w&&(t=s,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(T===p(s))return;T=null,function(e){if(w)w=!1,V();else{E.confirmTransitionTo(e,"POP",a,(function(t){t?V({action:"POP",location:e}):function(e){var t=B.location,r=A.lastIndexOf(p(t));-1===r&&(r=0);var n=A.lastIndexOf(p(e));-1===n&&(n=0);var s=r-n;s&&(w=!0,C(s))}(e)}))}}(s)}}var k=N(),x=g(k);k!==x&&S(x);var R=_(),A=[p(R)];function C(e){t.go(e)}var D=0;function j(e){1===(D+=e)&&1===e?window.addEventListener("hashchange",O):0===D&&window.removeEventListener("hashchange",O)}var F=!1;var B={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),r="";return t&&t.getAttribute("href")&&(r=P(window.location.href)),r+"#"+g(l+p(e))},push:function(e,t){var r=h(e,void 0,void 0,B.location);E.confirmTransitionTo(r,"PUSH",a,(function(e){if(e){var t=p(r),n=g(l+t);if(N()!==n){T=t,function(e){window.location.hash=e}(n);var s=A.lastIndexOf(p(B.location)),a=A.slice(0,s+1);a.push(t),A=a,V({action:"PUSH",location:r})}else V()}}))},replace:function(e,t){var r=h(e,void 0,void 0,B.location);E.confirmTransitionTo(r,"REPLACE",a,(function(e){if(e){var t=p(r),n=g(l+t);N()!==n&&(T=t,S(n));var s=A.indexOf(p(B.location));-1!==s&&(A[s]=t),V({action:"REPLACE",location:r})}}))},go:C,goBack:function(){C(-1)},goForward:function(){C(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),t()}},listen:function(e){var t=E.appendListener(e);return j(1),function(){j(-1),t()}}};return B}function V(e,t,r){return Math.min(Math.max(e,t),r)}function w(e){void 0===e&&(e={});var t=e,r=t.getUserConfirmation,s=t.initialEntries,a=void 0===s?["/"]:s,o=t.initialIndex,i=void 0===o?0:o,l=t.keyLength,u=void 0===l?6:l,c=b();function d(e){Object(n.a)(M,e),M.length=M.entries.length,c.notifyListeners(M.location,M.action)}function f(){return Math.random().toString(36).substr(2,u)}var m=V(i,0,a.length-1),g=a.map((function(e){return h(e,void 0,"string"==typeof e?f():e.key||f())})),v=p;function y(e){var t=V(M.index+e,0,M.entries.length-1),n=M.entries[t];c.confirmTransitionTo(n,"POP",r,(function(e){e?d({action:"POP",location:n,index:t}):d()}))}var M={length:g.length,action:"POP",location:g[m],index:m,entries:g,createHref:v,push:function(e,t){var n=h(e,t,f(),M.location);c.confirmTransitionTo(n,"PUSH",r,(function(e){if(e){var t=M.index+1,r=M.entries.slice(0);r.length>t?r.splice(t,r.length-t,n):r.push(n),d({action:"PUSH",location:n,index:t,entries:r})}}))},replace:function(e,t){var n=h(e,t,f(),M.location);c.confirmTransitionTo(n,"REPLACE",r,(function(e){e&&(M.entries[M.index]=n,d({action:"REPLACE",location:n}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=M.index+e;return t>=0&&t<M.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return M}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n="Invariant failed";function s(e,t){if(!e)throw new Error(n)}},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,"a",(function(){return s}))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(21),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return n.isMemo(e)?o:i[e.$$typeof]||s}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(p){var s=m(r);s&&s!==p&&e(t,s,n)}var o=c(r);d&&(o=o.concat(d(r)));for(var i=l(t),h=l(r),g=0;g<o.length;++g){var b=o[g];if(!(a[b]||n&&n[b]||h&&h[b]||i&&i[b])){var v=f(r,b);try{u(t,b,v)}catch(e){}}}}return t}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";(function(e){var n=r(21),s=r(0),a=r.n(s),o=r(60),i=r.n(o),l=r(61),u=r(62),c=r(40),d=r(16),f=r.n(d);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e,t){for(var r=[e[0]],n=0,s=t.length;n<s;n+=1)r.push(t[n],e[n+1]);return r},h=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(n.typeOf)(e)},g=Object.freeze([]),b=Object.freeze({});function v(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function M(e){return e&&"string"==typeof e.styledComponentId}var _=void 0!==e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"})&&(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_ATTR)||"data-styled",I="undefined"!=typeof window&&"HTMLElement"in window,P=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"})&&(void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).REACT_APP_SC_DISABLE_SPEEDY:void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GOOGLE_ANALYTICS_ID:"UA-XXXXXXXXXX"}).SC_DISABLE_SPEEDY)));function N(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var S=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,s=n;e>=s;)(s<<=1)<0&&N(16,""+e);this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=n;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),i=0,l=t.length;i<l;i++)this.tag.insertRule(o,t[i])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var s=r;s<n;s++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),s=n+r,a=n;a<s;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),E=new Map,V=new Map,w=1,T=function(e){if(E.has(e))return E.get(e);for(;V.has(w);)w++;var t=w++;return E.set(e,t),V.set(t,e),t},O=function(e){return V.get(e)},k=function(e,t){t>=w&&(w=t+1),E.set(e,t),V.set(t,e)},x="style["+_+'][data-styled-version="5.3.11"]',R=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),A=function(e,t,r){for(var n,s=r.split(","),a=0,o=s.length;a<o;a++)(n=s[a])&&e.registerName(t,n)},C=function(e,t){for(var r=(t.textContent||"").split("/*!sc*/\n"),n=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var i=o.match(R);if(i){var l=0|parseInt(i[1],10),u=i[2];0!==l&&(k(u,l),A(e,u,i[3]),e.getTag().insertRules(l,n)),n.length=0}else n.push(o)}}},D=function(){return r.nc},j=function(e){var t=document.head,r=e||t,n=document.createElement("style"),s=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(_))return n}}(r),a=void 0!==s?s.nextSibling:null;n.setAttribute(_,"active"),n.setAttribute("data-styled-version","5.3.11");var o=D();return o&&n.setAttribute("nonce",o),r.insertBefore(n,a),n},F=function(){function e(e){var t=this.element=j(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var s=t[r];if(s.ownerNode===e)return s}N(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),B=function(){function e(e){var t=this.element=j(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),L=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),U=I,q={isServer:!I,useCSSOMInjection:!P},z=function(){function e(e,t,r){void 0===e&&(e=b),void 0===t&&(t={}),this.options=m({},q,{},e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&I&&U&&(U=!1,function(e){for(var t=document.querySelectorAll(x),r=0,n=t.length;r<n;r++){var s=t[r];s&&"active"!==s.getAttribute(_)&&(C(e,s),s.parentNode&&s.parentNode.removeChild(s))}}(this))}e.registerId=function(e){return T(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(m({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,s=t.target,e=r?new L(s):n?new F(s):new B(s),new S(e)));var e,t,r,n,s},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(T(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(T(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(T(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",s=0;s<r;s++){var a=O(s);if(void 0!==a){var o=e.names.get(a),i=t.getGroup(s);if(o&&i&&o.size){var l=_+".g"+s+'[id="'+a+'"]',u="";void 0!==o&&o.forEach((function(e){e.length>0&&(u+=e+",")})),n+=""+i+l+'{content:"'+u+'"}/*!sc*/\n'}}}return n}(this)},e}(),H=/(a)(d)/gi,W=function(e){return String.fromCharCode(e+(e>25?39:97))};function G(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=W(t%52)+r;return(W(t%52)+r).replace(H,"$1-$2")}var $=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},X=function(e){return $(5381,e)};function K(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(v(r)&&!M(r))return!1}return!0}var Y=X("5.3.11"),J=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&K(e),this.componentId=t,this.baseHash=$(Y,t),this.baseStyle=r,z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))s.push(this.staticRulesId);else{var a=he(this.rules,e,t,r).join(""),o=G($(this.baseHash,a)>>>0);if(!t.hasNameForId(n,o)){var i=r(a,"."+o,void 0,n);t.insertRules(n,o,i)}s.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,u=$(this.baseHash,r.hash),c="",d=0;d<l;d++){var f=this.rules[d];if("string"==typeof f)c+=f;else if(f){var m=he(f,e,t,r),p=Array.isArray(m)?m.join(""):m;u=$(u,p+d),c+=p}}if(c){var h=G(u>>>0);if(!t.hasNameForId(n,h)){var g=r(c,"."+h,void 0,n);t.insertRules(n,h,g)}s.push(h)}}return s.join(" ")},e}(),Q=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,r,n,s,a=void 0===e?b:e,o=a.options,i=void 0===o?b:o,u=a.plugins,c=void 0===u?g:u,d=new l.a(i),f=[],m=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,s,a,o,i,l,u,c,d){switch(r){case 1:if(0===c&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===u)return n+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(s[0]+n),"";default:return n+(0===d?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,n,a){return 0===n&&-1!==Z.indexOf(a[r.length])||a.match(s)?e:"."+t};function h(e,a,o,i){void 0===i&&(i="&");var l=e.replace(Q,""),u=a&&o?o+" "+a+" { "+l+" }":l;return t=i,r=a,n=new RegExp("\\"+r+"\\b","g"),s=new RegExp("(\\"+r+"\\b){2,}"),d(o||!a?"":a,u)}return d.use([].concat(c,[function(e,t,s){2===e&&s.length&&s[0].lastIndexOf(r)>0&&(s[0]=s[0].replace(n,p))},m,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=c.length?c.reduce((function(e,t){return t.name||N(15),$(e,t.name)}),5381).toString():"",h}var te=a.a.createContext(),re=(te.Consumer,a.a.createContext()),ne=(re.Consumer,new z),se=ee();function ae(){return Object(s.useContext)(te)||ne}function oe(){return Object(s.useContext)(re)||se}function ie(e){var t=Object(s.useState)(e.stylisPlugins),r=t[0],n=t[1],o=ae(),l=Object(s.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=Object(s.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return Object(s.useEffect)((function(){i()(r,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]),a.a.createElement(te.Provider,{value:l},a.a.createElement(re.Provider,{value:u},e.children))}var le=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=se);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return N(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=se),this.name+e.hash},e}(),ue=/([A-Z])/,ce=/([A-Z])/g,de=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function me(e){return ue.test(e)?e.replace(ce,fe).replace(de,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function he(e,t,r,n){if(Array.isArray(e)){for(var s,a=[],o=0,i=e.length;o<i;o+=1)""!==(s=he(e[o],t,r,n))&&(Array.isArray(s)?a.push.apply(a,s):a.push(s));return a}return pe(e)?"":M(e)?"."+e.styledComponentId:v(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:he(e(t),t,r,n):e instanceof le?r?(e.inject(r,n),e.getName(n)):e:h(e)?function e(t,r){var n,s,a=[];for(var o in t)t.hasOwnProperty(o)&&!pe(t[o])&&(Array.isArray(t[o])&&t[o].isCss||v(t[o])?a.push(me(o)+":",t[o],";"):h(t[o])?a.push.apply(a,e(t[o],o)):a.push(me(o)+": "+(n=o,(null==(s=t[o])||"boolean"==typeof s||""===s?"":"number"!=typeof s||0===s||n in u.a||n.startsWith("--")?String(s).trim():s+"px")+";")));return r?[r+" {"].concat(a,["}"]):a}(e):e.toString();var l}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function be(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return v(e)||h(e)?ge(he(p(g,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:ge(he(p(e,r)))}new Set;var ve=function(e,t,r){return void 0===r&&(r=b),e.theme!==r.theme&&e.theme||t||r.theme},ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Me=/(^-|-$)/g;function _e(e){return e.replace(ye,"-").replace(Me,"")}var Ie=function(e){return G(X(e)>>>0)};function Pe(e){return"string"==typeof e&&!0}var Ne=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ee(e,t,r){var n=e[r];Ne(t)&&Ne(n)?Ve(n,t):e[r]=t}function Ve(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var s=0,a=r;s<a.length;s++){var o=a[s];if(Ne(o))for(var i in o)Se(i)&&Ee(e,o[i],i)}return e}var we=a.a.createContext();we.Consumer;var Te={};function Oe(e,t,r){var n=M(e),o=!Pe(e),i=t.attrs,l=void 0===i?g:i,u=t.componentId,d=void 0===u?function(e,t){var r="string"!=typeof e?"sc":_e(e);Te[r]=(Te[r]||0)+1;var n=r+"-"+Ie("5.3.11"+r+Te[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):u,p=t.displayName,h=void 0===p?function(e){return Pe(e)?"styled."+e:"Styled("+y(e)+")"}(e):p,_=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||d,I=n&&e.attrs?Array.prototype.concat(e.attrs,l).filter(Boolean):l,P=t.shouldForwardProp;n&&e.shouldForwardProp&&(P=t.shouldForwardProp?function(r,n,s){return e.shouldForwardProp(r,n,s)&&t.shouldForwardProp(r,n,s)}:e.shouldForwardProp);var N,S=new J(r,_,n?e.componentStyle:void 0),E=S.isStatic&&0===l.length,V=function(e,t){return function(e,t,r,n){var a=e.attrs,o=e.componentStyle,i=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,d=e.styledComponentId,f=e.target,p=function(e,t,r){void 0===e&&(e=b);var n=m({},t,{theme:e}),s={};return r.forEach((function(e){var t,r,a,o=e;for(t in v(o)&&(o=o(n)),o)n[t]=s[t]="className"===t?(r=s[t],a=o[t],r&&a?r+" "+a:r||a):o[t]})),[n,s]}(ve(t,Object(s.useContext)(we),i)||b,t,a),h=p[0],g=p[1],y=function(e,t,r,n){var s=ae(),a=oe();return t?e.generateAndInjectStyles(b,s,a):e.generateAndInjectStyles(r,s,a)}(o,n,h),M=r,_=g.$as||t.$as||g.as||t.as||f,I=Pe(_),P=g!==t?m({},t,{},g):t,N={};for(var S in P)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?N.as=P[S]:(u?u(S,c.a,_):!I||Object(c.a)(S))&&(N[S]=P[S]));return t.style&&g.style!==t.style&&(N.style=m({},t.style,{},g.style)),N.className=Array.prototype.concat(l,d,y!==d?y:null,t.className,g.className).filter(Boolean).join(" "),N.ref=M,Object(s.createElement)(_,N)}(N,e,t,E)};return V.displayName=h,(N=a.a.forwardRef(V)).attrs=I,N.componentStyle=S,N.displayName=h,N.shouldForwardProp=P,N.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,N.styledComponentId=_,N.target=n?e.target:e,N.withComponent=function(e){var n=t.componentId,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(t,["componentId"]),a=n&&n+"-"+(Pe(e)?e:_e(y(e)));return Oe(e,m({},s,{attrs:I,componentId:a}),r)},Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?Ve({},e.defaultProps,t):t}}),Object.defineProperty(N,"toString",{value:function(){return"."+N.styledComponentId}}),o&&f()(N,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),N}var ke=function(e){return function e(t,r,s){if(void 0===s&&(s=b),!Object(n.isValidElementType)(r))return N(1,String(r));var a=function(){return t(r,s,be.apply(void 0,arguments))};return a.withConfig=function(n){return e(t,r,m({},s,{},n))},a.attrs=function(n){return e(t,r,m({},s,{attrs:Array.prototype.concat(s.attrs,n).filter(Boolean)}))},a}(Oe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ke[e]=ke(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=K(e),z.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,r,n){var s=n(he(this.rules,t,r,n).join(""),""),a=this.componentId+e;r.insertRules(a,a,s)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&z.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=D();return"<style "+[r&&'nonce="'+r+'"',_+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?N(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return N(2);var r=((t={})[_]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=D();return n&&(r.nonce=n),[a.a.createElement("style",m({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new z({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?N(2):a.a.createElement(ie,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return N(3)}}();t.a=ke}).call(this,r(19))},function(e,t){var r,n,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&m())}function m(){if(!c){var e=i(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||i(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=h,s.addListener=h,s.once=h,s.off=h,s.removeListener=h,s.removeAllListeners=h,s.emit=h,s.prependListener=h,s.prependOnceListener=h,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=r(77)},function(e,t,r){"use strict";e.exports=r(112)},function(e,t,r){"use strict";function n(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(137),s=r(138),a=r(4),o=r(139);function i(e,t){var r,a,o,i;if(e){if(25>(e=function(e){if(e){if(e instanceof ArrayBuffer)return e;if(e instanceof Uint8Array)return new Uint8Array(e).buffer}throw new Error("Unsupported buffer type, need ArrayBuffer or Uint8Array")}(e)).byteLength)throw new Error("A buffer of a valid MIDI file must have, at least, a size of 25bytes.");for(this.header=new n(e,t),this.tracks=[],a=n.HEADER_LENGTH,o=0,i=this.header.getTracksCount();o<i;o++){if(t&&a>=e.byteLength-1)throw new Error("Couldn't find datas corresponding to the track #"+o+".");r=new s(e,a,t),this.tracks.push(r),a+=r.getTrackLength()+8}if(t&&a!==e.byteLength)throw new Error("It seems that the buffer contains too much datas.")}else this.header=new n,this.tracks=[new s]}i.prototype.getEvents=function(e,t){var r,n,s,o,i,l,u=0,c=[],d=this.header.getFormat(),f=this.header.getTickResolution();if(1!==d||1===this.tracks.length)for(s=0,o=this.tracks.length;s<o;s++)for(u=2===d&&u?u:0,n=(r=a.createParser(this.tracks[s].getTrackContent(),0,!1)).next();n;)u+=n.delta?n.delta*f/1e3:0,n.type===a.EVENT_META&&n.subtype===a.EVENT_META_SET_TEMPO&&(f=this.header.getTickResolution(n.tempo)),e&&n.type!==e||t&&(!n.subtype||n.subtype!==t)||(n.playTime=u,c.push(n)),n=r.next();else{for(i=[],l=-1,s=0,o=this.tracks.length;s<o;s++)i[s]={},i[s].parser=a.createParser(this.tracks[s].getTrackContent(),0,!1),i[s].curEvent=i[s].parser.next();do{for(l=-1,s=0,o=i.length;s<o;s++)i[s].curEvent&&(-1===l||i[s].curEvent.delta<i[l].curEvent.delta)&&(l=s);if(-1!==l){for(s=0,o=i.length;s<o;s++)s!==l&&i[s].curEvent&&(i[s].curEvent.delta-=i[l].curEvent.delta);u+=(n=i[l].curEvent).delta?n.delta*f/1e3:0,n.type===a.EVENT_META&&n.subtype===a.EVENT_META_SET_TEMPO&&(f=this.header.getTickResolution(n.tempo)),e&&n.type!==e||t&&(!n.subtype||n.subtype!==t)||(n.playTime=u,n.track=l,c.push(n)),i[l].curEvent=i[l].parser.next()}}while(-1!==l)}return c},i.prototype.getMidiEvents=function(){return this.getEvents(a.EVENT_MIDI)},i.prototype.getLyrics=function(){var e,t,r,n=this.getEvents(a.EVENT_META),s=[],i=[];for(t=0,r=n.length;t<r;t++)(e=n[t]).subtype===a.EVENT_META_LYRICS?i.push(e):e.subtype===a.EVENT_META_TEXT&&("@"===String.fromCharCode(e.data[0])?"T"===String.fromCharCode(e.data[1])||"I"===String.fromCharCode(e.data[1])||String.fromCharCode(e.data[1]):0===String.fromCharCode.apply(String,e.data).indexOf("words")?s.length=0:0!==e.playTime&&s.push(e));2<i.length?s=i:s.length||(s=[]);try{s.forEach((function(e){e.text=o.getStringFromBytes(e.data,0,e.length,!0)}))}catch(e){s.forEach((function(e){e.text=e.data.map((function(e){return String.fromCharCode(e)})).join("")}))}return s},i.prototype.getTrackEvents=function(e){var t,r,n=[];if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=(r=a.createParser(this.tracks[e].getTrackContent(),0,!1)).next();do{n.push(t),t=r.next()}while(t);return n},i.prototype.setTrackEvents=function(e,t){var r,n;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");if(!t||!t.length)throw Error("A track must contain at least one event, none given.");r=a.getRequiredBufferLength(t),n=new Uint8Array(r),a.writeToTrack(t,n),this.tracks[e].setTrackContent(n)},i.prototype.deleteTrack=function(e){if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");this.tracks.splice(e,1),this.header.setTracksCount(this.tracks.length)},i.prototype.addTrack=function(e){var t;if(e>this.tracks.length||0>e)throw Error("Invalid track index ("+e+")");t=new s,e===this.tracks.length?this.tracks.push(t):this.tracks.splice(e,0,t),this.header.setTracksCount(this.tracks.length)},i.prototype.getContent=function(){var e,t,r,s,a,o,i,l,u;for(e=n.HEADER_LENGTH,s=0,a=this.tracks.length;s<a;s++)e+=this.tracks[s].getTrackLength()+8;for(t=new Uint8Array(e),r=new Uint8Array(this.header.datas.buffer,this.header.datas.byteOffset,n.HEADER_LENGTH),s=0,a=n.HEADER_LENGTH;s<a;s++)t[s]=r[s];for(o=0,i=this.tracks.length;o<i;o++)for(r=new Uint8Array(this.tracks[o].datas.buffer,this.tracks[o].datas.byteOffset,this.tracks[o].datas.byteLength),l=0,u=this.tracks[o].datas.byteLength;l<u;l++)t[s++]=r[l];return t.buffer},i.Header=n,i.Track=s,e.exports=i},function(e,t,r){e.exports=function e(t,r,n){function s(o,i){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return s(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){"use strict";t.exports={CalcCascades:e("./src/calcCascades"),Fft:e("./src/fft"),FirCoeffs:e("./src/firCoeffs"),FirFilter:e("./src/firFilter"),IirCoeffs:e("./src/iirCoeffs"),IirFilter:e("./src/iirFilter"),TestFilter:e("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(e,t,r){"use strict";var n=new(e("./iirCoeffs")),s={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},a={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},o=function(e){return function(t){return function(e,t){var r=[],o=0;if("fromPZ"!==t)for(e.order>12&&(e.order=12),o=0;o<e.order;o++){var i,l,u;"matchedZ"===e.transform?r.push(n.lowpassMZ({Fs:e.Fs,Fc:e.Fc,preGain:e.preGain,as:a[e.characteristic].as[e.order-1][o],bs:a[e.characteristic].bs[e.order-1][o]})):("butterworth"===e.characteristic?(i=.5/Math.sin(Math.PI/(2*e.order)*(o+.5)),l=1):(i=s[e.characteristic].q[e.order-1][o],l=e.oneDb?s[e.characteristic].f1dB[e.order-1][o]:s[e.characteristic].f3dB[e.order-1][o]),u="highpass"===t?e.Fc/l:e.Fc*l,"bandpass"!==t&&"bandstop"!==t||"bessel"===e.characteristic&&(u=Math.sqrt(e.order)*u/e.order),r.push(n[t]({Fs:e.Fs,Fc:u,Q:i,BW:e.BW||0,gain:e.gain||0,preGain:e.preGain||!1})))}else for(o=0;o<e.length;o++)r.push(n[t](e[o]));return r}(t,e)}},i={};t.exports=function(){var e=[];for(var t in n)i[t]=o(t),e.push(t);return i.available=function(){return e},i}},{"./iirCoeffs":6}],3:[function(e,t,r){"use strict";t.exports=function(e){if(!function(e){return!(e&e-1)}(e))return!1;var t={};t.length=e,t.buffer=new Float64Array(e),t.re=new Float64Array(e),t.im=new Float64Array(e),t.reI=new Float64Array(e),t.imI=new Float64Array(e),t.twiddle=new Int32Array(e),t.sinTable=new Float64Array(e-1),t.cosTable=new Float64Array(e-1);var r=2*Math.PI,n=Math.floor(Math.log(e)/Math.LN2);for(a=t.sinTable.length;a--;)t.sinTable[a]=Math.sin(r*(a/e)),t.cosTable[a]=Math.cos(r*(a/e));for(var s=e>>1,a=0,o=0;t.twiddle[a]=o,!(++a>=e);){for(n=s;n<=o;)o-=n,n>>=1;o+=n}var i=Math.PI,l=2*Math.PI,u=Math.abs,c=Math.pow,d=Math.cos,f=Math.sin,m=Math.E,p={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(e,t){return.5*(1-d(l*e/(t-1)))},values:[],correction:2},hamming:{calc:function(e,t){return.54-.46*d(l*e/(t-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(e,t,r){return e<r*(t-1)/2?.5*(1+d(i*(2*e/(r*(t-1))-1))):(t-1)*(1-r/2)<e?.5*(1+d(i*(2*e/(r*(t-1))-2/r+1))):1},values:[],correction:4/3},cosine:{calc:function(e,t){return f(i*e/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(e,t){return function(e){return f(i*e)/(i*e)}(2*e/(t-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(e,t){return 2/(t+1)*((t+1)/2-u(e-(t-1)/2))},values:[],correction:2},bartlett:{calc:function(e,t){return 2/(t-1)*((t-1)/2-u(e-(t-1)/2))},values:[],correction:2},gaussian:{calc:function(e,t,r){return c(m,-.5*c((e-(t-1)/2)/(r*(t-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(e,t){var r=l*e/(t-1);return.62-.48*u(e/(t-1)-.5)-.38*d(r)},values:[],correction:2},blackman:{calc:function(e,t,r){var n=r/2,s=l*e/(t-1);return(1-r)/2-.5*d(s)+n*d(2*s)},values:[],correction:4/3},blackmanHarris:{calc:function(e,t){var r=l*e/(t-1);return.35875-.48829*d(r)+.14128*d(2*r)-.01168*d(3*r)},values:[],correction:1.5594508635},nuttall3:{calc:function(e,t){var r=l*e/(t-1);return.375-.5*d(r)+.125*d(2*r)},values:[],correction:1.56},nuttall3a:{calc:function(e,t){var r=l*e/(t-1);return.40897-.5*d(r)+.09103*d(2*r)},values:[],correction:1.692},nuttall3b:{calc:function(e,t){var r=l*e/(t-1);return.4243801-.4973406*d(r)+.078793*d(2*r)},values:[],correction:1.7372527},nuttall4:{calc:function(e,t){var r=l*e/(t-1);return.3125-.46875*d(r)+.1875*d(2*r)-.03125*d(3*r)},values:[],correction:1.454543},nuttall4a:{calc:function(e,t){var r=l*e/(t-1);return.338946-.481973*d(r)+.161054*d(2*r)-.018027*d(3*r)},values:[],correction:1.512732763},nuttall4b:{calc:function(e,t){var r=l*e/(t-1);return.355768-.481973*d(r)+.144232*d(2*r)-.012604*d(3*r)},values:[],correction:1.55223262},nuttall4c:{calc:function(e,t){var r=l*e/(t-1);return.3635819-.4891775*d(r)+.1365995*d(2*r)-.0106411*d(3*r)},values:[],correction:1.57129067},sft3f:{calc:function(e,t){var r=l*e/(t-1);return.26526-.5*d(r)+.23474*d(2*r)},values:[],correction:1.3610238},sft4f:{calc:function(e,t){var r=l*e/(t-1);return.21706-.42103*d(r)+.28294*d(2*r)-.07897*d(3*r)},values:[],correction:1.2773573},sft5f:{calc:function(e,t){var r=l*e/(t-1);return.1881-.36923*d(r)+.28702*d(2*r)-.13077*d(3*r)+.02488*d(4*r)},values:[],correction:1.23167769},sft3m:{calc:function(e,t){var r=l*e/(t-1);return.28235-.52105*d(r)+.19659*d(2*r)},values:[],correction:1.39343451},sft4m:{calc:function(e,t){var r=l*e/(t-1);return.241906-.460841*d(r)+.2552381*d(2*r)-.041872*d(3*r)},values:[],correction:1.3190596},sft5m:{calc:function(e,t){var r=l*e/(t-1);return.209671-.407331*d(r)+.281225*d(2*r)-.092669*d(3*r)+.0091036*d(4*r)},values:[],correction:1.26529456464},nift:{calc:function(e,t){var r=l*e/(t-1);return.2810639-.5208972*d(r)+.1980399*d(2*r)},values:[],correction:1.39094182},hpft:{calc:function(e,t){var r=l*e/(t-1);return(1-1.912510941*d(r)+1.079173272*d(2*r)-.1832630879*d(3*r))/t},values:[],correction:1},srft:{calc:function(e,t){var r=l*e/(t-1);return(1-1.93*d(r)+1.29*d(2*r)-.388*d(3*r)+.028*d(4*r))/t},values:[],correction:1},hft70:{calc:function(e,t){var r=l*e/(t-1);return(1-1.90796*d(r)+1.07349*d(2*r)-.18199*d(3*r))/t},values:[],correction:1},hft95:{calc:function(e,t){var r=l*e/(t-1);return(1-1.9383379*d(r)+1.3045202*d(2*r)-.402827*d(3*r)+.0350665*d(4*r))/t},values:[],correction:1},hft90d:{calc:function(e,t){var r=l*e/(t-1);return(1-1.942604*d(r)+1.340318*d(2*r)-.440811*d(3*r)+.043097*d(4*r))/t},values:[],correction:1},hft116d:{calc:function(e,t){var r=l*e/(t-1);return(1-1.9575375*d(r)+1.4780705*d(2*r)-.6367431*d(3*r)+.1228389*d(4*r)-.0066288*d(5*r))/t},values:[],correction:1},hft144d:{calc:function(e,t){var r=l*e/(t-1);return(1-1.96760033*d(r)+1.57983607*d(2*r)-.81123644*d(3*r)+.22583558*d(4*r)-.02773848*d(5*r)+9036e-7*d(6*r))/t},values:[],correction:1},hft196d:{calc:function(e,t){var r=l*e/(t-1);return(1-1.97441842*d(r)+1.65409888*d(2*r)-.95788186*d(3*r)+.3367342*d(4*r)-.06364621*d(5*r)+.00521942*d(6*r)-10599e-8*d(7*r))/t},values:[],correction:1},hft223d:{calc:function(e,t){var r=l*e/(t-1);return(1-1.98298997309*d(r)+1.75556083063*d(2*r)-1.19037717712*d(3*r)+.56155440797*d(4*r)-.17296769663*d(5*r)+.03233247087*d(6*r)-.00324954578*d(7*r)+.0001380104*d(8*r)-132725e-11*d(9*r))/t},values:[],correction:1},hft248d:{calc:function(e,t){var r=l*e/(t-1);return(1-1.985844164102*d(r)+1.791176438506*d(2*r)-1.282075284005*d(3*r)+.667777530266*d(4*r)-.240160796576*d(5*r)+.056656381764*d(6*r)-.008134974479*d(7*r)+.00062454465*d(8*r)-19808998e-12*d(9*r)+1.32974e-7*d(10*r))/t},values:[],correction:1}},h=function(e){return p[e.name].values.length!==e.N?(0===e.n&&(p[e.name].values.length=0),p[e.name].values[e.n]=p[e.name].correction*p[e.name].calc(e.n,e.N,e.a),p[e.name].values[e.n]):p[e.name].values};return{forward:function(e,r){var n,s,a,o,i,l,u,c,d,f,m,p,g={name:r,N:a=t.buffer.length,a:.5,n:0},b=h(g);if("number"==typeof b)for(n=0;n<a;++n)g.n=n,t.buffer[n]=e[n]*h(g);else for(n=0;n<a;++n)t.buffer[n]=e[n]*b[n];for(n=a;n--;)t.re[n]=t.buffer[t.twiddle[n]],t.im[n]=0;for(o=1;o<a;o=i)for(l=0,u=a/(i=o+o),s=0;s<o;s++){for(c=t.cosTable[l],d=t.sinTable[l],n=s;n<a;n+=i)f=n+o,m=d*t.im[f]+c*t.re[f],p=c*t.im[f]-d*t.re[f],t.re[f]=t.re[n]-m,t.re[n]+=m,t.im[f]=t.im[n]-p,t.im[n]+=p;l+=u}return{re:t.re,im:t.im}},inverse:function(e,r){var n,s,a,o,i,l,u,c,d,f,m,p;for(n=a=e.length;n--;)s=t.twiddle[n],t.reI[n]=e[s],t.imI[n]=-r[s];for(o=1;o<a;o=i)for(l=0,u=a/(i=o+o),s=0;s<o;s++){for(c=t.cosTable[l],d=t.sinTable[l],n=s;n<a;n+=i)f=n+o,m=d*t.imI[f]+c*t.reI[f],p=c*t.imI[f]-d*t.reI[f],t.reI[f]=t.reI[n]-m,t.reI[n]+=m,t.imI[f]=t.imI[n]-p,t.imI[n]+=p;l+=u}for(n=a;n--;)t.buffer[n]=t.reI[n]/a;return t.buffer},magnitude:function(e){for(var t=[],r=0;r<e.re.length;r++)t.push(Math.sqrt(e.re[r]*e.re[r]+e.im[r]*e.im[r]));return t},magToDb:function(e){for(var t=[],r=0;r<e.length;r++)t.push(20*Math.log(e[r])*Math.LOG10E);return t},phase:function(e){for(var t=[],r=0;r<e.re.length;r++)t.push(Math.atan2(e.im[r],e.re[r]));return t},windows:function(){var e=[];for(var t in p)e.push(t);return e}}}},{}],4:[function(e,t,r){"use strict";t.exports=function(){var e=function(e){var t=e.Fs,r=e.Fc,n=e.order,s=2*Math.PI*r/t,a=0,o=0,i=[];for(a=0;a<=n;a++)a-n/2==0?i[a]=s:(i[a]=Math.sin(s*(a-n/2))/(a-n/2),i[a]*=.54-.46*Math.cos(2*Math.PI*a/n)),o+=i[a];for(a=0;a<=n;a++)i[a]/=o;return i},t=function(e){var t;for(t=0;t<e.length;t++)e[t]=-e[t];return e[(e.length-1)/2]++,e},r=function(r){for(var n=e({order:r.order,Fs:r.Fs,Fc:r.F2}),s=t(e({order:r.order,Fs:r.Fs,Fc:r.F1})),a=[],o=0;o<n.length;o++)a.push(n[o]+s[o]);return a};return{lowpass:function(t){return e(t)},highpass:function(r){return t(e(r))},bandstop:function(e){return r(e)},bandpass:function(e){return t(r(e))},kbFilter:function(e){return function(e){var t=e.Fs,r=e.Fa,n=e.Fb,s=e.order||51,a=e.Att||100,o=function(e){for(var t=0,r=1,n=1;r>1e-6*n;)n+=r*=e*e/((t+=2)*t);return n};s/2-Math.floor(s/2)==0&&s++;var i,l,u=(s-1)/2,c=[],d=0,f=[];for(c[0]=2*(n-r)/t,d=1;d<=u;d++)c[d]=(Math.sin(2*d*Math.PI*n/t)-Math.sin(2*d*Math.PI*r/t))/(d*Math.PI);for(i=o(l=a<21?0:a>50?.1102*(a-8.7):.5842*Math.pow(a-21,.4)+.07886*(a-21)),d=0;d<=u;d++)f[u+d]=c[d]*o(l*Math.sqrt(1-d*d/(u*u)))/i;for(d=0;d<u;d++)f[d]=f[s-1-d];return f}(e)},available:function(){return["lowpass","highpass","bandstop","bandpass","kbFilter"]}}}},{}],5:[function(e,t,r){"use strict";var n=e("./utils"),s=n.runMultiFilter,a=n.runMultiFilterReverse,o=n.complex,i=n.evaluatePhase;t.exports=function(e){var t=e,r=[],n=0;for(n=0;n<t.length;n++)r[n]={re:t[n],im:0};var l=function(e){var t,r=[];for(t=0;t<e;t++)r.push(0);return{buf:r,pointer:0}},u=l(t.length-1),c=function(e,r){r.buf[r.pointer]=e;var s=0;for(n=0;n<r.buf.length;n++)s+=t[n]*r.buf[(r.pointer+n)%r.buf.length];return r.pointer=(r.pointer+1)%r.buf.length,s},d=function(e){for(var n=e.Fs,s=e.Fr,a=-Math.PI*(s/n)*2,i={re:0,im:0},l=0;l<t.length-1;l++)i=o.add(i,o.mul(r[l],{re:Math.cos(a*l),im:Math.sin(a*l)}));var u=o.magnitude(i);return{magnitude:u,phase:o.phase(i),dBmagnitude:20*Math.log(u)*Math.LOG10E}};return{responsePoint:function(e){return d(e)},response:function(e){var t=[],r=0,n=2*(e=e||100);for(r=0;r<e;r++)t[r]=d({Fs:n,Fr:r});return i(t),t},simulate:function(e){return function(e){var r=l(t.length-1);return s(e,r,c)}(e)},singleStep:function(e){return c(e,u)},multiStep:function(e,t){return s(e,u,c,t)},filtfilt:function(e,t){return a(s(e,u,c,t),u,c,!0)},reinit:function(){u=l(t.length-1)}}}},{"./utils":9}],6:[function(e,t,r){"use strict";t.exports=function(){var e=function(e,t){var r=e.Q,n=e.Fc,s=e.Fs,a={},o=2*Math.PI*n/s;return e.BW?a.alpha=Math.sin(o)*Math.sinh(Math.log(2)/2*e.BW*o/Math.sin(o)):a.alpha=Math.sin(o)/(2*r),a.cw=Math.cos(o),a.a0=1+a.alpha,t.a0=a.a0,t.a.push(-2*a.cw/a.a0),t.k=1,t.a.push((1-a.alpha)/a.a0),a},t=function(e){var t=e.Q,r=e.Fc,n=e.Fs,s={},a=2*Math.PI*r/n;return s.alpha=Math.sin(a)/(2*t),s.cw=Math.cos(a),s.A=Math.pow(10,e.gain/40),s},r=function(){var e={z:[0,0],a:[],b:[]};return e};return{fromPZ:function(e){var t=r();return t.a0=1,t.b.push(1),t.b.push(-e.z0.re-e.z1.re),t.b.push(e.z0.re*e.z1.re-e.z0.im*e.z1.im),t.a.push(-e.p0.re-e.p1.re),t.a.push(e.p0.re*e.p1.re-e.p0.im*e.p1.im),"lowpass"===e.type?t.k=(1+t.a[0]+t.a[1])/(1+t.b[1]+t.b[2]):t.k=(1-t.a[0]+t.a[1])/(1-t.b[1]+t.b[2]),t},lowpassMZ:function(e){var t=r();t.a0=1;var n=e.as,s=e.bs,a=2*Math.PI*e.Fc/e.Fs,o=-n/(2*s);return t.a.push(2*-Math.pow(Math.E,o*a)*Math.cos(-a*Math.sqrt(Math.abs(Math.pow(n,2)/(4*Math.pow(s,2))-1/s)))),t.a.push(Math.pow(Math.E,2*o*a)),e.preGain?(t.b.push(1),t.k=t.a0+t.a[0]+t.a[1]):(t.b.push(t.a0+t.a[0]+t.a[1]),t.k=1),t.b.push(0),t.b.push(0),t},lowpassBT:function(e){var t=r();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=3*t.wp+3*t.wp2+1,t.b.push(3*t.wp2*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((6*t.wp2-2)/t.a0),t.a.push((3*t.wp2-3*t.wp+1)/t.a0),t},highpassBT:function(e){var t=r();return e.Q=1,t.wp=Math.tan(2*Math.PI*e.Fc/(2*e.Fs)),t.wp2=t.wp*t.wp,e.BW&&delete e.BW,t.k=1,t.a0=t.wp+t.wp2+3,t.b.push(3*e.Q/t.a0),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t.a.push((2*t.wp2-6)/t.a0),t.a.push((t.wp2-t.wp+3)/t.a0),t},lowpass:function(t){var n=r();t.BW&&delete t.BW;var s=e(t,n);return t.preGain?(n.k=.5*(1-s.cw),n.b.push(1/s.a0)):(n.k=1,n.b.push((1-s.cw)/(2*s.a0))),n.b.push(2*n.b[0]),n.b.push(n.b[0]),n},highpass:function(t){var n=r();t.BW&&delete t.BW;var s=e(t,n);return t.preGain?(n.k=.5*(1+s.cw),n.b.push(1/s.a0)):(n.k=1,n.b.push((1+s.cw)/(2*s.a0))),n.b.push(-2*n.b[0]),n.b.push(n.b[0]),n},allpass:function(t){var n=r();t.BW&&delete t.BW;var s=e(t,n);return n.k=1,n.b.push((1-s.alpha)/s.a0),n.b.push(-2*s.cw/s.a0),n.b.push((1+s.alpha)/s.a0),n},bandpassQ:function(t){var n=r(),s=e(t,n);return n.k=1,n.b.push(s.alpha*t.Q/s.a0),n.b.push(0),n.b.push(-n.b[0]),n},bandpass:function(t){var n=r(),s=e(t,n);return n.k=1,n.b.push(s.alpha/s.a0),n.b.push(0),n.b.push(-n.b[0]),n},bandstop:function(t){var n=r(),s=e(t,n);return n.k=1,n.b.push(1/s.a0),n.b.push(-2*s.cw/s.a0),n.b.push(n.b[0]),n},peak:function(e){var n=r(),s=t(e);return n.k=1,n.a0=1+s.alpha/s.A,n.a.push(-2*s.cw/n.a0),n.a.push((1-s.alpha/s.A)/n.a0),n.b.push((1+s.alpha*s.A)/n.a0),n.b.push(-2*s.cw/n.a0),n.b.push((1-s.alpha*s.A)/n.a0),n},lowshelf:function(e){var n=r();e.BW&&delete e.BW;var s=t(e);n.k=1;var a=2*Math.sqrt(s.A)*s.alpha;return n.a0=s.A+1+(s.A-1)*s.cw+a,n.a.push(-2*(s.A-1+(s.A+1)*s.cw)/n.a0),n.a.push((s.A+1+(s.A-1)*s.cw-a)/n.a0),n.b.push(s.A*(s.A+1-(s.A-1)*s.cw+a)/n.a0),n.b.push(2*s.A*(s.A-1-(s.A+1)*s.cw)/n.a0),n.b.push(s.A*(s.A+1-(s.A-1)*s.cw-a)/n.a0),n},highshelf:function(e){var n=r();e.BW&&delete e.BW;var s=t(e);n.k=1;var a=2*Math.sqrt(s.A)*s.alpha;return n.a0=s.A+1-(s.A-1)*s.cw+a,n.a.push(2*(s.A-1-(s.A+1)*s.cw)/n.a0),n.a.push((s.A+1-(s.A-1)*s.cw-a)/n.a0),n.b.push(s.A*(s.A+1+(s.A-1)*s.cw+a)/n.a0),n.b.push(-2*s.A*(s.A-1+(s.A+1)*s.cw)/n.a0),n.b.push(s.A*(s.A+1+(s.A-1)*s.cw-a)/n.a0),n},aweighting:function(e){var t=r();t.k=1;var n=2*Math.PI*e.Fc/e.Fs,s=2*Math.tan(n/2),a=e.Q,o=Math.pow(s,2);return t.a0=4*a+o*a+2*s,t.a.push(2*o*a-8*a),t.a.push(4*a+o*a-2*s),t.b.push(o*a),t.b.push(2*o*a),t.b.push(o*a),t}}}},{}],7:[function(e,t,r){"use strict";var n=e("./utils"),s=n.complex,a=n.runMultiFilter,o=n.runMultiFilterReverse,i=n.evaluatePhase;t.exports=function(e){for(var t=e,r={re:1,im:0},n=[],l=[],u=0;u<t.length;u++){n[u]={};var c=t[u];n[u].b0={re:c.b[0],im:0},n[u].b1={re:c.b[1],im:0},n[u].b2={re:c.b[2],im:0},n[u].a1={re:c.a[0],im:0},n[u].a2={re:c.a[1],im:0},n[u].k={re:c.k,im:0},n[u].z=[0,0],l[u]={},l[u].b1=c.b[1]/c.b[0],l[u].b2=c.b[2]/c.b[0],l[u].a1=c.a[0],l[u].a2=c.a[1]}var d=function(e,t){var r=t*e.k.re-e.a1.re*e.z[0]-e.a2.re*e.z[1],n=e.b0.re*r+e.b1.re*e.z[0]+e.b2.re*e.z[1];return e.z[1]=e.z[0],e.z[0]=r,n},f=function(e,t){var r=e,n=0;for(n=0;n<t.length;n++)r=d(t[n],r);return r},m=function(e,t){var n=e.Fs,a=e.Fr,o=-Math.PI*(a/n)*2,i={re:Math.cos(o),im:Math.sin(o)},l=s.mul(t.k,s.add(t.b0,s.mul(i,s.add(t.b1,s.mul(t.b2,i))))),u=s.add(r,s.mul(i,s.add(t.a1,s.mul(t.a2,i)))),c=s.div(l,u);return{magnitude:s.magnitude(c),phase:s.phase(c)}},p=function(e){var t=0,r={magnitude:1,phase:0};for(t=0;t<n.length;t++){var s=m(e,n[t]);r.magnitude*=s.magnitude,r.phase+=s.phase}return r.dBmagnitude=20*Math.log(r.magnitude)*Math.LOG10E,r},h=function(){for(var e=[],r=0;r<t.length;r++)e[r]={b0:{re:c.b[0],im:0},b1:{re:c.b[1],im:0},b2:{re:c.b[2],im:0},a1:{re:c.a[0],im:0},a2:{re:c.a[1],im:0},k:{re:c.k,im:0},z:[0,0]};return e},g=function(e){var t=h();return a(e,t,f)},b=function(e,t){var r={},n=[],s=0;for(s=0;s<t;s++)n.push(e(s));r.out=g(n);var a=!1,o=!1;for(s=0;s<t-1;s++)if(r.out[s]>r.out[s+1]&&!a&&(a=!0,r.max={sample:s,value:r.out[s]}),a&&!o&&r.out[s]<r.out[s+1]){o=!0,r.min={sample:s,value:r.out[s]};break}return r},v=function(e,t){var r=Math.pow(e/2,2)-t;return r<0?[{re:-e/2,im:Math.sqrt(Math.abs(r))},{re:-e/2,im:-Math.sqrt(Math.abs(r))}]:[{re:-e/2+Math.sqrt(r),im:0},{re:-e/2-Math.sqrt(r),im:0}]};return{singleStep:function(e){return f(e,n)},multiStep:function(e,t){return a(e,n,f,t)},filtfilt:function(e,t){return o(a(e,n,f,t),n,f,!0)},simulate:function(e){return g(e)},stepResponse:function(e){return b((function(){return 1}),e)},impulseResponse:function(e){return b((function(e){return 0===e?1:0}),e)},responsePoint:function(e){return p(e)},response:function(e){var t=[],r=0,n=2*(e=e||100);for(r=0;r<e;r++)t[r]=p({Fs:n,Fr:r});return i(t),t},polesZeros:function(){return function(){for(var e=[],t=0;t<l.length;t++)e[t]={},e[t].z=v(l[t].b1,l[t].b2),e[t].p=v(l[t].a1,l[t].a2);return e}()},reinit:function(){for(u=0;u<n.length;u++)n[u].z=[0,0]}}}},{"./utils":9}],8:[function(e,t,r){"use strict";t.exports=function(e){var t,r=e,n=[],s=function(e){for(t=0;t<e.steps;t++)n.push(r.singleStep((Math.random()-.5)*e.pp+e.offset))},a=function(e){var s=e.offset+e.pp,a=e.offset-e.pp;for(t=0;t<e.steps;t++)t%200<100?n.push(r.singleStep(s)):n.push(r.singleStep(a))},o=function(e){var s=e.offset+e.pp,a=e.offset-e.pp;for(t=0;t<e.steps;t++)t%100==0?n.push(r.singleStep(s)):n.push(r.singleStep(a))},i=function(e){var s=e.offset+e.pp,a=e.offset-e.pp,o=a,i=(s-a)/100;for(t=0;t<e.steps;t++)t%200<100?o+=i:o-=i,n.push(r.singleStep(o))};return{randomStability:function(e){for(r.reinit(),n.length=0,s(e),t=e.setup;t<n.length;t++)if(n[t]>e.maxStable||n[t]<e.minStable)return n[t];return!0},directedRandomStability:function(e){var l;for(r.reinit(),n.length=0,l=0;l<e.tests;l++){var u=Math.random();u<.25?s(e):u<.5?a(e):u<.75?o(e):i(e)}for(s(e),t=e.setup;t<n.length;t++)if(n[t]>e.maxStable||n[t]<e.minStable)return n[t];return!0},evaluateBehavior:function(){}}}},{}],9:[function(e,t,r){"use strict";r.evaluatePhase=function(e){var t=0,r=0,n=Math.PI,s=2*n,a=[];for(r=0;r<e.length;r++)a.push(e[r].phase);for(e[0].unwrappedPhase=e[0].phase,e[0].groupDelay=0,r=1;r<a.length;r++){var o=a[r]-a[r-1];if(o>n)for(t=r;t<a.length;t++)a[t]-=s;else if(o<-n)for(t=r;t<a.length;t++)a[t]+=s;a[r]<0?e[r].unwrappedPhase=-a[r]:e[r].unwrappedPhase=a[r],e[r].phaseDelay=e[r].unwrappedPhase/(r/e.length),e[r].groupDelay=(e[r].unwrappedPhase-e[r-1].unwrappedPhase)/(n/e.length),e[r].groupDelay<0&&(e[r].groupDelay=-e[r].groupDelay)}0!==e[0].magnitude?(e[0].phaseDelay=e[1].phaseDelay,e[0].groupDelay=e[1].groupDelay):(e[0].phaseDelay=e[2].phaseDelay,e[0].groupDelay=e[2].groupDelay,e[1].phaseDelay=e[2].phaseDelay,e[1].groupDelay=e[2].groupDelay)},r.runMultiFilter=function(e,t,r,n){var s,a=[];for(n&&(a=e),s=0;s<e.length;s++)a[s]=r(e[s],t);return a},r.runMultiFilterReverse=function(e,t,r,n){var s,a=[];for(n&&(a=e),s=e.length-1;s>=0;s--)a[s]=r(e[s],t);return a};var n=function(e,t){for(var r=!0;r;){var n=e,s=t;if(r=!1,s||(s=1),n!==Math.floor(n)||s!==Math.floor(s))return 1;if(0===n||1===n)return s;e=n-1,t=s*n,r=!0}};r.besselFactors=function(e){for(var t=[],r=0;r<e+1;r++){var s=n(2*e-r),a=Math.pow(2,e-r)*n(r)*n(e-r);t.unshift(Math.floor(s/a))}return t};var s=function(e,t){for(var r=0,n=0;n<t;n++){var s=1/Math.pow(2,n+1);e>s&&(e-=s,r+=s)}return r},a=function(e,t){return e&Math.pow(2,t)};r.fixedPoint={convert:function(e,t,r){return function(e,t,r){var n=Math.abs(e),o=e-n;return{number:a(n,t).toString(),fraction:s(o,r).toString(),numberBits:t,fractionBits:r}}(e,t,r)},add:function(e,t){},sub:function(e,t){},mul:function(e,t){},div:function(e,t){}},r.complex={div:function(e,t){var r=e.re,n=e.im,s=t.re,a=t.im,o=s*s+a*a;return{re:(r*s+n*a)/o,im:(n*s-r*a)/o}},mul:function(e,t){var r=e.re,n=e.im,s=t.re,a=t.im;return{re:r*s-n*a,im:(r+n)*(s+a)-r*s-n*a}},add:function(e,t){return{re:e.re+t.re,im:e.im+t.im}},sub:function(e,t){return{re:e.re-t.re,im:e.im-t.im}},phase:function(e){return Math.atan2(e.im,e.re)},magnitude:function(e){return Math.sqrt(e.re*e.re+e.im*e.im)}}},{}]},{},[1])(1)},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(33),s=r(83),a=r(84),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?s(e):a(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(85),s=r(88),a=r(35);e.exports=function(e){return(a(e)?n:s)(e)}},function(e,t,r){"use strict";var n,s="object"==typeof Reflect?Reflect:null,a=s&&"function"==typeof s.apply?s.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function s(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",s),r([].slice.call(arguments))}b(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&b(e,"error",t,r)}(e,s,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var s,a,o,i;if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(s=c(e))>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,i=l,console&&console.warn&&console.warn(i)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=f.bind(n);return s.listener=r,n.wrapFn=s,s}function p(e,t,r){var n=e._events;if(void 0===n)return[];var s=n[t];return void 0===s?[]:"function"==typeof s?r?[s.listener||s]:[s]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(s):g(s,s.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function b(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(a){n.once&&e.removeEventListener(t,s),r(a)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var l=s[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=g(l,u);for(r=0;r<u;++r)a(c[r],this,t)}return!0},i.prototype.addListener=function(e,t){return d(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return d(this,e,t,!0)},i.prototype.once=function(e,t){return u(t),this.on(e,m(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,m(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,s,a,o;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,s=a;break}if(s<0)return this;0===s?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,s),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var s,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(s=a[n])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,i,l=o(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))s.call(r,c)&&(l[c]=r[c]);if(n){i=n(r);for(var d=0;d<i.length;d++)a.call(r,i[d])&&(l[i[d]]=r[i[d]])}}return l}},function(e,t,r){var n=r(82),s=r(25),a=r(46),o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=i.test(e);return r||l.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}},function(e,t,r){var n=r(34).Symbol;e.exports=n},function(e,t,r){var n=r(47),s="object"==typeof self&&self&&self.Object===Object&&self,a=n||s||Function("return this")();e.exports=a},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n,s,a,o,i,l,u,c,d,f,m,p,h,g,b,v,y,M,_,I,P,N;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */o=this,i=/iPhone/i,l=/iPod/i,u=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,d=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,m=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,g=/BlackBerry/i,b=/BB10/i,v=/Opera Mini/i,y=/(CriOS|Chrome)(?=.*\bMobile\b)/i,M=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,_=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),I=function(e,t){return e.test(t)},P=function(e){var t=e||navigator.userAgent,r=t.split("[FBAN");if(void 0!==r[1]&&(t=r[0]),void 0!==(r=t.split("Twitter"))[1]&&(t=r[0]),this.apple={phone:I(i,t),ipod:I(l,t),tablet:!I(i,t)&&I(u,t),device:I(i,t)||I(l,t)||I(u,t)},this.amazon={phone:I(f,t),tablet:!I(f,t)&&I(m,t),device:I(f,t)||I(m,t)},this.android={phone:I(f,t)||I(c,t),tablet:!I(f,t)&&!I(c,t)&&(I(m,t)||I(d,t)),device:I(f,t)||I(m,t)||I(c,t)||I(d,t)},this.windows={phone:I(p,t),tablet:I(h,t),device:I(p,t)||I(h,t)},this.other={blackberry:I(g,t),blackberry10:I(b,t),opera:I(v,t),firefox:I(M,t),chrome:I(y,t),device:I(g,t)||I(b,t)||I(v,t)||I(M,t)||I(y,t)},this.seven_inch=I(_,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},N=function(){var e=new P;return e.Class=P,e},e.exports&&"undefined"==typeof window?e.exports=P:e.exports&&"undefined"!=typeof window?e.exports=N():(s=[],n=o.isMobile=N(),void 0===(a="function"==typeof n?n.apply(t,s):n)||(e.exports=a))},function(e,t,r){var n=r(81),s=r(32);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=s(r))==r?r:0),void 0!==t&&(t=(t=s(t))==t?t:0),n(s(e),t,r)}},function(e,t,r){var n=r(111);e.exports=m,e.exports.parse=a,e.exports.compile=function(e,t){return i(a(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=f;var s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var r,n=[],a=0,o=0,i="",c=t&&t.delimiter||"/";null!=(r=s.exec(e));){var d=r[0],f=r[1],m=r.index;if(i+=e.slice(o,m),o=m+d.length,f)i+=f[1];else{var p=e[o],h=r[2],g=r[3],b=r[4],v=r[5],y=r[6],M=r[7];i&&(n.push(i),i="");var _=null!=h&&null!=p&&p!==h,I="+"===y||"*"===y,P="?"===y||"*"===y,N=r[2]||c,S=b||v;n.push({name:g||a++,prefix:h||"",delimiter:N,optional:P,repeat:I,partial:_,asterisk:!!M,pattern:S?u(S):M?".*":"[^"+l(N)+"]+?"})}}return o<e.length&&(i+=e.substr(o)),i&&n.push(i),n}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var r=new Array(e.length),s=0;s<e.length;s++)"object"==typeof e[s]&&(r[s]=new RegExp("^(?:"+e[s].pattern+")$",d(t)));return function(t,s){for(var a="",i=t||{},l=(s||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var d,f=i[c.name];if(null==f){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(n(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var m=0;m<f.length;m++){if(d=l(f[m]),!r[u].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===m?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!r[u].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');a+=c.prefix+d}}else a+=c}return a}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,r){n(t)||(r=t||r,t=[]);for(var s=(r=r||{}).strict,a=!1!==r.end,o="",i=0;i<e.length;i++){var u=e[i];if("string"==typeof u)o+=l(u);else{var f=l(u.prefix),m="(?:"+u.pattern+")";t.push(u),u.repeat&&(m+="(?:"+f+m+")*"),o+=m=u.optional?u.partial?f+"("+m+")?":"(?:"+f+"("+m+"))?":f+"("+m+")"}}var p=l(r.delimiter||"/"),h=o.slice(-p.length)===p;return s||(o=(h?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":s&&h?"":"(?="+p+"|$)",c(new RegExp("^"+o,d(r)),t)}function m(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):n(e)?function(e,t,r){for(var n=[],s=0;s<e.length;s++)n.push(m(e[s],t,r).source);return c(new RegExp("(?:"+n.join("|")+")",d(r)),t)}(e,t,r):function(e,t,r){return f(a(e,r),t,r)}(e,t,r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(22),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=Object(n.a)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},function(e){e.exports=JSON.parse('{"Nintendo/Arkanoid":{"Arkanoid (1986-12-26)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I","modulations":[],"tags":["location:menu","non-chord_tones:neighbor","bass:root_fifth","timbre:one-channel delay"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V7/IV ii7 I5","modulations":[],"tags":["location:level_start"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9000000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"extra life","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7","modulations":[],"tags":["location:after_credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ viio7 I^","modulations":[],"tags":["harmony:diminished_seventh_chords","scale:atonal","location:final_boss","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:root_octaves","span":[1,16]},{"tag":"form:period","span":[1,8]},{"voices":[0],"tag":"melody:basic_idea_x4","span":[1,8]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[1,8]}],"romanNumerals":"i VII VI v i VII VI VII i VII VI v i VII VI v","tags":["location:game_won","form:progression"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"antecedent","5":"consequent","9":"B","13":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Batman":{"Batman (Prototype) (1989)(Sunsoft).nsf":{"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"Ending 1","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["analyzed_in:hopkins","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.189999999999976,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Batman (1989-12-22)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ i i i i i i i i bII bII bII bII v7 v7 v7 v7 i i i i i i i i bII bII bII bII v7 v7 v7 v7 i i VII VII VI VI v V i i VI VI VII VII V5 V5 i i VI VI VII VII III V","modulations":[],"tags":["location:level","chip:toms_DMC","timbre:melody_echo","bass:riff","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","9":"A","25":"A","41":"B","49":"C","57":"C\'","65":"intro"},"secondMeasure":0.7900000000000005,"loop":69,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.9285714285714286,"21":18.630000000000113,"22":19.564285714285713,"41":37.260000000001156,"42":38.21000000000097,"43":39.121428571428574,"44":40.0600000000006},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ VI-VII i _ _ _ _ _ _ _ _ _ _ _ _ _ I5 bII5 I5 bII I5 bII5 I5 bII5 III V5-VII I5","modulations":{"19":11,"28":4},"tags":["location:level"],"fourMeasurePhrasingReferences":[11,11],"secondMeasure":1.340000000000001,"form":{"1":"A","5":"A","11":"B","15":"B\'","19":"C","23":"C\'","29":"D","33":"D\'"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":13.229999999999762,"20":25.32857142857143,"22":27.914285714285715,"24":30.65714285714286},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i _ _ _ i _ _ _ _ _ _ i-i-iv-V _ _ _ i-i-i-VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I #IV I #IV","modulations":[],"tags":["location:level","harmony:neo-riemannian","form:period","bass:pedal_point","rhythm:swing","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent","17":"A\'\'","21":"A\'\'\'","25":"B:antecedent","29":"B:consequent","33":"A\'\'\'\'"},"loop":40,"firstMeasure":0,"step":"end","comment":"Underground Conduit - Stage 3","correctedMeasures":{"2":1.6,"33":51.0999999999984,"34":52.714285714285715,"40":62.289999999996176,"41":63.94285714285714,"42":65.4899999999966,"43":67.08571428571429},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV5 _ _ _ V5 _ _ v","modulations":[],"tags":["location:level","middle_voice:doubles_bass","rhythm:3 against 2"],"fourMeasurePhrasingReferences":[5,13,23,27,31],"form":{"1":"A","9":"B","17":"B\'","23":"","27":"C"},"secondMeasure":1.7900000000000014,"loop":35,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":{"22":33.74285714285714,"24":36.910000000001226,"25":38.51000000000091},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i-i-i-bII7 i-i-i-bII i-i-i-bII7","modulations":{"5":2,"9":9,"13":2,"17":9},"tags":["location:boss","scale:blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"form":{"1":"A","5":"A","9":"A","13":"A","17":"B"},"loop":22,"firstMeasure":3.189999999999976,"step":"end","comment":"I-IV","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i I i i","modulations":{"2":1,"3":5,"4":6},"tags":["location:intro","harmony:neo-riemannian","rhythm:4 against 3","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.6899999999999653,"loop":5,"firstMeasure":0,"step":"end","comment":"second intro (car)","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["location:game_won","bass:riff","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":17.57999999999995,"11":19.985714285714284},"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["timbre:unexpected_detune","location:launch_screen"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.259999999999954,"loop":null,"firstMeasure":0,"step":"tonic","comment":"","correctedMeasures":{"1":0.17142857142857143,"2":1.9428571428571428,"10":17.049999999999866,"11":19.140000000000192,"13":22.89000000000078,"14":25.040000000001115},"tonic":6,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ VI VII i i VI VII V5 V I5 VI IV5 VI5 I5 VI IV5","modulations":[],"tags":["location:intro","bass:riff","harmony:stasis","scale:dorian","middle_voice:drone","middle_voice:parallel_thirds","form:reversed_period","location:credits"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"intro","5":"A","9":"A\'","13":"B:consequent","17":"B:antecedent","21":"C","25":"C"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019},"tonic":11,"basedOn":null}}},"Nintendo/Aussie Rules Footy":{"Aussie Rules Footy (1992)(Beam)(Laser Beam).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"ii-I IV-V-I-I IV-I VII-V ii-I IV-V-I-I IV-I VII-V I I I I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.5899999999999888,"loop":null,"firstMeasure":0.6900000000000004,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8900000000000015},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8900000000000015,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"2":2,"3":4},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/10000000-in-1":{"10000000-in-1 (menu) (19xx)(Unknown).nsf":{"0":{"mode":"major","secondMeasure":2.389999999999993,"loop":33,"firstMeasure":0,"step":"end","tonic":0}}},"Nintendo/Adventures of Lolo 2":{"Adventures of Lolo 2.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:layered","upper_voices:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.3299999999999095},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V I IV I IV I V/V V I IV V7/vi vi IV I V I","modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V-I ii-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII-III","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII I bII I bII I","modulations":[],"tags":["tempo:ritardando","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"loop":null,"firstMeasure":0,"step":"end","comment":"phrygian shuttle - maybe better visualize through modulations?","correctedMeasures":{"7":13.057142857142857},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","modulations":[],"tags":["scale:nikriz","style:arabic","timbre:layered","timbre:melody_echo","middle_voice:parallel_octaves","harmony:unison"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.53999999999999,"loop":9,"firstMeasure":1.490000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tempo:ritardando","scale:whole-tone"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V vi I IV V V vi7 IV V iii7 vi ii7 ii7 IV IV-V7 I V vi I IV V iii7 vi7 IV V7 iii vi7 ii7 V7 I I4 I _ _ _ IV IV ii/ii V/ii ii V I I IV IV ii/ii V/ii ii V I","modulations":[],"tags":["tempo:ritardando","location:game_won","voice_leading:descending_diatonic_bass","middle_voice:arpeggio","form:period","beats:division_change","voice_leading:Isus4","melody:reharmonization","harmony:Vsus4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A:antecedent","17":"A:consequent","37":"B:antecedent","45":"B:consequent"},"loop":53,"firstMeasure":0.2900000000000001,"step":"end","comment":"feels like based on smth, maybe bc too common-practice. part B is based on mm. 25-32 reharmonized via applied chords. m. 15: IV over 5 (Vsus4?)","correctedMeasures":{"35":40.94285714285714,"36":41.885714285714286,"37":42.91000000000003,"38":43.65999999999988},"tonic":5,"basedOn":null}}},"Nintendo/Adventures of Lolo 3":{"Adventures of Lolo 3.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"same as Lolo 2, subtune 1","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I V/vi vi ii I V I","modulations":[],"tags":["form:period","bass:melody","melody:riff","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"form":{"1":"A:antecedent","9":"A:consequent","17":"B"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7/V V7 I I V7/V V7 I V I IV-V vi ii-V I IV-V V","tags":[],"modulations":{"13":8,"16":5},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A"},"loop":17,"firstMeasure":0,"step":"end","comment":"jazz-like far ii-V-I","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII i VII","modulations":[],"tags":["bass:melody","upper_voices:arpeggio","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:blues","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I I ii V7 I","modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","modulations":[],"tags":["middle_voice:parallel_sixths","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7600000000000013,"loop":5,"firstMeasure":0,"step":"end","comment":"which voice is the melody?","correctedMeasures":{"3":3.699999999999965,"5":7.419999999999886,"7":11.149999999999807},"tonic":4,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"same as Lolo 2 subtune 7, but timbres are crispier","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I5 III5 IV5 V5 I5 III5 IV5 V5 I5 III5 IV5 V5 I5 III5 IV5 V5","modulations":[],"tags":["middle_voice:static_chord_tones","harmony:power_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":17,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I5 VII vi VI-VII I5 VII VI V","modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"same as Lolo 2 subtune 9","correctedMeasures":[],"tonic":null,"basedOn":null},"18":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I V/vi vi vi7 IV V/V V5 V7 I V/vi vi I IV V7 I I V7 V7 V7 V7 I I I I V7 V7 V7 V7 biiiø ii7 ii7 V7 I V/vi vi vi7 IV V/V V5 V I V/vi vi vi7 ii7 V7 VI VII I","modulations":{"25":6,"29":4},"tags":["form:period","location:game_won","middle_voice:arpeggio","tempo:ritardando","form:not_looped"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A:antecedent","9":"A:consequent","17":"bridge","33":"A:antecedent","41":"A:consequent"},"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":["middle_voice:parallel_thirds","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Almana no Kiseki":{"Almana no Kiseki (FDS)(1987-08-11)(Konami).nsf":{"1":{"mode":"minor","secondMeasure":1.8400000000000014,"loop":21,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":1},"2":{"mode":"minor","secondMeasure":1.6900000000000013,"loop":29,"firstMeasure":0.09,"step":"end","correctedMeasures":[],"tonic":3},"3":{"mode":"minor","secondMeasure":1.8200000000000014,"loop":null,"firstMeasure":0.47000000000000025,"step":"end","correctedMeasures":[],"tonic":6},"5":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Atlantis no Nazo":{"Atlantis no Nazo (1986-04-17)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i _ _ i","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":null,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":{"1":0.2},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV I I I V/V V I V vi iii ii V5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":15,"firstMeasure":3.189999999999976,"step":"end","comment":"","correctedMeasures":{"15":25.570000000001198},"tonic":0,"basedOn":null}}},"Nintendo/Barbie":{"Barbie (REV0) (1991-12)(Imagineering)(Hi Tech Expressions).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi IV V I I IV V I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":23.520000000000877,"24":33.81000000000184},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I I I I I I IV IV I I V IV I I ","modulations":[],"tags":["rhythm:3+3+2","form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"chorus","13":"chorus","25":"chorus"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"37":42.76000000000006},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone","timbre:ultra_fast_notes","location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Aladdin":{"Aladdin (1994 Virgin).nsfe":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:root_fifth","span":[1,24]},{"tag":"middle_voice:static_chord_tones","span":[1,24]},{"tag":"form:period","span":[1,16]},{"tag":"form:reversed_period","span":[17,24]}],"disableSnapToNotes":false,"romanNumerals":"i i V7/IV iv V-i V7/VI-VI iv V i i V7/IV iv V-i V7/VI-VI iv-V i iv i iv i iv i VI V/V-V","modulations":[],"tags":["middle_voice:two_notes","form:sentence"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent, basic idea","3":"basic idea, repeated","5":"fragmentation 1m+1m","7":"0.5m+0.5m","8":"HC","9":"A:consequent","16":"PAC","17":"B:consequent","21":"B:antecedent"},"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"bass makes up two voices","correctedMeasures":{"1":2.5428571428571427,"17":25.620000000001205},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:weird_chord","span":[18,18]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ v","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5100000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"tag":"middle_voice:arpeggio","span":[1,32]},{"tag":"non-chord_tones:double_neighbor","span":[1,1]}],"disableSnapToNotes":false,"romanNumerals":"I I I IV-V ii vi IV V I I I IV-V ii vi IV V I I-ii I-IV vi IV-I IV-I ii V _ _ _ _ _ _ _ V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i","modulations":[],"tags":["location:level_completed","scale:melodic_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Nintendo/1999 Hore, Mitakotoka! Seikimatsu":{"1999 Hore, Mitakotoka! Seikimatsu (1992-09-18)(Coconuts Japan).nsf":{"0":{"mode":"minor","secondMeasure":1.9900000000000015,"loop":13,"romanNumerals":"i iv i V i iv i-V i VI-VII VI-VII VI-VII i-i-i-V","firstMeasure":0.3900000000000002,"step":"end","tonic":9},"1":{"mode":"phrygian","secondMeasure":0.9900000000000007,"firstMeasure":0,"step":"end","tonic":11}}},"Nintendo/Cabal":{"Cabal (1990-06)(TAD)(Zippo)(Milton Bradley).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level","middle_voice:parallel_octaves","harmony:stasis","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6300000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6300000000000012,"3":3.319999999999973},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Over (the very end)","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i ii ii VII VI V V i i ii ii VII VI V V","modulations":[],"tags":["location:boss","rhythm:latin","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.019999999999873,"11":20.060000000000336},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.2800000000000001,"loop":null,"firstMeasure":0.2800000000000001,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-I-I-V I-I-I-V I","modulations":[],"tags":["location:level_completed","voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1699999999999977,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:diminished_seventh_chords","timbre:melody_echo","voice_leading:descending_chromatic_melody","middle_voice:drone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.450000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.399999999999951,"8":10.239999999999826},"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","modulations":[],"tags":["scale:blues","timbre:melody_echo","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.500000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ VI-VI-VI-VII i-i-i-VII VI-VI-VI-VII","modulations":[],"tags":["scale:blues","voice_leading:W-arpeggio","scale:pentatonic","timbre:melody_echo","bass:riff","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9500000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":19.76000000000029},"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:boss","middle_voice:doubles_bass","timbre:layered","scale:blues","harmony:stasis"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.300000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4285714285714286,"10":13.014285714285714,"12":15.928571428571429},"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii-V I","modulations":[],"tags":["location:game_won","middle_voice:parallel_thirds_with_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.099999999999978,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Gilligan\'s Island, The":{"Adventures of Gilligan\'s Island, The (1990-07)(Human)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 VII I5 VII5 I5 VII5","modulations":[],"tags":["middle_voice:parallel_octaves","form:tag"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":11,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"17":1},"tags":["scale:atonal","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.289999999999932},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"17":0,"21":6},"tags":["voice_leading:ascending_chromatic","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7600000000000005,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":2.3599999999999937,"5":3.189999999999976,"6":3.9499999999999598,"7":4.749999999999943,"8":5.549999999999926},"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":3,"tagSpans":[{"tag":"timbre:oscillator_as_percussion","span":[1,16]},{"tag":"scale:whole-tone","span":[17,32]},{"tag":"scale:chromatic","span":[33,51]},{"tag":"scale:natural_minor","span":[1,16]},{"tag":"timbre:silence","span":[33,33]},{"tag":"bass:root_fifth","span":[1,16]}],"disableSnapToNotes":false,"romanNumerals":"","tags":["beats:incomplete_measure_on_transition","harmony:stasis"],"modulations":{"5":10,"9":4,"13":10,"33":0,"37":2,"41":0,"45":2},"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"form":{"1":"A","5":"A\'","9":"A","13":"A\'","17":"B","21":"B\'","25":"B","29":"B\'","33":"C","37":"C\'","41":"C","45":"C\'","49":"bridge"},"loop":52,"firstMeasure":0,"step":"end","comment":"","tonic":4,"correctedMeasures":{"34":79.67000000000385,"35":82.07000000000508},"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ vi IV V V I I V/ii V/ii vi IV V V V/ii VII viio-iii","modulations":{"17":5,"49":0,"57":5},"tags":["voice_leading:descending_chromatic_bass","scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":57,"firstMeasure":0,"step":"end","comment":"complex form","correctedMeasures":{"9":10.569999999999819,"10":11.979999999999789,"18":22.620000000000736,"30":38.57142857142857,"33":42.61000000000009,"34":43.90999999999983,"41":53.17999999999799,"42":54.599999999997706,"49":63.92857142857143,"71":92.98000000001066,"73":95.86000000001214},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.139999999999977,"5":4.389999999999951,"7":6.639999999999903,"8":7.989999999999874},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I ii I I IV ii I I I ii I I IV ii I I IV IV5 I I IV5 #IV5 V _ V7 _ _ _ _ _","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6600000000000013,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"jazz bass from m.63: todo accurate form parts","correctedMeasures":{"26":33.590000000001886},"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:descending_chromatic_melody","motive:cadential"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/8 Eyes":{"8 Eyes.nsfe":{"0":{"mode":"minor","secondMeasure":2.389999999999993,"form":{"1":"A:antecedent","9":"A:consequent","17":"B:consequent","21":"B:antecedent"},"loop":25,"romanNumerals":"i V7 i V7 i V7/III III V7 i V i V i VII i i V I V I V I V/V V","firstMeasure":0.7900000000000005,"step":"end","correctedMeasures":[],"tonic":7,"modulations":{"17":10,"23":7},"tags":["form:period","form:reversed_period"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i-V i","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i viio i V7 i V V i","modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i-VII _ i-VII _ i-VII VI-VII i-VII VI-VII","modulations":[],"tags":["style:bagpipe","middle_voice:drone","form:solo","harmony:stasis","bass:pedal_point","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"Celtic","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"i-IV i VII i i IV-i VII i","tags":["scale:dorian","middle_voice:counterpoint"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"form":{"1":"A","2":"","5":"A\'"},"loop":9,"firstMeasure":0,"step":"end","comment":"backward period?","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i io i io i io i io7 i io ii-v i i io i io7 i io ii-v i V I V I V I V/V V i VII VI V V/V V V/V V","modulations":{"21":10,"27":7},"tags":["scale:nikriz","form:period","melody:basic_idea_x3"],"fourMeasurePhrasingReferences":[],"form":{"5":"A:antecedent","9":"A:consequent","13":"A:antecedent","17":"A:consequent","21":"B","29":"C"},"secondMeasure":1.290000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"mm.21-28 resembles subtune 1","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ IV iii _ I _ _ VI-viio V i V i i _ _ _ _ V/V iv V i V/V _ V _ _ _ _ _ _ _ V _ io7 io7 i i _ _ V V","modulations":{"9":5,"15":2},"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5-iv I5 I5-iv I5 VII i VII-viio7 V I5-v I5 I5-v I5 iv i iv-v I5 viio i","tags":["harmony:diminished_chord_modulation","middle_voice:absent","scale:natural_minor","form:sentence","bass:root_fifth","bass:transposed_riff"],"modulations":{"9":0,"18":9},"fourMeasurePhrasingReferences":[2],"form":{"2":"A:sentence. basic idea","4":"basic idea again","6":"1 m. fragmentation","10":"B:sentence","18":"bridge"},"secondMeasure":2.0899999999999994,"loop":20,"firstMeasure":0,"step":"end","comment":"very diverse track just on two voices","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i iio6 i64-V7 i i V i i i bII V i i v i i IV-IV-i V-V-bII V i IV-IV-i V-bII i i VI bII V i VI bII V","modulations":[],"tags":["middle_voice:counterpoint","voice_leading:Cad64","form:period","scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent","17":"C:antecedent","21":"C:consequent","25":"D","29":"D\'"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"9":9,"13":7,"17":0},"tags":["form:period","form:not_looped","middle_voice:parallel_thirds_and_sixths","form:ABA"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V V7 i i bII i-i-v-V7 i i iv i IV i-V7 i iv i VII i","modulations":[],"tags":["form:period","form:extra_measure","voice_leading:rich_ornamentation","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[14,19],"secondMeasure":2.6399999999999877,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","14":"B:consequent"},"loop":19,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"15":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7-viio7 io7-viio7 io7 viio7 io7-viio7 io7-viio7 io7-viio7 io7-viio7","modulations":[],"tags":["scale:chromatic","harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"20":{"beatsPerMeasure":5,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i IV i-VII i-VII i IV i-VII i _ _ _ _ _ _ _ i-IV _ _ _ _ _ _ _ _ i-VII","modulations":[],"tags":["form:extra_measure","bass:riff","scale:dorian","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"form":{"5":"A:antecedent","9":"A:consequent","13":"B:antecedent","17":"B:consequent","21":"C:antecedent","25":"C:consequent","29":"C:antecedent","33":"C:consequent","37":"extra measure"},"loop":38,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i i VII I5 i i VII i i V VII i i V VII i _ _-_-_-viio/V V V V V V V V V io7 io7 V7 V7","modulations":{"22":10,"24":11,"26":0,"30":9},"tags":["harmony:diminished_seventh_chords","scale:mixed_minor","middle_voice:parallel_thirds_and_sixths"],"fourMeasurePhrasingReferences":[2,18,20,24,28],"form":{"2":"A","6":"A","10":"B","14":"B","18":"bridge"},"secondMeasure":1.5900000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"23":35.110000000001584},"tonic":9,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"subtune 1 but twice as slow","correctedMeasures":[],"tonic":7,"basedOn":null},"24":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":28,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"25":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i V+-V+-bII7 V7 i i bII-V i","modulations":[],"tags":["scale:nikriz","form:period","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Alternate Party 2007":{"Alternate Party 2007.nsf":{"0":{"mode":"minor","secondMeasure":0.9200000000000006,"loop":5,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":2},"1":{"mode":"minor","secondMeasure":0.9700000000000006,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Batman - Return of The Joker":{"Batman - Return of The Joker [Dynamite Batman] (1991-12-20)(Sunsoft).nsf":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:blues","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":13,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["location:game_won","analyzed_in:hopkins","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":null,"firstMeasure":0,"step":"end","comment":"Ending. modal mixture? weird major","correctedMeasures":{"8":15.529999999999713,"11":23.320000000000846},"tonic":7,"basedOn":null}}},"Nintendo/America Daitouryou Senkyo":{"America Daitouryou Senkyo (1998-10-28)(Hect Development Division 1)(Hect).nsf":{"0":{"beatsPerMeasure":9,"tagSpans":[{"tag":"middle_voice:absent","span":[1,18]},{"voices":[1],"tag":"bass:inversions","span":[2,2]},{"voices":[1],"tag":"bass:transposed_riff","span":[1,8]},{"tag":"form:period","span":[1,8]},{"voices":[0],"tag":"melody:basic_idea_x2_and_fragmentation","span":[1,8]},{"tag":"form:extra_measure","span":[16,18]}],"romanNumerals":"I ii6 V7 I I ii6 V I V7 I V/V V I ii V7 I-viio/vi-vi ii7 I","tags":["form:AABA"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.5399999999999685,"form":{"1":"A:antecedent","5":"A:consequent","9":"B","13":"A"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":"Stephen Foster - Beautiful Dreamer"},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"bass:two_notes","span":[1,4]},{"tag":"middle_voice:absent","span":[1,4]},{"voices":[0],"tag":"melody:transposed_riff","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I vi IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":25.33000000000116},"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"timbre:silence","span":[32,32]},{"tag":"tempo:ritardando","span":[28,32]},{"voices":[2,0],"tag":"middle_voice:parallel_octaves","span":[1,16]},{"voices":[1],"tag":"bass:counterpoint","span":[1,32]},{"voices":[2],"tag":"middle_voice:static_chord_tones","span":[25,32]},{"voices":[2,0],"tag":"middle_voice:parallel_octaves","span":[23,24]},{"voices":[2],"tag":"middle_voice:static_chord_tones","span":[17,22]}],"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ V I5 I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.339999999999994,"loop":33,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":{"29":51.49999999999832,"30":53.299999999997965},"tonic":10,"basedOn":"Star Spangled Banner"},"4":{"beatsPerMeasure":4,"tagSpans":[{"tag":"middle_voice:absent","span":[1,24]},{"voices":[1],"tag":"bass:root_third_fifth","span":[1,24]},{"tag":"form:period","span":[1,24]}],"disableSnapToNotes":false,"romanNumerals":"I I IV I I I IV V I I IV I IV I V I I I IV I IV I V I","modulations":[],"tags":["harmony:I-IV-V"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9400000000000015,"form":{"1":"A:antecedent","9":"A:consequent","17":"extension"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":5,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.989999999999917,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2},"tonic":0,"basedOn":"drum rhythm from Gustav Holst - Mars, the Bringer of War"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I _ _ ii I5-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9399999999999813,"loop":9,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:demo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Gremlins 2 - The New Batch":{"Gremlins 2.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"11":9,"13":5},"tags":["harmony:neo-riemannian","timbre:oscillator_as_percussion","middle_voice:absent","middle_voice:parallel_thirds","middle_voice:parallel_sixths","harmony:parallel_keys","tempo:ritardando","location:menu"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":1,"correctedMeasures":{"18":29.770000000001854},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC","harmony:stasis","timbre:melody_echo","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":25,"firstMeasure":0,"step":"first measure","comment":"minor seconds, whole-tone scales and tritones can be traced to Gremlin (1984) film soundtrack","correctedMeasures":{"10":16.779999999999824,"11":18.630000000000113,"12":20.507142857142856,"17":29.820000000001862,"22":39.107142857142854,"23":41.107142857142854,"24":42.892857142857146,"26":46.5999999999993},"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i V V V V V V i i V V i i V V V V i i i-i-i-VI _ _ _ i i #IV #IV i i #IV #IV","modulations":[],"tags":["chip:tonal_DMC","timbre:wide_vibrato","harmony:neo-riemannian","middle_voice:parallel_octaves","timbre:melody_echo","middle_voice:arpeggio","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A:antecedent","13":"A:consequent (false start)","17":"A:consequent (again)","25":"bridge","29":"B","33":"B\'"},"secondMeasure":1.5400000000000011,"loop":37,"firstMeasure":0,"step":"end","comment":"Gizmo on his Way to Billy\'s Office – Stage 1. DMC voice not visible","tonic":0,"correctedMeasures":{"2":1.5571428571428572,"5":6.389999999999908,"6":7.989999999999874,"17":25.570000000001198},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i #IV i #IV i-#IV i-#IV V-#IV/V V i-#IV i-#IV V-#IV/V V i VI VII V i VI VII V i-#IV i-#IV V-#IV/V V i-#IV i-#IV V-#IV/V V","modulations":[],"tags":["chip:tonal_DMC","location:level","timbre:melody_echo","harmony:neo-riemannian","middle_voice:arpeggio","middle_voice:parallel_octaves","middle_voice:parallel_sixths"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","9":"A\'","13":"B (development of intro)","17":"B\'","21":"A (noise is different)","25":"A\'"},"secondMeasure":1.8400000000000014,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.439999999999886,"9":14.879999999999727,"10":16.779999999999824,"11":18.630000000000113,"13":22.370000000000697,"14":24.220000000000987},"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ i V/V V i-V i V/V V i i V/V V i-V i V/V V i _ _ _ _ i VI i VI","modulations":[],"tags":["chip:tonal_DMC","location:level","form:period"],"fourMeasurePhrasingReferences":[7],"form":{"1":"intro","7":"A:antecedent","11":"A:consequent","15":"A\':antecedent","19":"A\':consequent"},"secondMeasure":1.5900000000000012,"loop":31,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC","location:level","scale:whole-tone","harmony:constant_structures","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.53999999999999,"loop":25,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":1.8571428571428572,"9":14.879999999999727,"10":16.74999999999982},"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.460000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.0599999999999787,"10":14.379999999999738,"11":15.979999999999704},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC","scale:pentatonic","tempo:ritardando","voice_leading:W-arpeggio","location:shop","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"end","comment":"Mr. Wing\'s Shop - Chinese shop","tonic":4,"correctedMeasures":{"4":7.989999999999874,"5":10.639999999999818,"9":23.642857142857142},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC","scale:chromatic","timbre:wide_vibrato","location:boss","rhythm:syncopation","harmony:stasis","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","17":"B","25":"C"},"secondMeasure":3.189999999999976,"loop":29,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":{"9":14.379999999999738},"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"is it used?","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level_completed","timbre:wide_vibrato","harmony:parallel_keys","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ V/V","modulations":[],"tags":["location:game_won","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5900000000000012,"9":12.779999999999772,"10":14.679999999999731,"11":17.179999999999886,"12":18.780000000000136},"tonic":2,"basedOn":null}}},"Nintendo/Antarctic Adventure":{"Antarctic Adventure [Kekkyoku Nankyoku Daibouken] (1985-04-22)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I I5 IV IV IV IV V V _ I _ _ I V5 I _ I I V V V5 V5 I5 I5 I V7/IV IV iv I V I I","modulations":[],"tags":["middle_voice:absent","style:waltz"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":33,"firstMeasure":0,"step":"end","comment":"original seventh chords lost in this arrangement","correctedMeasures":{"26":19.980000000000324,"27":20.78000000000045,"33":25.614285714285714},"tonic":4,"basedOn":"Émile Waldteufel - Les Patineurs (Op. 183)"},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I ii-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Alfred Chicken":{"Alfred Chicken (1993)(Twilight)(Mindscape).nsf":{"0":{"disableSnapToNotes":false,"romanNumerals":"I V V V I V V V I V V V I V V I _ _ I V V V I V V V I V V V I V V I","modulations":{"19":7,"35":6,"53":7},"tags":["form:period","melody:fills_at_rests","timbre:melody_echo","bass:root_fifth","timbre:wide_vibrato","timbre:minor_seconds","harmony:pure_I-V","middle_voice:mixed_parallel","timbre:chorus"],"mode":"major","fourMeasurePhrasingReferences":[5,13,23,31],"secondMeasure":2.8399999999999834,"form":{"1":"antecedent","9":"consequent","17":"bridge","19":"antecedent","27":"consequent"},"loop":35,"firstMeasure":1.1900000000000008,"step":"end","tonic":6,"correctedMeasures":{"1":1.2400000000000009,"5":7.739999999999879,"6":9.389999999999844,"9":14.27999999999974,"13":20.830000000000457,"14":22.470000000000713,"20":32.27000000000215,"23":37.160000000001176,"27":43.70999999999987,"28":45.34999999999955,"33":53.549999999997915,"45":73.18000000000053}},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:melody_echo","style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"pure chord","correctedMeasures":[],"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:single_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I V V I I V V I","tags":["timbre:chorus"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.239999999999996,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.289999999999953,"4":6.439999999999907,"10":19.32857142857143},"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ I6","modulations":{"25":10},"tags":["bass:inversions","upper_voices:same_range","bass:root"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:dorian","bass:riff","harmony:stasis","timbre:chorus","form:EDM"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":22.080000000000652,"13":26.520000000001346,"15":30.920000000002034,"16":33.12000000000198,"22":46.39999999999934,"29":61.889999999996256,"33":70.72999999999928,"34":72.9300000000004},"tonic":3,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii7 IV V I iii7 IV V I iii7 IV V I iii7 IV V","modulations":[],"tags":["timbre:chorus","form:progression","bass:root_fifth","bass:transposed_riff","middle_voice:parallel_thirds","harmony:Vsus4"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.289999999999953,"10":19.38000000000023,"11":21.480000000000558,"12":23.6700000000009,"13":25.820000000001237},"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I i v V I i v V I i v V I i v V","modulations":[],"tags":["form:progression","upper_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"form":{"1":"A","5":"A","9":"B","13":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877,"6":6.639999999999903,"9":10.639999999999818,"12":14.629999999999733},"tonic":8,"basedOn":null}}},"Nintendo/3-D Battles of WorldRunner":{"3-D Battles of WorldRunner (1987-09)(Square)(Acclaim).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.6100000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"tough beats - late attack?","correctedMeasures":{"5":2.4499999999999917,"16":8.214285714285714},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":3,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.5600000000000003,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"I I VI VI I I VI VI I I I I I I ii7 ii7","modulations":{"9":5,"11":3,"13":1},"tags":["harmony:constant_structures"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0100000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.099999999999999},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","modulations":{"9":9,"17":7},"tags":["harmony:stasis"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.310000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"romanNumerals":"- - - - I I V V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":7.949999999999875,"loop":null,"firstMeasure":6.259999999999911,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Rad Gravity, The":{"Adventures of Rad Gravity, The (1990-12)(Interplay)(Activision).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.88999999999994,"loop":15,"firstMeasure":3.3399999999999728,"step":"end","comment":"","correctedMeasures":{"2":4.739999999999943},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"_ I ii IV V I IV V I I ii V V I IV V I ii-V I IV vi ii-V vi IV V I ii I V I ii V I i VII VI V i VII VI V i VII VI V i VII VI V","modulations":[],"tags":["bass:walking","middle_voice:melody_below_arpeggio","middle_voice:counterpoint","harmony:parallel_keys","form:ABAC","rhythm:swing","rhythm:3+3+2","timbre:portamento"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.290000000000001,"form":{"2":"A","10":"A","18":"B","26":"A","34":"C"},"loop":50,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"49":62.53999999999613},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","modulations":{"23":10,"27":1,"31":5,"35":0},"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":45,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"5":5.639999999999924,"18":23.970000000000947,"22":29.87142857142857,"23":31.02000000000205,"24":32.42000000000212},"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"_ _ i i iv V i i iv V _ _ _ _ _ _ i i iv V","modulations":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.490000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"triple pulsation","correctedMeasures":{"3":2.6899999999999866,"4":4.039999999999958},"tonic":9,"basedOn":null}}},"Nintendo/Asterix":{"Asterix (1993)(Bit Managers)(Infogrames).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:rich"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4142857142857144},"tonic":10,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i v v i i v v iv iv i i iv iv V V","modulations":[],"tags":["location:lost","analyzed_in:hopkins","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Airball":{"Airball (Prototype) (1990)(Michtron)(Atari).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i VI VII v VI v IV5 IV i VI VII v VI v IV5 IV _ _ _ _ _ _ _ _ i VI VII v","modulations":[],"tags":["form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I V5 vi V5/vi IV I5 IV V I V vi iii IV I IV V I V vi iii IV I IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":61,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"33":34.06000000000179},"tonic":5,"basedOn":"Pachelbel\'s Canon"}}},"Nintendo/Higemaru Makaijima - Nanatsu no Shima Daibouken":{"Higemaru Makaijima - Nanatsu no Shima Daibouken (1987-04-14)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I IV _ _ I V I _ _ _ _ ii V I5-bII5 I^","modulations":[],"tags":["form:not_looped","voice_leading:W-arpeggio","timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":26.35000000000132},"tonic":3,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":23.40000000000086},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:silence","form:accumulative","harmony:unison","scale:hexatonic_minor_no6","timbre:layered","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.470000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.759999999999772,"10":14.359999999999738,"13":19.17142857142857,"14":20.87142857142857,"15":22.4,"16":23.950000000000944},"tonic":0,"basedOn":null}}},"Nintendo/AGCI Test Cart":{"AGCI Test Cart (19xx)(American Game Cartridges).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":5.519999999999927,"loop":null,"firstMeasure":3.609999999999967,"step":"end","comment":"Very hard to track beats here","correctedMeasures":{"4":9.239999999999847,"5":11.179999999999806,"6":12.929999999999769,"7":14.879999999999727,"8":16.659999999999805},"tonic":7,"basedOn":null}}},"Nintendo/Ai Sensei no Oshiete - Watashi no Hoshi":{"Ai Sensei no Oshiete - Watashi no Hoshi (1993-03-26)(Irem).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.289999999999995,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/BurgerTime":{"Burger Time.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tonic:ambiguous"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Akuma-kun - Makai no Wana":{"Akuma-kun - Makai no Wana (1990-02-24)(Tose)(Bandai).nsf":{"0":{"mode":"minor","secondMeasure":1.8400000000000014,"firstMeasure":0,"step":"end","tonic":9},"1":{"mode":"minor","secondMeasure":2.6399999999999877,"firstMeasure":0,"step":"end","tonic":7},"3":{"mode":"major","secondMeasure":2.1399999999999983,"firstMeasure":0,"step":"end","tonic":7}}},"Nintendo/Venice Beach Volleyball":{"Venice Beach Volleyball (1991)(Idea-Tek, American Video Entertainment).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:extra_measure","beats:extra_beat","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.339999999999994,"form":{"1":"A","5":"A","8":"4/4+2/4","9":"B","13":"B","17":"4/4+2/4 - anacrusis is in the loop"},"loop":18,"firstMeasure":0.7900000000000005,"step":"end","comment":"","tonic":0,"correctedMeasures":{"9":14.329999999999739,"10":15.929999999999705,"18":29.520000000001815},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII _ _ _ _ _ _ _ _ _ III","modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Apple Town Monogatari - Little Computer People":{"Apple Town Monogatari - Little Computer People (FDS)(1987-04-03)(Activision)(Square)(DOG).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":13.82999999999975},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":null,"basedOn":"Mozart K.331 III"},"2":{"beatsPerMeasure":4,"romanNumerals":"I I I I IV IV I I IV IV I I V V IV IV I I I-V/V V i-iv i-iv i-iv i-i-i-V/v i-V i-V i-V i-V/VI I I I I IV IV I I IV IV I I V V IV IV I I I IV5-V5-I-I","tags":["style:ragtime","form:ABA"],"modulations":{"21":9,"22":9,"25":4,"29":0},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":7.189999999999891,"loop":null,"firstMeasure":5.899999999999919,"step":"end","comment":"","correctedMeasures":{"22":31.170000000002073},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","tags":["chip:extensions"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.389999999999993,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":"BWV Anh. 115"},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":"BWV Anh"}}},"Nintendo/Bugs Bunny Crazy Castle, The":{"Bugs Bunny Crazy Castle, The (1989-08-03)(Kemco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"5":5},"tags":["harmony:plagal_shuttle","scale:chromatic","timbre:melody_echo","location:launch_screen","scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":{"3":2.8399999999999834},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:blues","style:functional_blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":7.289999999999889,"12":13.37999999999976,"15":17.029999999999863,"29":34.06000000000179},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"","tags":["location:game_won"],"modulations":{"13":9,"17":5},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":11.4799999999998},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7400000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.5400000000000011},"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I IV7 IV7 ii V I _ I I IV7 IV7 ii V I _ IV IV viio/V viio/V V5 _ vi V+ I _ IV7 _ ii V I bII7-_","modulations":[],"tags":["bass:walking","form:period","style:functional_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2400000000000009,"form":{"1":"intro","5":"A:antecedent","13":"A:consequent","21":"B"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"15":17.879999999999995,"17":20.430000000000394,"20":24.270000000000994},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7 #VII^ bII-bii","modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV^ iii7 ii7 I^","modulations":[],"tags":["harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Aspic - Mahebiou no Noroi":{"Aspic - Mahebiou no Noroi (FDS)(1988-03-31)(Xtalsoft)(Bothtec).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I VII I VI VII VI I I I VII I","modulations":{"5":9,"9":2},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":12.629999999999775,"10":19.15714285714286},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i i i VI i VI V","tags":["bass:inversions"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":9.289999999999846,"7":11.179999999999806,"8":13.1,"9":14.879999999999727},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"tonic","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Faxanadu":{"Faxanadu (1987-11-16)(Falcom, Hudson)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I ii I VI-V I ii I VI-V I I III-IV I I I III-IV I VI-VII I VI-VII i VI-VII I VI-VII VI-VII5 I VII VI VI","modulations":[],"tags":["bass:pedal_point","harmony:constant_structures","middle_voice:melody_below_arpeggio","location:menu"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.5700000000000012,"form":{"2":"A","6":"A","10":"B","14":"B","18":"C","22":"C","26":"tag"},"loop":null,"firstMeasure":0,"step":"end","comment":"Title Theme. see https://mtosmt.org/issues/mto.23.29.3/mto.23.29.3.cook.html","correctedMeasures":{"26":39.94285714285714},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i IV5 III VI5 ii V i i i iv III VI5 ii V i i i iv III VI ii V i i i iv III VI ii V V/iv V/iv iv iv V/III V/III bII/III III VI VI iv iv iiø iiø V V","modulations":[],"tags":["bass:root_third_fifth","middle_voice:parallel_sixths","middle_voice:parallel_thirds","lower_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"form":{"1":"A","9":"A\'","17":"A\'\'","25":"A\'\'\'","33":"B"},"loop":49,"firstMeasure":0,"step":"end","comment":"Password Screen, Mantra, accumulative form","correctedMeasures":{"32":32.97142857142857,"40":41.47142857142857,"48":49.98571428571429},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i i i i iv-VII III-VI I I-V/bII i i i i iv-VII III-VI I I-V/bII i-VII i V-i V-i V-i i V-i V-i V-i","modulations":{"7":7,"11":8,"13":9,"15":7,"19":8,"21":9},"tags":["form:extra_measure","rhythm:latin","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[9,17,22,26,30,34],"form":{"1":"intro","5":"A","13":"A","21":"extra","22":"B","26":"B","30":"C","34":"C","38":"intro"},"secondMeasure":1.5700000000000012,"loop":42,"firstMeasure":0,"step":"end","comment":"Eolis","correctedMeasures":{"2":1.5700000000000012,"22":33.46000000000191,"23":35.14000000000158,"33":51,"34":52.628571428571426,"37":57.48571428571429},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7 I IV-viio/V V I V7 I vi-ii V I-V","modulations":[],"tags":["style:common_practice","harmony:Vsus4"],"fourMeasurePhrasingReferences":[6,12],"form":[],"secondMeasure":2.9199999999999817,"loop":12,"firstMeasure":0,"step":"end","comment":"virtual root (V43 in m.2). Guru’s Houses (Cathedral theme). organ choral-like? ","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V7/IV IV iv I V/V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"King Throne","correctedMeasures":{"2":1.5700000000000012},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["harmony:power_chords","harmony:stasis","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","21":"B"},"secondMeasure":0.9200000000000006,"loop":25,"firstMeasure":0,"step":"end","comment":"Shop","correctedMeasures":{"2":0.9285714285714286},"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i bII V I i bII V I iv III ii I iv III ii I i bII V I i bII V I iv III ii I iv III ii I I III V IV I III V IV","modulations":{"11":2,"19":9,"21":9,"27":2},"tags":["harmony:parallel_keys","harmony:constant_structures"],"fourMeasurePhrasingReferences":[3],"form":{"3":"A","7":"A","11":"B","15":"B","19":"A","23":"A","27":"B","31":"B","35":"C","39":"C"},"secondMeasure":1.5400000000000011,"loop":43,"firstMeasure":0,"step":"end","comment":"Trunk","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":{"3":5,"5":7,"7":5,"9":7,"11":5,"13":7,"15":5},"tags":["harmony:stasis","middle_voice:parallel_thirds","melody:riff","scale:mixolydian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.319999999999931,"loop":17,"firstMeasure":0,"step":"end","comment":"Town. mixolydian shuttle. accumulative form","tonic":7,"correctedMeasures":{"2":2.642857142857143,"3":5.319999999999931,"4":8.014285714285714,"5":10.609999999999818,"6":13.271428571428572},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["scale:chromatic","rhythm:latin","scale:hijaz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":41,"firstMeasure":0,"step":"end","comment":"Tower","correctedMeasures":{"2":1.0571428571428572,"14":0},"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"3":5,"5":3,"6":5},"tags":["scale:chromatic","location:boss","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":8,"firstMeasure":0,"step":"end","comment":"Boss","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ io io io io io io io io io io io io io io io io ","modulations":{"21":2,"37":2,"41":7,"45":2,"49":7},"tags":["bass:riff","timbre:layered","scale:atonal","harmony:stasis","harmony:diminished_seventh_chords","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","13":"A","21":"B","29":"B","37":"C","45":"C"},"secondMeasure":1.0200000000000007,"loop":53,"firstMeasure":0,"step":"end","comment":"Mist","correctedMeasures":{"3":2.1199999999999988},"tonic":7,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic","timbre:ultra_fast_notes","harmony:quartal"],"fourMeasurePhrasingReferences":[4,7,10,13],"form":[],"secondMeasure":0.9100000000000006,"loop":16,"firstMeasure":0,"step":"tonic","comment":"Hourglass: time stops","correctedMeasures":{"12":11.689999999999795},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i I I","tags":["timbre:melody_echo","middle_voice:arpeggio","harmony:neo-riemannian","middle_voice:mixed_parallel"],"modulations":{"3":5,"5":7,"9":4,"11":5,"13":7,"17":9,"19":5,"21":10,"23":3},"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B"},"secondMeasure":2.3699999999999934,"loop":25,"firstMeasure":0.7700000000000005,"step":"end","comment":"Branch","correctedMeasures":{"8":11.928571428571429,"16":24.742857142857144,"32":50.292857142857144},"tonic":4,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iiø V5 i i iiø V5 _ _ I5","tags":["timbre:layered"],"modulations":{"38":1,"39":1,"41":9,"43":1,"45":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"form":{"1":"A","9":"B","17":"A","25":"B"},"loop":45,"firstMeasure":0,"step":"end","comment":"Dartmoor","correctedMeasures":{"38":59.09999999999681,"39":60.51999999999653,"40":62.18571428571428},"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["bass:pedal_point","harmony:quartal","beats:unclear_measure_onsets"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0.11999999999999998,"step":"end","comment":"Zenis, similar to 9","correctedMeasures":{"2":1.1700000000000008,"13":12.509999999999778,"14":13.559999999999755},"tonic":0,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I ii I VI-V I ii I VI-V I I III-IV I I I III-IV I VI-VII I VI-VII i VI-VII I VI-VII VI-VII5 I VI-VII VI-VII I","modulations":[],"tags":["harmony:constant_structures","location:game_won","motive:natural_horn_call"],"fourMeasurePhrasingReferences":[2],"form":{"2":"A","6":"A","10":"B","14":"B","18":"C","22":"C","26":"tag"},"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"copy of tune 1, except the ending (horn call or fanfare?)","correctedMeasures":{"26":39.885714285714286},"tonic":11,"basedOn":null}}},"Nintendo/Journey to Silius":{"Journey to Silius.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","modulations":[],"tags":["timbre:wide_vibrato","bass:riff","harmony:stasis","middle_voice:riff","form:accumulative","chip:tonal_DMC","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":38.060000000001,"17":46.89999999999924},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i v-iv i III-iv i v-iv i III-iv i7 i7 i7 i7 i7 i7 i7 v i VII v-VII i i VII v-VII i iv v i i iv v i i i i VII VII VI VI VII VII i VII VI VII i VII VI i i VII #VI VI i VII #VI VI i i ","modulations":[],"tags":["chip:tonal_DMC","location:launch_screen","rhythm:syncopation","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B\'","17":"C","21":"C\'","25":"D","29":"D\'","33":"E","41":"F:antecedent","45":"F:consequent","49":"G","53":"G\'","57":"tag"},"secondMeasure":1.9900000000000015,"loop":59,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"10":12.6,"11":13.907142857142857,"14":17.914285714285715,"15":19.47142857142857,"16":20.785714285714285,"17":21.9,"18":23.3,"25":32.67000000000207,"26":34.142857142857146,"27":35.460000000001514,"28":36.460000000001315,"29":37.92857142857143,"32":42.1,"33":43.25999999999996,"41":53.899999999997846,"44":57.92857142857143,"45":59.24285714285714,"46":60.56428571428572,"49":64.58999999999614,"50":65.8899999999968},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i i i i VII VI VII i VII VI VII iv iv v v iv iv v v i VII VI VII i VII VI VII i VII VI VII i VII VI VII i i","modulations":[],"tags":["chip:tonal_DMC","rhythm:syncopation","timbre:oscillator_as_percussion","timbre:melody_echo","form:basso_ostinato","bass:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A (intro)","5":"A","9":"B","13":"B\'","17":"C","21":"C\'","25":"D","29":"D\'","33":"D","37":"D\'","41":"tag"},"secondMeasure":1.340000000000001,"loop":43,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.9857142857142858,"7":7.985714285714286,"15":18.630000000000113,"16":19.97142857142857,"21":26.65714285714286,"22":27.957142857142856,"29":37.260000000001156,"37":47.89999999999904,"39":50.57142857142857,"40":51.97142857142857,"41":53.299999999997965,"43":55.88999999999745,"44":57.214285714285715,"45":58.38999999999695},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI i i VI VI i i VII VII VI VI v v i i VII VII VI VI v v i i VI VI iv iv v v  i i VI VI i i VI VI i i VII VII VI VI v v i i VII VII VI VI v V","modulations":[],"tags":["chip:tonal_DMC","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","17":"B\'","25":"C","33":"A","37":"A\'","41":"B","49":"B\'","57":"C"},"secondMeasure":2.6399999999999877,"loop":65,"firstMeasure":0,"step":"end","comment":"[C] has Piano Phase vibes","correctedMeasures":{"2":2.1142857142857143,"9":17.029999999999863,"11":21.280000000000527,"18":36.27142857142857,"25":51.0999999999984,"26":53.285714285714285,"31":64.18999999999593,"59":123.53000000002629},"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i i i i i i i i i VI VII iv i VI VII i VI VII i i VI VII i i i VI VII iv i VI VII i","modulations":[],"tags":["chip:tonal_DMC","location:level","bass:riff","form:period","timbre:melody_echo","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent","17":"C","21":"C\'","25":"B\':antecedent","29":"B\':consequent"},"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":17.379999999999917,"13":19.1800000000002,"14":20.771428571428572,"25":38.31000000000095,"26":39.91000000000063},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i i VII v i i VII v i VII VI V i VII VI VII I-I-I-#IV I-I-I-#IV I-I-I-#IV I-I-I-#IV i VII VI VII i VII VI-v i","modulations":[],"tags":["chip:tonal_DMC","location:level","timbre:melody_echo","form:period","scale:phrygian","rhythm:3+3+2"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"B","9":"B","13":"C","17":"C\'","21":"D","25":"E:antecedent","29":"E:consequent"},"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"Inside the Terrorist\'s Spaceship – Stage 4","correctedMeasures":{"23":35.110000000001584,"24":36.710000000001266,"26":39.91000000000063},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"3":4,"5":3,"7":4,"9":3,"15":4,"19":8},"tags":["chip:tonal_DMC","harmony:diminished_seventh_chords","location:boss","scale:chromatic","timbre:melody_echo","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[3,19,21],"form":{"1":"intro","3":"A","7":"A","11":"B","15":"B\'","19":"bridge","21":"C"},"secondMeasure":1.5900000000000012,"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"19":28.770000000001698,"23":35.110000000001584,"24":36.710000000001266},"tonic":8,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I i i","modulations":{"3":6},"tags":["chip:tonal_DMC","location:level_completed","timbre:oscillator_as_percussion","harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I V IV V I V IV-V vi VI VII VI VII VI VII VI-VII i I vi IV V I vi IV V vi V #IV V vi V #IV V I","modulations":{"9":9,"17":0},"tags":["chip:tonal_DMC","tempo:ritardando","location:game_won","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent with deceptive cadence","9":"B:antecedent","13":"B:consequent","17":"C","21":"C\'","25":"D","29":"D\'"},"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.4,"15":33.5100000000019,"16":35.910000000001425,"33":77.2300000000026},"tonic":0,"basedOn":null}}},"Nintendo/1943 - The Battle of Midway":{"1943.nsfe":{"0":{"mode":"major","tagSpans":[{"tag":"bass:root_fifth","span":[1,3]},{"tag":"bass:counterpoint","span":[4,8]},{"tag":"lower_voices:same_range","span":[1,8]},{"tag":"middle_voice:counterpoint","span":[1,8]}],"secondMeasure":1.5700000000000012,"loop":null,"romanNumerals":"I I IV IV IV-V viio/vi-vi-vi ii-V I5","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":0,"tags":["form:not_looped"]},"1":{"mode":null,"tagSpans":[{"tag":"scale:mixed_minor","span":[1,8]},{"tag":"harmony:stasis","span":[1,8]},{"tag":"melody:basic_idea_x2_and_fragmentation","span":[1,8]},{"tag":"middle_voice:any_chord_tones","span":[1,8]},{"tag":"bass:drone","span":[1,8]},{"tag":"form:modulation","span":[1,8]}],"secondMeasure":1.7700000000000014,"disableSnapToNotes":true,"loop":9,"firstMeasure":0,"step":"end","correctedMeasures":{"2":1.6},"tonic":9,"modulations":{"5":0,"9":9},"tags":["harmony:neo-riemannian"]},"2":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:smooth_chord_tones","span":[1,14]},{"tag":"bass:root","span":[15,17]},{"tag":"bass:scale","span":[18,18]},{"tag":"bass:smooth_chord_tones","span":[19,22]},{"tag":"bass:root","span":[23,26]},{"tag":"middle_voice:lower_chord_tones","span":[1,10]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[11,26]},{"tag":"form:uniform_period","span":[1,10]},{"tag":"harmony:picardy_third","span":[9,10]},{"tag":"harmony:parallel_keys","span":[1,26]},{"tag":"melody:arc","span":[11,18]},{"voices":[0],"tag":"melody:basic_idea_x2_and_fragmentation","span":[1,10]},{"tag":"form:uniform_period","span":[11,26]},{"tag":"melody:stepwise","span":[19,22]},{"tag":"non-chord_tones:chromatic_passing","span":[19,19]}],"disableSnapToNotes":false,"romanNumerals":"i v VI IV-V i v VI IV-V I I I iii IV I ii viio V7 I5 I iii IV I ii viio V7 I5","modulations":[],"tags":["melody:chord_tones"],"fourMeasurePhrasingReferences":[11,15,19,23,5,9],"secondMeasure":3.9699999999999593,"form":{"1":"A","5":"A","9":"bridge","11":"B","19":"B\'","27":"bridge"},"loop":28,"firstMeasure":2.619999999999988,"step":"end","comment":"mm.15-17 can be treated as a single chord","correctedMeasures":{"10":14.6,"11":15.959999999999704,"12":17.309999999999906},"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII III-viio i VI VI VII VII VI VII v i VI VI VII VII5 i i viio viio VII VII VI-VII I5 I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":26,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I5 VII5 viio i VI v V i I V V7/IV IV ii iv I I","tags":["voice_leading:W-arpeggio"],"modulations":{"5":4,"17":7},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.7199999999999647,"13":22.350000000000694},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V _ _ _ v V _ i V","modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic","scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":["scale:chromatic","tempo:accelerando"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":13.159999999999764,"17":15.959999999999704,"18":16.75999999999982},"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"whole-half vibes","correctedMeasures":[],"tonic":4,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I V vi V IV viio/V V _ I _ _ _ IV V5 _ I _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV V5 I I IV V I","modulations":[],"tags":["tempo:ritardando"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.1700000000000008,"3":2.3699999999999934,"16":17.942857142857143,"17":19.160000000000196,"20":22.750000000000757,"21":23.950000000000944,"30":34.910000000001624,"31":35.99000000000141,"32":37.34000000000114,"35":42.040000000000205,"36":43.52999999999991},"tonic":7,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ V5 I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"Nintendo/Backgammon":{"Backgammon (FDS)(1990-09-07)(Nintendo R&D1)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"bII5^ bII5 I^ I5^ bII5 bII5 I5 I5 ii ii iii iii ii ii iii iii IV IV iii iii ii ii I I ii V5 iio/ii V/ii ii V i-bII5 i","modulations":[],"tags":["rhythm:latin","harmony:diatonic_seventh_chords","chip:extensions"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.3899999999999717,"loop":33,"firstMeasure":1.6000000000000012,"step":"end","comment":"","correctedMeasures":{"26":44.371428571428574,"28":47.785714285714285,"30":51.2,"31":52.799999999998064,"34":57.93999999999704},"tonic":10,"basedOn":null}}},"Nintendo/Teenage Mutant Ninja Turtles":{"Teenage Mutant Ninja Turtles [Gekikame Ninja Den] (1989-05-12)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I5 III IV5 VI5-VII5 I5 III IV5 VI5-VII5","modulations":[],"tags":["harmony:constant_structures","scale:pentatonic","timbre:melody_echo","voice_leading:W-arpeggio","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.6399999999999455,"loop":37,"firstMeasure":3.6899999999999653,"step":"end","comment":"","correctedMeasures":{"8":10.257142857142858,"9":11.179999999999806,"10":12.142857142857142,"12":13.957142857142857,"13":14.879999999999727,"21":22.370000000000697,"23":24.220000000000987,"25":26.070000000001276,"26":27.020000000001424,"29":29.820000000001862,"31":31.67000000000215,"35":35.410000000001524},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"Nintendo/Tsuppari Oozumou":{"Tsuppari Oozumou (1987-09-18)(-)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.4199999999999924,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"2":2.4199999999999924},"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9800000000000015,"loop":7,"firstMeasure":0.3000000000000001,"step":"end","comment":"","correctedMeasures":{"1":0.3000000000000001},"tonic":3,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/AV Mei Shao Nv Zhan Shi":{"AV Mei Shao Nv Zhan Shi (1994)(Unknown).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ i V V i i iiø viio i","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.619999999999988,"loop":null,"firstMeasure":0.7700000000000005,"step":"end","comment":"","correctedMeasures":{"6":10.109999999999829,"7":11.95999999999979},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.9699999999999807,"loop":3,"firstMeasure":0.3200000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"I I I ii _ _ V V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bad Dudes  [Bad Dudes vs. Dragon Ninja]":{"Bad Dudes [Dragon Ninja] [Bad Dudes vs. Dragon Ninja] (1989-07-14)(Data East)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"9":7,"13":9,"21":0,"25":9},"tags":["bass:riff","scale:tetratonic","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.239999999999996,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.0714285714285716,"9":16.079999999999714,"10":18.130000000000035,"28":54.249999999997776,"29":56.23999999999738,"30":58.38999999999695,"33":64.43999999999606,"34":66.42999999999708},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 io i io I I i I5 I5 io","modulations":[],"tags":["location:boss","scale:lydian","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 _ _ _ _ _ VI5 VII5 I5 _ _ _ _ _ VI5 VII5 i i VII VII i i VI VII i i VII VII i i VI VII i _ _ _ _ _ _ I5 VI VI VII VII i VII VI VII VI VI VII VII i i VII VII VI VI VII VII i VII VI VII VI VI VII VII i i VII VII","modulations":[],"tags":["form:stasis_vs_progression","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":73,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":5.239999999999933,"18":14.829999999999728,"20":16.579999999999792,"22":18.330000000000066,"24":20.08000000000034,"26":21.8,"28":23.52857142857143,"30":25.32857142857143,"37":31.420000000002112,"44":37.51000000000111,"46":39.26000000000076,"48":41.01000000000041,"50":42.76000000000006,"54":46.24285714285714,"66":56.68999999999729,"67":57.58999999999711,"69":59.33999999999676,"70":60.2,"73":62.83999999999607},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5","modulations":[],"tags":["location:boss","harmony:stasis","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V-I5 I I V V I I I V-I I IV I-V5 I I I V V I I V V","modulations":[],"tags":["location:game_won","form:period","style:common_practice","middle_voice:parallel_sixths","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"form":{"1":"antecedent","8":"HC","9":"consequent","16":"PAC","17":"bridge"},"loop":25,"firstMeasure":0,"step":"end","comment":"president of the USA is rescued","correctedMeasures":{"7":5.639999999999924,"18":16.042857142857144},"tonic":0,"basedOn":null}}},"Nintendo/Bad Street Brawler":{"Bad Street Brawler (1989-09)(Beam)(Mattel).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:12-bar_blues","span":[1,48]},{"tag":"harmony:blues_seventh_chords","span":[1,12]},{"voices":[0],"tag":"bass:transposed_riff","span":[1,48]},{"voices":[1],"tag":"middle_voice:drone","span":[1,48]},{"voices":[2],"tag":"melody:chord_tones","span":[1,12]},{"tag":"rhythm:1+2+2+2","span":[41,44]}],"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 V7 i i i i iv iv i i v iv i v i i i i iv iv i i v iv i v i i i i iv iv i i v iv i v","modulations":[],"tags":["harmony:parallel_keys","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"chorus","13":"chorus","25":"chorus","37":"chorus"},"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I I","modulations":[],"tags":["form:12-bar_blues","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V-I V7/V-V ii vi iii-V/iii iii5-V/vi ii I I-V5 I","modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":12.785714285714286},"tonic":7,"basedOn":"Bizet - Carmen - C\'est l\'Espada, la fine lame"},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:boss","scale:octatonic","harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":6.339999999999909},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/Auto-Upturn":{"Auto-Upturn (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I IV V I I IV I","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.1099999999999777,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I IV IV V V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Contra":{"Contra [Probotector] (1988-02-09)(Konami).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bugs Bunny Birthday Blowout, The":{"Bugs Bunny Birthday Blowout, The [Happy Birthday Bugs] (1990)(Kemco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V/V V7 I I V/V V7 I","modulations":[],"tags":["bass:alberti","form:uniform_period","timbre:melody_echo","melody:chromatic_embellishments"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":1.9400000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":15.729999999999709},"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii V I I ii V IV-I V/V-IV V","modulations":[],"tags":["middle_voice:static_chord_tones"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A","5":"A"},"loop":12,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":11.979999999999789,"10":13.529999999999756},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V7/ii ii biiio I IV I-io7 ii-V7","modulations":[],"tags":["rhythm:3+3+3+3+2+2","melody:basic_idea_x3","voice_leading:ascending_bass","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":9,"firstMeasure":0,"step":"end","comment":"harmonic analysis fails, although it\'s clearly functional. voice-leading?","correctedMeasures":{"9":17.029999999999863},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I I I _ V/vi-vi V I _ _ _ V","modulations":[],"tags":["voice_leading:descending_chromatic_bass","timbre:melody_echo","bass:riff"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.0900000000000007,"form":{"1":"intro"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["rhythm:swing"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":17.77999999999998},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":13.679999999999753,"20":17.32999999999991},"tonic":9,"basedOn":null}}},"Nintendo/Adventure Island":{"Adventure Island.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I^ ii7-V I^ V+/ii _ V/ii ii-V I-V5 I^ _-V I _ _ _ _ I-bII","modulations":[],"tags":["bass:walking","melody:fills_at_rests","harmony:diatonic_seventh_chords","form:not_looped","location:launch_screen"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"referenced in 14","correctedMeasures":{"11":14.829999999999728},"tonic":5,"basedOn":null},"1":{"disableSnapToNotes":false,"romanNumerals":"_ _ I I V7 V7 V7 V7 I I I I V7 V7 V7 V7 I I V7/IV V7/IV IV IV V7 V7 I","tags":["rhythm:3 against 2","rhythm:3+3+2","rhythm:latin","middle_voice:lower_chord_tones","harmony:tonic_added-sixth_chord","harmony:pure_I-V","non-chord_tones:chromatic_passing","bass:inversions","location:level","bass:root_third_fifth"],"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":0.9700000000000006,"form":{"1":"intro","3":"A","11":"A\'","19":"B"},"loop":27,"firstMeasure":0,"step":"end","tonic":5,"correctedMeasures":{"4":3.189999999999976,"9":8.489999999999863,"10":9.6,"11":10.629999999999818,"13":12.757142857142858,"15":14.879999999999727,"16":15.979999999999704}},"2":{"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (not looped)","3":"A"},"loop":11,"romanNumerals":"I ii7-V-bII I #VII I^ V+ I bII I","firstMeasure":0,"step":"end","tonic":5,"tags":["non-chord_tones:neighbor","rhythm:3+3+2","lower_voices:double_parallel","middle_voice:lower_chord_tones","non-chord_tones:double_neighbor","location:level","harmony:constant_structures","bass:root_third_fifth"]},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ V/vi I _ _ #VII-#VII-I bii-_","modulations":[],"tags":["scale:atonal","tempo:uneven","voice_leading:three_parallel_voices"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.500000000000001,"loop":10,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4285714285714286,"8":9.949999999999832,"9":11.329999999999803,"10":12.999999999999767},"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i-V i-V V _ V viio7 viio7","modulations":[],"tags":["rhythm:latin","non-chord_tones:mordent","harmony:diminished_seventh_chords","timbre:layered","middle_voice:lower_chord_tones","lower_voices:double_parallel","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.7400000000000013,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.7399999999999642,"4":5.871428571428571,"5":7.779999999999879},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_-V7 i-vii V47-i #IV #IV i","modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.9900000000000015,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V13 I V5 I","modulations":[],"tags":["location:boss","harmony:pure_I-V","middle_voice:parallel_thirds_and_sixths","bass:root_third_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":5,"firstMeasure":0,"step":"end","comment":"a side quest rather than a boss","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I","modulations":[],"tags":["location:level_completed","harmony:mixolydian_shuttle","middle_voice:lower_chord_tones","melody:chord_tones","bass:creative_chord_tones"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7 _ io7","modulations":{"3":5,"5":7},"tags":["harmony:diminished_seventh_chords","timbre:many_instruments_same_oscillator"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.4399999999999706,"5":6.8899999999998975},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV VI VII I","modulations":[],"tags":["scale:blues","harmony:constant_structures","location:jingle","timbre:ultra_fast_notes","bass:root_octaves","bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I^ ii7-V I^ V+/ii _ V/ii ii-V I-V5 I^ _-V I _ _ _ _ I-bII","modulations":[],"tags":["reference:previous_subtune","form:extra_measure"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"green note as a pedal tone","correctedMeasures":{"10":13.179999999999763},"tonic":7,"basedOn":null}}},"Nintendo/Adventure Island 2":{"Adventure Island 2.nsfe":{"0":{"mode":"major","secondMeasure":1.1900000000000008,"loop":null,"romanNumerals":"I I V7 I I I V vi IV - - V/ii IV V I bII","firstMeasure":0.3900000000000002,"step":"end","correctedMeasures":[],"tonic":4,"tags":["form:not_looped","location:launch_screen"]}}},"Nintendo/Arkista\'s Ring":{"Arkista\'s Ring (1990-06)(-)(American Sammy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/75 Bingo":{"75 Bingo (1990)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"1":{"mode":"major","secondMeasure":1.0400000000000007,"loop":9,"romanNumerals":"I ii iii IV","firstMeasure":0,"step":"end","comment":"major scale","correctedMeasures":{"5":4.239999999999954},"tonic":0},"4":{"mode":"major","secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":7},"5":{"mode":"major","secondMeasure":2.389999999999993,"loop":9,"romanNumerals":"I IV I V I IV I-V I","firstMeasure":0.7900000000000005,"step":"end","comment":"country, timbre: banjo","correctedMeasures":[],"tonic":0,"tags":["form:period","middle_voice:melody_below_arpeggio"]}}},"Nintendo/Bakushou! Star Monomane Shitennou":{"Bakushou! Star Monomane Shitennou (1990-09-14)(Pack-In-Video).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["melody:riff","voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V i V i v IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":9,"firstMeasure":0,"step":"end","comment":"rapid BWV 565-style arpeggio","correctedMeasures":{"6":13.079999999999766},"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ II5 I IV-V vi viio ii V","modulations":[],"tags":["harmony:diatonic_seventh_chords","timbre:unexpected_detune"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"9":11.279999999999804},"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I-ii V","modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":5,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I7-V7 I I I I7-V7 IV5 VII5 IV5 VII5 V7/V V IV-#III-III-III ii-bII","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":17,"firstMeasure":0,"step":"end","comment":"spicy cadences","correctedMeasures":[],"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I V5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6300000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3,"4":3.9571428571428573},"tonic":1,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I ii #VI5 V5 I","modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I5 I5 I I I I IV IV I #VII V IV I V I I I i IV IV I i v IV I V i i I5 I5 IV5 IV5 I5 I5 V IV I5 V","modulations":[],"tags":["form:12-bar_blues","timbre:ultra_fast_notes","motive:natural_horn_call","form:solo","melody:transposed_riff","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"form":{"1":"intro","5":"chorus","17":"chorus","29":"chorus"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":15.979999999999704,"18":16.979999999999855,"41":39.91000000000063},"tonic":2,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i","modulations":[],"tags":["scale:dorian","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"loop":5,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"2":3.3399999999999728},"tonic":2,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ i _ VII5","modulations":[],"tags":["middle_voice:parallel_thirds","scale:dorian"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1899999999999973,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6},"tonic":7,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I","modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I _ _ _ _ IV5","modulations":[],"tags":["voice_leading:ascending_chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.4,"9":10.639999999999818},"tonic":5,"basedOn":null},"24":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I5 _ I5 _ IV viio/V ii V5 I5 _ I5 _ ii V I5 I5","modulations":[],"tags":["form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":12.8},"tonic":5,"basedOn":null},"25":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"26":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I vi V ii V","modulations":[],"tags":["middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"27":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ i","modulations":[],"tags":["scale:pentatonic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Adventure Island 3":{"Adventure Island 3 [Takahashi Meijin no Boukenjima III] (1992-07-31)(Hudson).nsf":{"0":{"mode":"major","secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0.7900000000000005,"step":"end","correctedMeasures":[],"tonic":11},"2":{"mode":"major","secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0.4400000000000002,"step":"end","correctedMeasures":[],"tonic":7},"3":{"mode":"major","secondMeasure":1.0400000000000007,"loop":33,"firstMeasure":0,"step":"end","correctedMeasures":{"16":16.079999999999714,"17":17.029999999999863,"18":18.080000000000027,"33":34.06000000000179},"tonic":7},"4":{"mode":"major","secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Artelius":{"Artelius (1987-11-13)(Nichibutsu).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _-V VI-VII I _ _ _ _ _ _ _ _ _ _ _ _ I _ _ _ _ _ I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":3.5899999999999674,"loop":null,"firstMeasure":1.6500000000000012,"step":"end","comment":"ambiguous tonal center, mixolydian","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/A Boy and His Blob - Trouble on Blobolonia":{"A Boy and His Blob.nsfe":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:extra_measure","span":[5,5]},{"tag":"middle_voice:absent","span":[1,32]},{"tag":"bass:root_third","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I vi I IV V I I I I vi vi vi vi V5 V","modulations":[],"tags":["bass:riff","timbre:ultra_fast_notes","form:not_looped"],"fourMeasurePhrasingReferences":[10,14,17,21,25,27,29,6],"secondMeasure":1.5900000000000012,"form":{"1":"intro","6":"A","10":"B","17":"A","21":"A","25":"fragmentation"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I _ _ _ vi _ _ _ _ _ _ _ _ _ I III","tags":["reference:previous_subtune","timbre:unexpected_detune","bass:riff","rhythm:3+3+3+3+2+2","middle_voice:absent","form:extra_measure"],"modulations":{"5":0,"7":9,"29":0,"40":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"24":36.91428571428571,"41":64.13999999999591,"42":65.73999999999673,"54":85.02857142857142,"63":99.45,"64":101.05000000001479},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["rhythm:syncopation","reference:previous_subtune","form:extra_measure","scale:chromatic","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":35,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":14.414285714285715,"14":20.82857142857143},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Akai Yousai - Final Commando":{"Akai Yousai - Final Commando (FDS)(1988-05-02)(Konami).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VI/V-VII/V V5 V I5 I5 III5 III5 IV5 V5 VI5 VII I5 i","modulations":[],"tags":["harmony:Vsus4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0.05,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I5 I5-VII V-V-V-IV5 V i iv-v i VI-VII-i-ii VI VI VII VII I5 _ I I VII VII I I VII _ _ VI5-III5 IV5 VI5-VII5 I5","tags":[],"modulations":{"6":8,"10":1,"16":6,"23":9},"fourMeasurePhrasingReferences":[10,16,20,23,6],"secondMeasure":6.0499999999999154,"loop":33,"firstMeasure":4.849999999999941,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Asmik-kun Land":{"Asmik-kun Land (1991-12-20)(Graphic Research)(Asmik).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":4.189999999999955,"loop":35,"firstMeasure":2.7899999999999845,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/1991 Du Ma Racing":{"1991 Du Ma Racing (1991)(Super Mega Idea Tek).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I _ V V V I I I I V V V I I I I _ _ IV IV I V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[12,15,20,8],"secondMeasure":0.7900000000000005,"loop":27,"firstMeasure":0,"step":"end","comment":"probably detune isn\'t intentional","correctedMeasures":{"19":14.357142857142858,"21":15.979999999999704,"25":19.280000000000214,"26":19.980000000000324,"27":20.78000000000045},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII5 I5 _ i VII VI v i VII I5","modulations":[],"tags":["middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"antecedent","5":"consequent","9":"antecedent","13":"consequent\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"accent shift?","correctedMeasures":{"9":9.5,"13":14.371428571428572},"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":["location:menu"],"modulations":{"5":1,"9":10},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I I IV _ _ ","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.389999999999993,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV V V5/vi vi II57 V","modulations":[],"tags":["middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"m.5 root is probably Ti for consistency","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV VII I I I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bucky O\'Hare":{"Bucky O\' Hare.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i2","modulations":[],"tags":["location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"3":4,"5":5,"7":4,"9":9},"tags":["middle_voice:parallel_fourths","scale:mixolydian","scale:pentatonic","form:abrupt_ending","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.039999999999979,"loop":15,"firstMeasure":1.0400000000000007,"step":"end","comment":"","correctedMeasures":{"2":3.2,"6":11.7,"13":26.47000000000134},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.6400000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["harmony:mixolydian_shuttle","location:menu","timbre:melody_echo","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"B\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"Stage Select","correctedMeasures":{"5":6.389999999999908,"6":7.989999999999874},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I I VII VII I I VII VII I I VII VII I I IV V I I VII VII vi vi IV V I I VII VII vi vi VI VII I","modulations":{"19":0,"35":9},"tags":["harmony:mixolydian_shuttle","rhythm:syncopation","timbre:melody_echo","melody:fills_at_rests","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"form":{"5":"A","13":"A\'","21":"B","29":"B\'","35":"=IV-V, Mario pivot"},"loop":45,"firstMeasure":0,"step":"end","comment":"Green Planet","correctedMeasures":{"2":1.0714285714285714,"5":4.239999999999954,"6":5.3,"9":8.489999999999863,"21":21.280000000000527,"22":22.34285714285714},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"melody:ascending_chromatic","span":[1,5]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:blues","form:development_through_timbre","tempo:uneven","harmony:phrygian_shuttle","voice_leading:descending_chromatic_bass","voice_leading:ascending_chromatic","bass:riff","melody:riff","timbre:melody_echo","location:boss"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":0.9400000000000006,"loop":14,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.9900000000000015,"6":5.289999999999932,"7":6.8899999999998975},"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_bass","voice_leading:descending_chromatic_melody","harmony:diminished_seventh_chords","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I _ _ _ _ IV5 v I","modulations":[],"tags":["location:level_completed","scale:mixolydian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8714285714285714,"4":5.6,"6":9.357142857142858},"tonic":8,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level","tempo:twice_as_fast","middle_voice:parallel_fourths","bass:riff","timbre:melody_echo","middle_voice:parallel_octaves","harmony:blues_shuttle"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"A","9":"B","13":"A","17":"C"},"secondMeasure":1.9900000000000015,"loop":21,"firstMeasure":0,"step":"end","comment":"Blue Planet","correctedMeasures":{"5":7.939999999999875,"6":9.971428571428572,"7":12,"9":15.929999999999705},"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ viio7 viio7","modulations":[],"tags":["location:level","bass:melody","scale:pentatonic","harmony:stasis","voice_leading:descending_chromatic_melody","timbre:melody_echo","bass:riff","harmony:unison"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.0400000000000007,"loop":34,"firstMeasure":0,"step":"end","comment":"Red Planet","correctedMeasures":{"3":2.1},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VII","modulations":[],"tags":["melody:fills_at_rests","scale:phrygian","scale:blues","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"form":{"1":"A","5":"A\'","9":"B","13":"","17":"C","25":"D"},"loop":33,"firstMeasure":0,"step":"end","comment":"Yellow Planet","correctedMeasures":{"6":5.83999999999992,"11":11.714285714285714,"18":19.885714285714286,"22":24.585714285714285,"27":30.428571428571427,"31":35.128571428571426,"33":37.48571428571429},"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level","bass:riff","scale:pentatonic","scale:phrygian","harmony:stasis"],"fourMeasurePhrasingReferences":[2],"secondMeasure":2.1199999999999988,"form":{"2":"A","6":"B","10":"B\'","14":"C","18":"C\'"},"loop":22,"firstMeasure":0,"step":"end","comment":"Cell","correctedMeasures":[],"tonic":0,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VI VI I I VI VI","modulations":[],"tags":["harmony:parallel_keys","harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6899999999999866,"loop":null,"firstMeasure":1.0900000000000007,"step":"end","comment":"Rescued Crew Member","correctedMeasures":[],"tonic":9,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-VII i VI-VII IV5-v","modulations":[],"tags":["location:level","voice_leading:descending_chromatic_bass","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.1399999999999983,"loop":19,"firstMeasure":0,"step":"end","comment":"Salvage Chute","correctedMeasures":{"3":4.039999999999958,"4":6.089999999999915,"13":24.37000000000101},"tonic":3,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i IV5 i VI VI-VII VI VI-VII i VI-VII i VI-VII i VI-VII i VI-VII","modulations":[],"tags":["melody:riff","scale:blues","timbre:melody_echo","middle_voice:parallel_sixths","melody:fills_at_rests","location:level"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"C","17":"C\'"},"secondMeasure":3.239999999999975,"loop":21,"firstMeasure":1.440000000000001,"step":"end","comment":"Center of Magma Tanker","correctedMeasures":{"2":3.3285714285714287,"3":5.228571428571429,"4":7.1571428571428575,"10":18.68000000000012,"14":26.32857142857143,"16":30.228571428571428,"17":32.12000000000218,"18":34,"20":37.82857142857143},"tonic":4,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ IV IV i i IV IV i i VI VI VII VII VI VI VII VII i i VI VII i i VI IV5","modulations":[],"tags":["timbre:melody_echo","middle_voice:parallel_fourths","harmony:dorian_shuttle","form:verse-chorus","rhythm:1+2+2+2","location:level"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro","5":"intro\'","9":"verse","17":"bridge","25":"chorus"},"secondMeasure":1.490000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"Escape!","correctedMeasures":{"3":3.039999999999979,"4":4.539999999999948,"6":7.589999999999883,"8":10.639999999999818,"9":12.129999999999786,"10":13.679999999999753,"13":18.23000000000005,"17":24.320000000001002,"23":33.46000000000191,"26":38.114285714285714,"27":39.5600000000007,"28":41.0600000000004,"30":44.114285714285714,"33":48.64999999999889},"tonic":6,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"io7 io7 io7 io7 ","modulations":{"5":9,"9":8,"17":10},"tags":["harmony:diminished_seventh_chords","scale:chromatic","location:final_boss","harmony:phrygian_shuttle","scale:dorian","harmony:stasis","melody:riff","timbre:melody_echo","middle_voice:parallel_fourths","voice_leading:W-arpeggio","scale:octatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9900000000000007,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":5.289999999999932,"14":16.779999999999824},"tonic":8,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 i4 i4 I I I I VII I VII I VI^ V I VII IV VI-VII I VII IV VI-VII","modulations":{"4":0},"tags":["tempo:ritardando","harmony:mixolydian_shuttle","timbre:melody_echo","voice_leading:descending_diatonic_bass","location:game_won","middle_voice:parallel_thirds_and_sixths"],"fourMeasurePhrasingReferences":[4,14,18],"secondMeasure":3.189999999999976,"form":{"4":"A (period?)","6":"A\'","8":"B","10":"B","12":"bridge","14":"C","18":"C"},"loop":22,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":11.079999999999808,"5":14.27999999999974},"tonic":7,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII5-v I I","modulations":[],"tags":["tempo:ritardando","harmony:mixolydian_shuttle","middle_voice:parallel_sixths","location:after_credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.539999999999905,"6":8.439999999999864},"tonic":0,"basedOn":null}}},"Nintendo/Adventures of Dr. Franken, The":{"Adventures of Dr. Franken, The (Prototype) (1993)(-)(Motivetime).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":"J S Bach - BWV 847 fugue in C minor"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":"Beethoven - Piano Sonata No. 14 (Moonlight)"}}},"Nintendo/Aki to Tsukasa no Fushigi no Kabe":{"Aki to Tsukasa no Fushigi no Kabe (19xx)(Super Pig, Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["chip:extensions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"FM","correctedMeasures":[],"tonic":null,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"FM","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Aigiina no Yogen - From the Legend of Balubalouk":{"Aigiina no Yogen - From the Legend of Balubalouk (1986-11-21)(VIC Tokai).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"melody:basic_idea_x3","span":[1,4]},{"voices":[0],"tag":"middle_voice:root_octaves","span":[1,8]},{"voices":[2],"tag":"bass:root","span":[1,8]},{"tag":"voice_leading:ascending_bass","span":[1,4]},{"tag":"voice_leading:descending_diatonic_bass","span":[5,8]},{"tag":"harmony:constant_structures","span":[1,8]}],"romanNumerals":"I II #III IV-V I VII VI V","tags":[],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I I I ii ii V I I I I I ii ii V I V/IV IV iv I V/IV IV iv ii V _ V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":30,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.5899999999999888,"loop":37,"firstMeasure":1.390000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.989999999999959,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:uniform_period","span":[1,8]},{"tag":"bass:root","span":[1,8]},{"tag":"middle_voice:root","span":[1,8]},{"tag":"timbre:siren","span":[17,24]},{"tag":"timbre:ultra_fast_notes","span":[21,24]},{"tag":"bass:root","span":[17,24]},{"tag":"upper_voices:same_range","span":[17,24]},{"tag":"middle_voice:root_octaves","span":[17,24]},{"tag":"form:period","span":[17,24]},{"tag":"melody:inversion","span":[17,24]}],"disableSnapToNotes":false,"romanNumerals":"I I III I I I III I _ _ _ _ _ _ _ _ I-IV I V I I-IV I V I","tags":[],"modulations":{"9":5,"13":2,"17":5},"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"form":{"1":"A","5":"A","9":"B","17":"C:antecedent","21":"C:consequent"},"loop":25,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Teenage Mutant Ninja Turtles III - The Manhattan Project":{"Teenage Mutant Ninja Turtles III - The Manhattan Project [Teenage Mutant Ninja Turtles II - The Manhattan Project] (1991-12-13)(Konami).nsf":{"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5 III III IV5 IV5 I5 I5 I5 I5 III III IV5 IV5 I5 I5 I5 I5 III III IV5 IV5 I5 I5 III5 II5-bII5 I5 I5 III5 II5-bII5 I5 I5 iv v iv v i i i i","modulations":[],"tags":["rhythm:syncopation","chip:vocal_DMC","scale:pentatonic","middle_voice:parallel_fourths","middle_voice:doubles_bass","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'","17":"A\'\'","25":"B","29":"B\'","33":"C"},"secondMeasure":1.0400000000000007,"loop":41,"firstMeasure":0,"step":"end","comment":"Spaceship","correctedMeasures":{"3":2.1399999999999983,"12":11.714285714285714,"18":18.180000000000042,"19":19.1800000000002,"20":20.228571428571428,"25":25.570000000001198,"28":28.757142857142856,"32":33.02857142857143,"37":38.36000000000094},"tonic":2,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:launch_screen"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":8.239999999999869,"loop":null,"firstMeasure":7.189999999999891,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":"theme song by Chuck Lorre"}}},"Nintendo/Air Fortress":{"Air Fortress.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II IV-IV-VI-VII I I II IV-IV-VI-VII I I II IV-iv I I II IV-iv I I II IV-iv I I II IV-iv I IV/III III iv I IV/III III V/V V I II IV-iv I I II IV-IV-VI-VII I","tags":[],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A","5":"A","9":"B","13":"B","17":"B","21":"B","25":"C","33":"B","37":"B"},"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":2,"correctedMeasures":{},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.8},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":9.58999999999984,"loop":3,"firstMeasure":6.379999999999908,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/AV Poker":{"AV Poker (1990)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"i iv VII V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"25":44.649999999999686},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I V vi V I V vi V I V vi V I V vi V IV IV I _ IV IV V V I V vi V IV V ii V I V vi V IV V I V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"25":44.649999999999686,"31":55.83999999999746,"33":59.589999999996714,"34":61.439999999996346},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","tags":["scale:blues"],"mode":null,"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.2142857142857144,"12":17.57999999999995,"14":20.78000000000045,"16":23.970000000000947,"17":25.52000000000119,"18":27.170000000001448,"19":28.72000000000169},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"I ii iii ii","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6399999999999664,"5":7.389999999999887,"6":9.239999999999847},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"romanNumerals":"i IV VI VII","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/U-four-ia - The Saga":{"U-four-ia - The Saga [Hebereke] (1991-09-20)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bvii _ _ _ _ _ _ _ _ _ _ _ _ _ V/ii IV IV ii7 V7 I _ _ _ _ _ _ _ ii iiø ii/ii V7/ii ii V I VII","modulations":[],"tags":["location:level","middle_voice:melody_below_arpeggio","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"23":35.110000000001584,"24":36.710000000001266},"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["timbre:melody_echo","scale:hijaz","location:level","analyzed_in:hopkins","timbre:oscillator_as_percussion","chip:tonal_DMC","form:solo","bass:drone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":41,"firstMeasure":0,"step":"end","comment":"Mines and Ruins","correctedMeasures":{"5":5.339999999999931,"6":6.664285714285715,"13":15.979999999999704,"14":17.32999999999991,"15":18.630000000000113,"16":19.980000000000324,"20":25.314285714285713,"21":26.62000000000136,"22":27.957142857142856,"29":37.260000000001156,"30":38.61000000000089,"33":42.61000000000009,"34":43.93571428571428},"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"VI V VI V VI V VI V VI V VI V VI V VI V V I V I V I V i i I _ _ _ _ _ _ _ V","modulations":{"9":9,"17":1,"26":0},"tags":["location:level","chip:tonal_DMC","timbre:melody_echo","form:extra_measure","scale:lydian","harmony:parallel_keys","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[21,26,30],"form":{"1":"A","5":"A\'","9":"A","13":"A","17":"A\'\'","21":"A\'\'\'","25":"extra measure","26":"B","34":"B\'"},"secondMeasure":1.390000000000001,"loop":42,"firstMeasure":0,"step":"end","comment":"","tonic":4,"correctedMeasures":{},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"unused?","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V iv-V/V V _ _ _ V _ _ _ _ _ _ ii-V I _ _ _ _ _ V/ii ii-V I","modulations":{"17":10},"tags":["location:password","timbre:melody_echo","form:period","tempo:ritardando","style:common_practice","location:credits","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"A:antecedent","9":"A:consequent"},"loop":25,"firstMeasure":0,"step":"end","comment":"Staff Roll and Password","correctedMeasures":{"25":36.610000000001286},"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I-_ I","modulations":{"1":2,"3":2,"4":3},"tags":["chip:tonal_DMC","location:level_completed","percussion:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ V III/V-bII/V V viio","modulations":{"5":8,"7":9,"9":8,"11":9},"tags":["location:boss","timbre:melody_echo","scale:blues","middle_voice:parallel_fourths","tempo:uneven","chip:tonal_DMC"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.6399999999999877,"form":{"1":"intro","3":"A","7":"A","11":"bridge"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":6.8899999999998975},"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.239999999999954,"5":8.489999999999863,"6":10.639999999999818,"14":27.670000000001526,"15":29.820000000001862,"19":38.31000000000095,"20":40.46000000000052},"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I VII VI V _ _ VII VI-V _ _ _ V/ii ii iio iii vi ii V I ii VII5 iv I","modulations":[],"tags":["location:game_won","voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"23":"pedal point onwards"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i _ i #IV i _ i #IV","modulations":[],"tags":["tempo:uneven","beats:division_change","location:boss","middle_voice:parallel_fifths","percussion:layered"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"form":{"1":"A","3":"A\'","5":"B","9":"B"},"loop":13,"firstMeasure":0,"step":"end","comment":"13/8","correctedMeasures":{"6":13.979999999999746,"9":19.58000000000026,"10":21.43000000000055},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["location:boss","scale:blues","harmony:stasis","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A","3":"A","5":"A","7":"A","9":"B"},"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.340000000000001},"tonic":2,"basedOn":null}}},"Nintendo/Akagawa Jirou no Yuurei Ressha":{"Akagawa Jirou no Yuurei Ressha (1991-02-08)(Mighty Craft)(King Records).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"bvi bII i-biii ii-bii i-bvi i i-biii ii-bii i-bvi i","mode":null,"fourMeasurePhrasingReferences":[3],"secondMeasure":2.53999999999999,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Baby Boomer":{"Baby Boomer (1989)(Color Dreams).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I-IV ii-viio I5 I5 I I5 I5 I I","modulations":[],"tags":["tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":12,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.739999999999858,"6":9.839999999999835,"7":11.93999999999979,"8":13.289999999999761,"9":14.339999999999739,"10":16.489999999999778,"11":17.83999999999999,"12":19.2,"13":19.142857142857142},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:atonal","location:scary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":3,"firstMeasure":0,"step":"end","comment":"graveyard","correctedMeasures":{"2":3.149999999999977},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tonic:ambiguous","tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0500000000000007,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":5.949999999999918,"7":7.149999999999892,"8":8.739999999999858,"9":9.989999999999831},"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:scary","tempo:uneven"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":5,"firstMeasure":0,"step":"end","comment":"hell","correctedMeasures":{"5":9.019999999999852},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:atonal","location:scary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.099999999999999,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Gimmick!":{"Gimmick!.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:launch_screen","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:stasis","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i-bII","modulations":[],"tags":["scale:phrygian","middle_voice:parallel_fifths"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":6.389999999999908,"loop":2,"firstMeasure":1.8900000000000015,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Addams Family":{"Addams Family (1992-01)(Enigma Variations)(Ocean).nsf":{"0":{"mode":"major","secondMeasure":2.3699999999999934,"loop":15,"romanNumerals":"- - - - - - - - I-ii V-I I-ii V-I i i","firstMeasure":0.47000000000000025,"step":"end","tonic":11,"correctedMeasures":{"9":15.809999999999707,"10":17.70999999999997,"14":25.40000000000117,"15":27.300000000001468},"tags":["harmony:unison","timbre:layered","bass:root","harmony:parallel_keys"]},"1":{"beatsPerMeasure":4,"romanNumerals":"","tags":["harmony:unison","scale:lydian"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.8199999999999625,"loop":null,"firstMeasure":1.8700000000000014,"step":"end","comment":"","correctedMeasures":{"3":5.7199999999999225},"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":null,"firstMeasure":0.11999999999999998,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"I ii V I I ii V I","tags":["reference:previous_subtune","harmony:unison"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0.11999999999999998,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"i _ _ _ i _ _ _ i _ _ _ i _ _ _ i _ _ _ i","modulations":{"5":1,"9":5,"13":2,"17":5,"21":7},"tags":["harmony:stasis","bass:riff","scale:hemitonic_pentatonic","middle_voice:mixed_parallel","scale:hexatonic_minor_no6"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.370000000000001,"form":{"1":"A","5":"B","9":"A\'","13":"C","17":"D","21":"D\'"},"loop":25,"firstMeasure":0,"step":"end","comment":"\\"Outside\\", modulates every 4 measures","correctedMeasures":{"2":1.5571428571428572,"18":27.150000000001445,"22":33.540000000001896},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":12,"romanNumerals":"I V7 V7 I I6 ii65 ii-V-I-I ii64-V6-I5-I5","tags":["melody:fills_at_rests","style:common_practice","middle_voice:lower_chord_tones"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":4.769999999999943,"loop":null,"firstMeasure":0.9200000000000006,"step":"end","comment":"","correctedMeasures":{"8":27.800000000001546},"tonic":6,"basedOn":"Johann Strauss - An der schonen blauen Donau"}}},"Nintendo/Burai Fighter":{"Burai Fighter (1990-03)(KID)(Naxat).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 i47 I-III IV-V-VII-I I VII I VII I VII VI V VI VI VI VI VI VI i4 i4","modulations":{"5":7,"9":0,"17":0},"tags":["harmony:quartal","harmony:mixolydian_shuttle","middle_voice:melody_below_arpeggio","harmony:parallel_keys","middle_voice:parallel_fourths","location:level","rhythm:3 against 2","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":21,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{},"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ i bII i bII _ _-v7","modulations":[],"tags":["middle_voice:parallel_fourths","scale:pentatonic","middle_voice:parallel_octaves","timbre:melody_echo","location:level","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ i-VII VI-v i-VII VI-v","modulations":{"3":2,"4":0,"5":2,"6":0,"7":7,"11":2,"12":0,"13":2,"14":0,"15":7},"tags":["location:level","form:ABAC","harmony:mixolydian_shuttle","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.9900000000000015,"form":{"1":"intro","3":"A","7":"B","11":"A","15":"C"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":14.057142857142857,"9":15.979999999999704,"10":17.97142857142857},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I^ _ i7","modulations":{"5":10,"7":9,"9":10,"11":9},"tags":["scale:pentatonic","harmony:shuttle","harmony:neo-riemannian","middle_voice:parallel_octaves","middle_voice:parallel_fifths","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":16,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5285714285714285,"3":3.157142857142857,"4":4.671428571428572,"5":6.1399999999999135,"7":9.189999999999849,"9":12.279999999999783,"11":15.329999999999718},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":5,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:neo-riemannian","harmony:quartal","scale:atonal","location:level"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"form":{"1":"A","5":"A","9":"B","13":"B"},"loop":17,"firstMeasure":0.6900000000000004,"step":"end","comment":"","correctedMeasures":{"4":6.489999999999906,"7":12.279999999999783,"10":18.080000000000027,"13":23.870000000000932,"16":29.67000000000184},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i4 bII5","modulations":{"5":9},"tags":["location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":9,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI-VII I","modulations":[],"tags":["scale:whole-tone","location:launch_screen","timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"v VI VII5 V6 v VI VII5 V6 VI5-VII v-i VI-VII i VI5-VII v-i VI-VII I","modulations":[],"tags":["location:game_won","voice_leading:ascending_bass","middle_voice:static_chord_tones","middle_voice:parallel_thirds","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"form":{"1":"A","5":"A\'","9":"B:antecedent","13":"B:consequent"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/AV Jiu Ji Mahjong 2":{"AV Jiu Ji Mahjong 2 (19xx)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I5 I _  _ _ _ _ V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8200000000000005,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I i iv v","modulations":[],"tags":["harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":3.1699999999999764,"5":4.2199999999999545,"8":7.419999999999886,"11":10.609999999999818,"12":11.709999999999795,"16":15.959999999999704,"17":17.00999999999986},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I5 _ _ _ _ _ V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I5 vi vi5 ii ii5 v V I I vi vi5 ii ii V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.470000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3285714285714285},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I II5 II5 I I II5 II5 I I V V I I V V I I IV IV V/V V/V V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0200000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.1199999999999988,"21":21.30000000000053,"22":22.350000000000694},"tonic":0,"basedOn":null}}},"Nintendo/Alien Syndrome":{"Alien Syndrome (1988-12-02)(Sega)(Sanritsu)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","tags":["harmony:stasis","scale:natural_minor"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.139999999999977},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"i i VII i III IV V i","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.9399999999999813,"loop":null,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Armadillo":{"Armadillo (1991-08-09)(AIM)(IGS).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"middle_voice:arpeggio","span":[9,13]},{"voices":[1,0],"tag":"middle_voice:parallel_sixths","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:lower_chord_tones","span":[14,14]},{"voices":[1],"tag":"middle_voice:mixed_parallel","span":[15,16]},{"voices":[2],"tag":"bass:root_fifth","span":[1,13]},{"tag":"voice_leading:descending_diatonic_bass","span":[14,14]},{"voices":[2],"tag":"bass:root_fifth","span":[15,17]},{"tag":"timbre:silence","span":[4,4]},{"tag":"form:extra_measure","span":[17,18]},{"tag":"form:period","span":[1,8]},{"tag":"form:reversed_period","span":[9,18]}],"romanNumerals":"I IV-I vi-iii ii-V-_-_ I iv-I vi-iii V-I IV iii ii-V I-V7/IV IV-iv I-V-vi-vi IV-V-IV-V IV-iii-III-bII V","tags":["form:binary","rhythm:latin"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:consequent","13":"B:antecedent"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.471428571428572,"6":10.639999999999818},"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:hexatonic_minor_no6","bass:riff","middle_voice:riff","rhythm:swing"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I I I IV5 ii-V I-vi IV-V I IV I V I II5-V I5-vi ii-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.8400000000000014,"form":{"1":"intro (not looped)","3":"A","11":"B"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":["harmony:i-bvii shuttle","bass:riff","middle_voice:parallel_thirds","scale:atonal","scale:nikriz","scale:demo","harmony:shuttle"],"modulations":{"5":7,"7":9,"9":7,"11":9,"12":7,"13":5},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.0899999999999994,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ V vi7-V/V V7 iii V/ii i V/V","modulations":[],"tags":["harmony:diatonic_seventh_chords","harmony:rich"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:diminished_seventh_chords","voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":11.2},"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i VII viø VI^ v7 i VI^ V7 _ _ _ _ iv13 ii7 V47 V7","modulations":[],"tags":["voice_leading:W-arpeggio","rhythm:3+3+3+3+2+2","bass:root_fifth","middle_voice:arpeggio","harmony:Vsus4"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.8400000000000014,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-v IV-_ _ _ _ _ IV5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":13,"firstMeasure":0,"step":"end","comment":"deceptive or modulation?","correctedMeasures":{"4":5.589999999999925,"13":22.32857142857143},"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv V5 iv-iv-V-i I V vi-ii I64-V iv-V5","modulations":[],"tags":["harmony:parallel_keys","voice_leading:Cad64"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":2.1199999999999988,"loop":11,"firstMeasure":0,"step":"end","comment":"mm.6-9 - based on Mozart","correctedMeasures":[],"tonic":9,"basedOn":"Mozart - K.331 (beginning)"},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Arctic":{"Arctic (1990-02-23)(Artdink)(Pony Canyon).nsf":{"4":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.569999999999947,"5":6.369999999999909,"6":7.9699999999998745},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"I vi IV V I vi","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.669999999999987,"loop":9,"firstMeasure":0.5200000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Balda (BBG)":{"Balda (BBG).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["origin:russia"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":11,"basedOn":"Вдоль по Питерской"}}},"Nintendo/Adventures of Lolo":{"Adventures of Lolo.nsfe":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:inversions","span":[10,10]}],"disableSnapToNotes":false,"romanNumerals":"I I I VII-VII-I-V I I I VII-V-I-I IV I IV-V I ii-V7 I-IV V/V V","modulations":{"3":5,"4":7,"7":5,"8":7,"13":10,"15":7},"tags":["form:period","middle_voice:counterpoint","rhythm:swing"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ ii-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V7 V7 I I V V I I V V I I V V I I V7 V7 I I V V I I V V I I V V I I I V/ii ii V I V/ii ii-V I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I I I I V7 V7 I V7 I I I I V7 V7 I V7","modulations":[],"tags":["rhythm:latin","rhythm:3+3+2","middle_voice:arpeggio","melody:riff","rhythm:syncopation","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1399999999999983,"form":{"1":"A:antecedent","9":"A:consequent","17":"A:antecedent","25":"A:consequent","33":"B:antecedent","37":"B:consequent","41":"C:antecedent","49":"C:consequent","57":"B:antecedent","61":"B:consequent","65":"C:antecedent","73":"C:consequent","81":"D:antecedent","89":"D:consequent"},"loop":97,"firstMeasure":1.0400000000000007,"step":"end","comment":"","tonic":5,"correctedMeasures":{"1":1.3285714285714285,"9":9.58999999999984,"16":17.02857142857143,"24":25.52857142857143,"32":34.07142857142857,"36":38.32857142857143,"40":42.6,"64":68.15714285714286,"80":85.2,"88":93.71428571428571,"100":106.5},"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 VII5 VI5 V","modulations":[],"tags":["upper_voices:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I-iii IV I-iii IV","modulations":[],"tags":["scale:blues","bass:root","middle_voice:static_chord_tones","harmony:weird_chord","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.440000000000001,"form":{"1":"intro (not looped)","2":"A"},"loop":6,"firstMeasure":0,"step":"end","comment":"unusual harmony","tonic":0,"correctedMeasures":{},"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I","modulations":[],"tags":["scale:mixolydian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tempo:ritardando"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.5900000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Ai Senshi Nicol":{"Ai Senshi Nicol.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ I I _ _-_-VI-VII _ _ IV _ _ I VI/V-VII/V V _ _ _ V","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.370000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"FM","correctedMeasures":{"6":6.985714285714286},"tonic":5,"basedOn":null}}},"Nintendo/Adventures of Dino-Riki":{"Adventures of Dino Riki.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I I IV V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.5900000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"I I ii V I I ii V I I ii V I I IV V","modulations":{"3":7,"7":5,"11":3,"15":9},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"O Barquinho vibes","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i V V _ _ _ _ io7 io7 i7 i7 io7 io7 i7 i7","modulations":{"11":8,"13":0,"15":8},"tags":["location:scary","scale:nikriz"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"minor, non-functional, semitone/diminished spooky","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","modulations":{"3":3,"5":6,"7":9},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"modulating 3 st every 2 measures","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"III IV VI-VII","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Airwolf":{"Airwolf (1988-12-24)(-)(Kyugo Boueki).nsf":{"0":{"beatsPerMeasure":6,"romanNumerals":"","modulations":{"9":0,"15":9,"21":0,"28":9},"tags":["scale:pentatonic","harmony:stasis"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"25":38.31000000000095},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1400000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3428571428571427,"3":2.657142857142857,"6":6.671428571428572,"7":8.057142857142857,"10":11.942857142857143,"12":14.614285714285714,"14":17.485714285714284,"16":20.057142857142857,"18":22.571428571428573},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i i i i i i i i i i iv iv v v i i i v","modulations":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"I I VII VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ V V _ _ V V","modulations":{"17":2,"25":5,"33":2},"fourMeasurePhrasingReferences":[],"secondMeasure":1.290000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Abadox - The Deadly Inner War":{"Abadox.nsfe":{"0":{"mode":"minor","secondMeasure":1.8400000000000014,"loop":21,"romanNumerals":"i i i i VI VI i i i i i i bII bII V V","firstMeasure":0,"step":"end","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886,"11":18.630000000000113,"12":20.480000000000402,"17":29.820000000001862},"tonic":4,"tags":["timbre:ultra_fast_notes"]},"2":{"mode":"minor","secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":4}}},"Nintendo/AD&D Dragons of Flame":{"AD&D Dragons of Flame (1992-02-21)(U.S. Gold)(Atelier Double)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Al Unser Jr. Turbo Racing":{"Al Unser Jr. Turbo Racing [World Grand-Prix - Pole to Finish] (1989-01-31)(Data East).nsf":{"27":{"beatsPerMeasure":4,"tagSpans":[],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:mixolydian_shuttle","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.489999999999991,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"28":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:blues_seventh_chords","span":[1,12]},{"tag":"timbre:melody_echo","span":[1,12]},{"tag":"bass:doubles_melody","span":[1,12]},{"tag":"melody:transposed_riff","span":[1,8]}],"romanNumerals":"I I I I IV IV I I V V IV IV","tags":["form:16-bar_blues"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":22.214285714285715},"tonic":4,"basedOn":null},"29":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:doubles_melody","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"16":30.216666666666665},"tonic":10,"basedOn":null},"30":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:12-bar_blues","span":[3,14]},{"voices":[2],"tag":"bass:transposed_riff","span":[3,14]},{"tag":"harmony:blues_seventh_chords","span":[3,14]},{"voices":[0,1],"tag":"middle_voice:parallel_fourths","span":[12,12]},{"tag":"voice_leading:W-arpeggio","span":[7,10]},{"voices":[0,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[5,11]},{"tag":"scale:pentatonic","span":[7,8]}],"disableSnapToNotes":false,"romanNumerals":"_ _ I I I I IV IV I I V IV I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"last two chorus measures","3":"chorus"},"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":3.189999999999976},"tonic":3,"basedOn":null},"31":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6},"tonic":11,"basedOn":null}}},"Nintendo/Architect for PC Jr":{"Architect for PC Jr. (19xx)(Gamesoft).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I IV I V I IV I-V I","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":3.6399999999999664,"loop":9,"firstMeasure":0.9900000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Akumajou Special - Boku Dracula-kun":{"akumajou densetsu.nsfe":{"0":{"beatsPerMeasure":7,"romanNumerals":"","modulations":[],"tags":["chip:extensions"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9399999999999813,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":5.089999999999936,"3":9.489999999999842},"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"vrc6_apu","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Alpha Mission":{"Alpha Mission [ASO - Armored Scrum Object] (1986-09-03)(SNK).nsf":{"1":{"mode":"mixolydian","secondMeasure":4.389999999999951,"firstMeasure":2.9399999999999813,"step":"end","tonic":2}}},"Nintendo/19 Neunzehn":{"19 Neunzehn (FDS)(1988-03-04)(Soft Pro).nsf":{"0":{"mode":"major","secondMeasure":2.6599999999999873,"firstMeasure":0.5100000000000002,"step":"end","tonic":0}}},"Nintendo/Adventures of Bayou Billy, The":{"Adventures of Bayou Billy.nsfe":{"0":{"mode":null,"fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","correctedMeasures":[],"tonic":null,"basedOn":""}}},"Nintendo/Tecmo Cup - Soccer Game":{"Tecmo Cup - Soccer Game [Captain Tsubasa] (1988-04-28)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ i v _ _ _ _ _ _ V VI VII III","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0.7900000000000005,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:descending_diatonic_bass","melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V IV vi-V I vi IV V I V IV vi-V","tags":[],"modulations":{"5":4,"9":1},"fourMeasurePhrasingReferences":[],"secondMeasure":3.6899999999999653,"loop":13,"firstMeasure":1.8400000000000014,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Buzz and Waldog":{"Buzz and Waldog [Koko Adventure] (1993-05)(Innovation Tech).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ bII I","modulations":[],"tags":["scale:hijaz","middle_voice:creative_chord_tones","location:level","timbre:minor_seconds","harmony:phrygian_shuttle","scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV I III VII I I I I","modulations":{"17":10},"tags":["location:level","harmony:neo-riemannian","form:stasis_vs_progression","voice_leading:Isus4","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B","17":"C"},"secondMeasure":1.390000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.6142857142857143},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv V/III V/III III V i i iv iv III v i i iv III iiø V7 iv III iiø iiø V7 V7","modulations":[],"tags":["form:extra_measure","form:period","middle_voice:melody_below_arpeggio","location:level","timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[5,13],"secondMeasure":1.340000000000001,"form":{"1":"A:antecedent","9":"A:consequent","17":"B","21":"B (expanded)"},"loop":27,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I iii iii IV IV I I I I iii iii IV IV I I","modulations":{"5":10,"9":0,"13":10,"15":10},"tags":["location:level","harmony:neo-riemannian","harmony:mixolydian_shuttle","middle_voice:lower_chord_tones","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A","9":"A\'"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"18":22.642857142857142,"20":25.314285714285713},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-vi V/V-V I IV I-vi V-I","modulations":[],"tags":["location:level","form:period","middle_voice:creative_chord_tones","style:common_practice"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"unused?","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["rhythm:4 against 3","location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"beginning of a level","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V I","modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.6400000000000003,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I i VII VI-VI-VI-VII I i VII IV5","modulations":{"5":7},"tags":["location:launch_screen","harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"can I-i be reinterpreted as IV-iv?","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-V IV-V IV-I IV5-V I-V IV-V IV-I IV5-V5-I5-I5 I-V IV-V IV-I IV-V I-V IV-I IV-V I","modulations":[],"tags":["location:game_won","form:period","style:common_practice","harmony:Vsus4","middle_voice:melody_below_arpeggio","voice_leading:Isus4","voice_leading:Cad64"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent","17":"repeat with percussion"},"loop":33,"firstMeasure":0,"step":"end","comment":"Pachelbel\'s Canon vibes","correctedMeasures":{"9":12.779999999999772},"tonic":0,"basedOn":null}}},"Nintendo/Arkanoid II":{"Arkanoid II (1988-03-08)(Taito).nsf":{"1":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.8399999999999834,"step":"second measure","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/3-in-1 - Lion King 5":{"3-in-1 - Lion King 5 (19xx)(Dragon).nsf":{"0":{"mode":"mixolydian","secondMeasure":1.0400000000000007,"disableSnapToNotes":false,"loop":97,"firstMeasure":0,"step":"end","comment":"Chinese publisher Dragon Co., that\'s why the Chinese OST in the Africa-themed game","tonic":6,"correctedMeasures":{"24":24.470000000001026,"25":25.620000000001205,"26":26.62000000000136,"42":43.65999999999988,"43":44.749999999999666,"98":103.30000000001594}},"1":{"mode":"minor","secondMeasure":3.889999999999961,"loop":null,"firstMeasure":1.490000000000001,"step":"end","correctedMeasures":{"16":37.410000000001126,"55":130.88000000002594},"tonic":9},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:dorian","harmony:stasis","style:chinese","bass:riff","form:solo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.489999999999863,"9":17.029999999999863,"11":21.280000000000527,"14":27.670000000001526,"17":34.06000000000179,"19":38.31000000000095,"22":44.699999999999676,"25":51.0999999999984,"28":57.48999999999713,"31":63.88999999999586,"33":68.12999999999795},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["beats:incomplete_measure_on_transition","scale:lydian","style:chinese","melody:riff","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":45,"firstMeasure":0,"step":"end","comment":"loop shifts melody over percussion by 1 beat","correctedMeasures":{"6":10.639999999999818,"10":19.1800000000002,"14":27.670000000001526,"17":34.06000000000179,"19":38.31000000000095,"23":46.84999999999925,"25":51.0999999999984,"28":57.48999999999713,"31":63.88999999999586,"33":68.12999999999795,"36":74.53000000000122,"39":80.92000000000449,"42":87.32000000000777,"43":89.46000000000886,"44":91.61000000000996,"45":93.71000000001104,"46":95.86000000001214},"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic","timbre:oscillator_as_percussion","style:chinese","timbre:wide_vibrato","form:solo","form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":14.629999999999733,"15":41.01000000000041,"17":46.84999999999925},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:wide_vibrato","style:chinese","form:solo","bass:riff","timbre:silence","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":28,"firstMeasure":0,"step":"first measure","comment":"guzheng/koto as a solo","correctedMeasures":{"16":23.970000000000947,"22":33.5100000000019,"23":35.110000000001584},"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:wide_vibrato","scale:dorian","harmony:stasis","timbre:oscillator_as_percussion","form:basso_ostinato","style:chinese","form:solo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":29,"firstMeasure":0,"step":"end","comment":"guzheng/koto as a solo","correctedMeasures":{"5":10.639999999999818,"6":13.279999999999761,"8":18.642857142857142,"9":21.280000000000527,"12":29.270000000001776,"13":31.970000000002198,"15":37.260000000001156,"18":45.24999999999957,"21":53.249999999997975,"24":61.239999999996385,"28":71.87999999999987,"31":79.87000000000396,"34":87.87000000000805},"tonic":6,"basedOn":null}}},"Nintendo/Alien 3":{"Alien 3.nsfe":{"0":{"mode":"phrygian","secondMeasure":2.3699999999999934,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-VII i _ _ _ _ _ _ _ _ _ _ _ _ VI VII i i VI VII V5","firstMeasure":0.02,"step":"end","comment":"","tonic":6,"modulations":{"11":9,"21":6,"45":9},"tags":["harmony:stasis","scale:phrygian","bass:riff","timbre:ultra_fast_notes","scale:blues"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"loop":null,"firstMeasure":0.6200000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.7699999999999636,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"4":{"mode":"phrygian","secondMeasure":2.4199999999999924,"firstMeasure":0,"step":"end","tonic":3},"5":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.9200000000000015,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"2":1.8700000000000014},"tonic":2,"basedOn":null},"12":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Archon":{"Archon (1989-12)(Free Fall Associates)(Bullet-Proof Software)(Activision).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.769999999999985,"loop":null,"firstMeasure":1.8200000000000014,"step":"end","comment":"","correctedMeasures":{"23":22.350000000000694,"29":27.95000000000157},"tonic":5,"basedOn":null}}},"Nintendo/AV Pachinko - AV Super Real Pachinko (SFX)":{"AV Pachinko - AV Super Real Pachinko (SFX).nsf":{"7":{"beatsPerMeasure":4,"romanNumerals":"","tags":["scale:blues","rhythm:interesting"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/\'89 Dennou Kyuusei Uranai":{"\'89 Dennou Kyuusei Uranai (1988-12-10)(Micronics)(Jingukan).nsf":{"0":{"mode":"minor","secondMeasure":1.490000000000001,"loop":12,"romanNumerals":"i^ _ _ _ i^","firstMeasure":0,"step":"end","tonic":3,"modulations":{"5":1,"9":6},"tags":["harmony:neo-riemannian"]},"1":{"mode":"minor","secondMeasure":1.490000000000001,"loop":12,"romanNumerals":"i^ ","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":3,"tags":["melody:riff"],"modulations":{"5":1,"9":6}},"2":{"mode":"minor","secondMeasure":1.8400000000000014,"romanNumerals":"","loop":17,"firstMeasure":0,"step":"end","comment":"modulation from m.9","tonic":6,"correctedMeasures":{"10":16.771428571428572,"12":20.585714285714285,"14":24.285714285714285,"15":26.070000000001276,"17":29.82857142857143},"modulations":{"9":11},"tags":["scale:pentatonic","melody:riff","middle_voice:riff","middle_voice:counterpoint"]},"3":{"mode":"major","secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":7},"4":{"mode":"minor","secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":3},"5":{"mode":"major","secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I I ii","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":11},"6":{"mode":"major","secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I^ I^","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":2},"7":{"mode":"minor","secondMeasure":1.9900000000000015,"loop":null,"romanNumerals":"i bvi i","firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"tags":["harmony:neo-riemannian"]},"8":{"tagSpans":[{"tag":"harmony:weird_chord","span":[15,16]},{"tag":"bass:root_octaves","span":[1,8]},{"tag":"bass:root_octaves","span":[15,16]},{"tag":"middle_voice:melody_below_arpeggio","span":[1,8]},{"tag":"melody:chord_tones_as_motive","span":[1,8]},{"tag":"middle_voice:parallel_thirds","span":[9,14]},{"tag":"harmony:diatonic_seventh_chords","span":[1,8]},{"tag":"melody:basic_idea_x3","span":[9,14]}],"romanNumerals":"iv v i i iv v i i I I I I I I i4 i4","modulations":{"9":11,"11":9,"13":7,"15":8},"tags":["form:binary"],"mode":"minor","secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":11.257142857142858,"10":14.428571428571429,"12":17.642857142857142,"14":20.82857142857143,"15":22.370000000000697},"tonic":10},"9":{"mode":"major","tagSpans":[{"voices":[1],"tag":"middle_voice:arpeggio","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[9,12]},{"voices":[2],"tag":"bass:pedal_point","span":[1,8]},{"voices":[2],"tag":"bass:root","span":[9,12]}],"secondMeasure":1.9900000000000015,"loop":13,"romanNumerals":"I II ii I I II ii I IV IV V V ","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":6,"tags":[]},"10":{"mode":"major","tagSpans":[{"tag":"middle_voice:arpeggio","span":[1,8]},{"tag":"bass:counterpoint","span":[1,8]}],"secondMeasure":1.8400000000000014,"loop":9,"romanNumerals":"ii7 viio I^ IV^ iii7 ii7 VII^ vi7","firstMeasure":0,"step":"end","comment":"or ignore bass for chord determination","correctedMeasures":[],"tonic":2,"tags":["harmony:diatonic_seventh_chords","harmony:neo-riemannian"]},"11":{"mode":"minor","tagSpans":[{"tag":"middle_voice:parallel_thirds","span":[1,4]},{"tag":"bass:root_octaves","span":[1,4]},{"tag":"harmony:stasis","span":[1,4]},{"tag":"scale:chromatic","span":[1,4]}],"secondMeasure":1.5900000000000012,"loop":5,"romanNumerals":"i i i I i","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":11,"tags":["bass:pedal_point"]},"12":{"mode":null,"secondMeasure":1.370000000000001,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":6,"basedOn":"Beethoven Symphony 5"},"13":{"mode":"major","tagSpans":[{"tag":"form:12-bar_blues","span":[1,12]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:lower_chord_tones","span":[9,11]},{"voices":[0],"tag":"melody:transposed_riff","span":[1,11]},{"tag":"voice_leading:descending_chromatic_melody","span":[12,12]},{"voices":[2],"tag":"bass:root","span":[1,11]}],"secondMeasure":1.58857142857,"loop":13,"romanNumerals":"I I I I III5 ii I I VI VII I","firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.542857142857143,"3":3.1857142857142855,"4":4.757142857142857,"6":7.9714285714285715,"8":11.17142857142857},"tonic":11,"tags":["melody:riff","middle_voice:parallel_fourths"]},"14":{"beatsPerMeasure":3,"tagSpans":[{"tag":"form:reversed_period","span":[1,8]},{"tag":"harmony:stasis","span":[1,8]},{"tag":"bass:root_fifth","span":[1,8]},{"tag":"middle_voice:static_chord_tones","span":[1,8]},{"tag":"scale:harmonic_minor","span":[5,8]}],"romanNumerals":"i _ _ i _ _ _ V","tags":["scale:demo"],"mode":"minor","secondMeasure":1.7900000000000014,"form":{"1":"consequent","5":"antecedent"},"loop":9,"firstMeasure":0,"step":"end","comment":"harmonic minor scale","correctedMeasures":[],"tonic":1},"15":{"mode":"minor","beatsPerMeasure":3,"tagSpans":[{"tag":"voice_leading:descending_chromatic_bass","span":[1,6]},{"tag":"harmony:weird_chord","span":[5,5]},{"voices":[2],"tag":"bass:root_fifth","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[1,8]},{"tag":"voice_leading:Isus4","span":[7,7]}],"secondMeasure":1.9900000000000015,"loop":9,"romanNumerals":"i V7 i i VI V7 i4 i","firstMeasure":0.49000000000000027,"step":"end","correctedMeasures":[],"tonic":1,"tags":[]}}},"Nintendo/Bakushou! Ai no Gekijou":{"Bakushou! Ai no Gekijou (1990-12-29)(Coconuts Japan).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V V IV IV I I I I IV IV I I IV IV V V","modulations":[],"tags":["form:16-bar_blues","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2200000000000009,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.0857142857142856,"7":6.628571428571429},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I iii ii V I iii ii V IV IV I I IV IV V V","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.6700000000000013,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII I I ii V IV IV I I IV IV V V","modulations":[],"tags":["melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I I IV V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V IV iii ii I I I I V IV #III5 II5 I I I I-IV","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":4.9714285714285715},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I I I I I V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9700000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.459999999999779},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I42 vi V I VII IV V","modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1199999999999988,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Aoki Ookami to Shiroki Mejika - Genchou Hishi":{"Aoki Ookami to Shiroki Mejika - Genchou Hishi (1993-03-25)(Koei).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"i i i i","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.629999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Baseball Stars":{"Baseball Stars [Baseball Star - Mezase Sankanou] (1989-05-19)(SNK).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-viio/ii ii-V I vi IV V I ii V I","modulations":[],"tags":["location:launch_screen","form:period","middle_voice:parallel_thirds_and_sixths","bass:root_octaves"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.290000000000001,"form":{"1":"intro","3":"antecedent","7":"consequent"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":6.639999999999903},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V5 I IV V I VII I","modulations":[],"tags":["bass:root_octaves","middle_voice:parallel_thirds_and_sixths"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV-V5 I","modulations":[],"tags":["middle_voice:parallel_thirds_and_sixths","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I IV II5 I V I I V I II5 _ _ V I","modulations":[],"tags":["middle_voice:static_chord_tones","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1899999999999973,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["beats:division_change"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i V i _ i iv V I5","modulations":[],"tags":["timbre:layered","scale:melodic_minor","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V V V I I IV iii IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.3428571428571427,"4":3.9714285714285715,"9":10.639999999999818,"17":21.23000000000052},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:chirp"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":14.314285714285715,"11":15.914285714285715,"12":17.62857142857143,"13":19.242857142857144,"14":20.757142857142856,"17":25.3},"tonic":0,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.789999999999942,"12":17.57999999999995,"19":28.680000000001684,"20":30.370000000001948},"tonic":10,"basedOn":null}}},"Nintendo/Anticipation":{"Anticipation (1988-11)(Rare)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","tags":["style:ragtime"],"mode":"minor","fourMeasurePhrasingReferences":[],"secondMeasure":1.5500000000000012,"loop":null,"firstMeasure":0.35000000000000014,"step":"tonic","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Ankoku Shinwa - Yamato Takeru Densetsu":{"Ankoku Shinwa - Yamato Takeru Densetsu (1989-03-24)(Another, Zap)(Tokyo Shoseki).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI VII I","tags":["harmony:phrygian_shuttle"],"modulations":{"24":7},"mode":null,"fourMeasurePhrasingReferences":[4],"secondMeasure":6.389999999999908,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":14.469999999999736,"4":14.929999999999726,"5":17.429999999999925,"6":20.08000000000034,"27":77.4200000000027},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":6,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":6.719999999999901,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":13.639999999999754,"27":0},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"29":90.5100000000094},"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":6,"tagSpans":[{"tag":"form:period","span":[1,24]},{"tag":"middle_voice:absent","span":[1,24]},{"voices":[2],"tag":"bass:root_third_fifth","span":[1,24]},{"voices":[0],"tag":"melody:arc","span":[1,8]},{"tag":"scale:natural_minor","span":[1,24]}],"romanNumerals":"i VII VI VI iv v i i i VII VI VI iv v i i VII VII i i VII VII i i","tags":[],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A:antecedent","9":"A:consequent","17":"extension"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":3,"tagSpans":[{"tag":"beats:division_change","span":[13,22]},{"voices":[1],"tag":"middle_voice:riffy_complex","span":[1,16]},{"voices":[1,0],"tag":"middle_voice:melody_below_arpeggio","span":[17,22]},{"voices":[2],"tag":"bass:root","span":[1,16]},{"voices":[2],"tag":"bass:root_fifth","span":[17,22]},{"voices":[0],"tag":"melody:x2_vs_new_x2","span":[1,8]},{"tag":"scale:mixed_minor","span":[1,22]},{"tag":"harmony:diatonic_seventh_chords","span":[5,22]},{"tag":"form:stasis_vs_progression","span":[1,22]},{"voices":[2],"tag":"bass:diatonic_approach","span":[7,9]}],"disableSnapToNotes":false,"romanNumerals":"i i i i VI VI VI VI  i i i i bII bII bII bII VI v I VI v i i","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[5,13,17,20],"secondMeasure":1.7900000000000014,"form":{"1":"A","9":"A\'","17":"B. 5+5+8"},"loop":23,"firstMeasure":0,"step":"end","comment":"awesome","tonic":2,"correctedMeasures":{"18":30.270000000001932,"20":34.11000000000178,"21":35.610000000001484,"23":39.51000000000071},"basedOn":null}}},"Nintendo/Adventures of Rocky and Bullwinkle and Friends, The":{"Adventures of Rocky and Bullwinkle and Friends, The (1992-12)(Radical)(THQ).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["upper_voices:absent","timbre:layered"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.5899999999999888,"loop":5,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7700000000000014,"loop":17,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"4":5.371428571428571,"5":7.2199999999998905,"6":9.019999999999852},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I bII I bII I bII I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":"Thelonious Monk - Well, You Needn\'t"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone","scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Super Pinball":{"Super Pinball (1988-08-23)(Soft Machine)(Coconuts Japan).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.430000000000001,"loop":null,"firstMeasure":0.09999999999999999,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ i","modulations":{"19":11,"28":9},"tags":["rhythm:syncopation","harmony:stasis","form:extra_measure","scale:dorian"],"fourMeasurePhrasingReferences":[10,14,19,23,28,5],"secondMeasure":1.320000000000001,"loop":28,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"2":1.320000000000001,"17":21.30000000000053,"18":22.600000000000733,"26":33.290000000001946,"27":34.59000000000169},"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I I7 I IV7 V I7 I7 I7 I I7 I IV7 III7 I7 I7","modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.320000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I vi vi II5 ii V V5","modulations":[],"tags":["melody:riff","middle_voice:parallel_thirds","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.3399999999999728,"loop":9,"firstMeasure":1.0900000000000007,"step":"end","comment":"","correctedMeasures":{"2":3.2142857142857144},"tonic":2,"basedOn":null}}},"Nintendo/AV Hanafuda Club":{"AV Hanafuda Club (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:12-bar_blues","span":[1,12]},{"voices":[2],"tag":"bass:transposed_riff","span":[1,12]},{"voices":[1,0],"tag":"middle_voice:static_chord_tones","span":[1,12]},{"voices":[0],"tag":"melody:riff","span":[1,8]},{"tag":"rhythm:syncopation","span":[1,12]},{"tag":"harmony:blues_seventh_chords","span":[1,12]}],"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 V7","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.1285714285714286,"5":6.314285714285714,"7":9.542857142857143,"9":12.7,"10":14.314285714285715,"11":15.914285714285715},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.339999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":5.189999999999934},"tonic":8,"basedOn":null}}},"Nintendo/16 Mahjong":{"16 Mahjong (1989)(Sachen, Thin Chen).nsf":{"0":{"mode":"minor","fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"romanNumerals":"i VII VI VII i VII VI VII-I i VII-III VII-VI VII-v i VII-III VII-VI v-i i VII VI VII i VII VI VII-I _ _ _ V5 i VII VI VII-I _ _ _ i VII VI VII i VII VI VII","loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":6,"correctedMeasures":{"6":7.989999999999874,"9":12.771428571428572},"tags":["form:period","form:ABACA"]},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV V I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"mode":"major","secondMeasure":3.1699999999999764,"loop":null,"romanNumerals":"I iii I IV IV I I-IV I","firstMeasure":1.5700000000000012,"step":"end","correctedMeasures":[],"tonic":9}}},"Nintendo/Babel no Tou":{"Babel no Tou (1986-07-18)(Namco).nsf":{"0":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ VII I VII I _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ #VII","modulations":[],"tags":["voice_leading:descending_diatonic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":49,"firstMeasure":0,"step":"end","comment":"weird final","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ VI-VII5 VII5-I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"13":8,"21":0,"29":5},"tags":["bass:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1500000000000008,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I5 V VII5 vi VI bII I I _ _ _ _ _ _ _ VI-V5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":25,"firstMeasure":0,"step":"end","comment":"weird mm.17-24 - modulation?","correctedMeasures":{"22":18.885714285714286},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/AV Dragon Mahjong":{"AV Dragon Mahjong (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I iii IV V I vi ii V I5 iii IV V I5 vi II5 V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0400000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.189999999999955},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 V vi vi IV5 iii ii V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"bass:transposed_riff","span":[1,12]},{"tag":"form:12-bar_blues","span":[1,12]},{"voices":[1],"tag":"middle_voice:transposed_riff","span":[1,12]},{"voices":[0],"tag":"melody:transposed_riff","span":[1,12]},{"tag":"harmony:diatonic_seventh_chords","span":[1,12]}],"disableSnapToNotes":false,"romanNumerals":"i7 i7 i7 i7 iv7 iv7 i7 i7 v7 iv7 i7 i7","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8571428571428572,"3":3.6399999999999664,"4":5.489999999999927},"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.53999999999999,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/A Ressha de Ikou":{"A Ressha de Ikou (1991-08-21)(Artdink)(Pony Canyon).nsf":{"0":{"mode":"major","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5800000000000012,"loop":31,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ IV I IV V _ _ _ _ _ _ IV IV-V","firstMeasure":0,"step":"end","correctedMeasures":{"15":22.360000000000696,"31":47.93999999999903,"32":49.53999999999871},"tonic":5,"tags":["bass:riff"]},"1":{"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.6000000000000012,"loop":13,"romanNumerals":"","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":0},"2":{"tagSpans":[{"tag":"scale:whole-tone","span":[3,4]}],"romanNumerals":"I _ _ _ _ _ _ _ I","tags":["scale:atonal"],"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.0000000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"jazzy","correctedMeasures":{"2":1.300000000000001},"tonic":0},"3":{"mode":"minor","fourMeasurePhrasingReferences":[3],"secondMeasure":1.5800000000000012,"loop":15,"romanNumerals":"_ _ i","firstMeasure":0,"step":"end","comment":"extensions","correctedMeasures":[],"tonic":2}}},"Nintendo/4 Nin Uchi Mahjong":{"4 Nin Uchi Mahjong (1984-11-02)(Hudson)(Nintendo).nsf":{"0":{"mode":"major","secondMeasure":1.340000000000001,"form":{"1":"antecedent","5":"consequent"},"loop":null,"romanNumerals":"I ii V V-I I IV V I","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":9,"tags":["middle_voice:counterpoint","form:period"]},"1":{"mode":"major","secondMeasure":null,"loop":null,"romanNumerals":"","firstMeasure":null,"step":"end","correctedMeasures":[],"tonic":0,"tags":["style:major_chord_jingle"]},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/All-Pro Basketball":{"All-Pro Basketball [Zenbei!! Pro Basketball] (1989-07-21)(Aicom)(VIC Tokai).nsf":{"0":{"mode":"dorian","secondMeasure":1.0400000000000007,"firstMeasure":0,"step":"end","tonic":6},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I I I I IV IV I I V _ V","modulations":[],"tags":["form:16-bar_blues"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.8100000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":2.2714285714285714,"2":2.085714285714286},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"tag":"rhythm:3+3+2","span":[1,35]},{"tag":"form:progression","span":[1,32]},{"voices":[1],"tag":"bass:root_third_fifth","span":[1,32]},{"tag":"middle_voice:absent","span":[1,32]},{"voices":[1],"tag":"bass:doubles_melody","span":[17,24]},{"voices":[0],"tag":"melody:arpeggio","span":[17,24]},{"tag":"timbre:layered","span":[17,32]}],"disableSnapToNotes":false,"romanNumerals":"I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V I V IV V VI VII I","modulations":[],"tags":["form:not_looped","location:game_won"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"A","5":"A","9":"B","13":"B","17":"A","21":"A","25":"B","29":"B","33":"cadence"},"loop":null,"firstMeasure":0,"step":"end","comment":"mario cadence","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"mario cadence","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Addams Family - Pugsley\'s Scavenger Hunt":{"Addams Family Pugsley\'s Scavenger Hunt.nsfe":{"0":{"mode":"major","secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","correctedMeasures":{"14":21.18000000000051},"tonic":4},"1":{"mode":"major","secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0.13999999999999999,"step":"end","correctedMeasures":{"3":1.6900000000000013},"tonic":6},"2":{"mode":"major","secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":6}}},"Nintendo/Hero Quest":{"Hero Quest.nsfe":{"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i7 i7 VI VI _ _ _ _ _ _ _ _ _ _ _ _ _ iv v _ VI _ VII","modulations":{"78":0},"tags":["location:game_won","analyzed_in:hopkins","form:extra_measure","harmony:i-VI shuttle","timbre:oscillator_as_percussion","middle_voice:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.470000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"\\"Aquatic Ambience\\" vibes","correctedMeasures":{"2":1.6200000000000012,"26":39.91428571428571,"28":43.114285714285714,"29":44.72857142857143,"65":102.33000000001545,"74":116.72000000002281},"tonic":1,"basedOn":null}}},"Nintendo/Adventures in the Magic Kingdom":{"Adventures In The Magic Kingdom.nsfe":{"0":{"beatsPerMeasure":4,"romanNumerals":"I","tags":["middle_voice:mixed_parallel"],"mode":"major","fourMeasurePhrasingReferences":[],"secondMeasure":1.9200000000000015,"loop":17,"firstMeasure":0.37000000000000016,"step":"end","correctedMeasures":{"11":15.70999999999971,"13":18.760000000000133,"17":24.900000000001093},"tonic":11,"basedOn":null},"1":{"mode":"major","fourMeasurePhrasingReferences":[3],"beatsPerMeasure":4,"secondMeasure":1.7200000000000013,"loop":19,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"mode":"major","fourMeasurePhrasingReferences":[3],"beatsPerMeasure":4,"secondMeasure":1.8700000000000014,"loop":15,"firstMeasure":0,"step":"end","correctedMeasures":{"8":13.059999999999766,"9":14.909999999999727},"tonic":2,"basedOn":null},"3":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Mario Bros":{"Mario Bros. (1983-09-09)(Nintendo R&D1)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"I V I V I IV IV-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Bad News Baseball":{"Bad News Baseball [Gekitou Stadium!!] (1989-12-15)(Tecmo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I I I I I V I I I V I ii I V V I I V I","modulations":[],"tags":["form:AABA","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V-I5 I vi IV V-I5 I vi IV V-I5 I vi IV V-I5","modulations":[],"tags":["middle_voice:melody_below_arpeggio","form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV ii V IV I ii-V I5","modulations":[],"tags":["middle_voice:parallel_thirds","form:sentence","style:common_practice","timbre:chirp"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A, basic idea","3":"basic idea repeated","5":"fragmentation","7":"PAC","9":"A","17":"bridge"},"loop":22,"firstMeasure":0,"step":"end","comment":"same form here onwards: two repetitions, then a 4-bar whistle","correctedMeasures":{"9":12.771428571428572},"tonic":1,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V I5 V I5 I-V I-V I-V vi-II5 V I5 V I5 I-V I-V I-V vi-II5","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I-V I I IV I-V I I IV I-V I I IV I-V I","modulations":[],"tags":["bass:walking","rhythm:3 against 2","timbre:chirp","form:period","harmony:Vsus4","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","5":"A:consequent","9":"A:antecedent","13":"A:consequent"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V IV-V5 I ","modulations":[],"tags":["beats:unclear_measure_onsets"],"fourMeasurePhrasingReferences":[],"secondMeasure":5.189999999999934,"loop":21,"firstMeasure":0,"step":"end","comment":"La Cucaracha vibes","correctedMeasures":{"1":0,"2":1.5900000000000012},"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I ii ii I I5","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[13,7],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV5 V I I IV5 V I ","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":1.5900000000000012,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV5 v I I VII II5-#III5 IV5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.442857142857143,"6":7.989999999999874,"9":12.459999999999779},"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V V V-I V IV V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I _ ii V I","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV V IV-I V I5","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV V5 IV I IV-V I","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 I ii IV-V5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V V I","modulations":[],"tags":["middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV viio I I IV viio I I V/V V ii/IV-V7/IV IV V I I IV V I5 V/ii ii V I I I V/V V ii/IV-V7/IV IV V I I IV V I5 V/ii ii V I I IV viio V vi ii iii IV V V VI VII I","modulations":[],"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[5,9,12,15,19,23,27],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"49":89.44285714285714},"tonic":9,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I IV IV ii-V I-IV iio/vi-V/vi I ii-V I-IV iio/vi-V/vi I IV iii ii I IV iii ii-iii I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V V/vi ii I ii-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi-V5 I I-vi V-IV V5-I I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":28.642857142857142},"tonic":1,"basedOn":null}}},"Nintendo/Blaster Master":{"Blaster Master [Chou Wakusei Senki - Metafight] (1988-06-17)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VII VII i i VII VII","modulations":[],"tags":["timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"form":{"1":"without noise","5":"with noise"},"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I VII I VI-VII-VI-VII I I I VII I VII VII VI V V VI-VII-VI-VII VI-VII-VI-VII VI-VII-VI-VII VI-VII-VI-VII I VII I VII","modulations":{"23":9,"27":11,"29":11,"31":7,"35":7},"tags":["harmony:stasis","bass:pedal_point","rhythm:syncopation","timbre:ultra_fast_notes","analyzed_in:hopkins","middle_voice:mixed_parallel"],"fourMeasurePhrasingReferences":[5,23],"secondMeasure":1.8400000000000014,"form":{"5":"A","9":"A’","13":"A","17":"A","21":"tag","23":"B","27":"B","29":"mm. 23-28 reinterpreted as VII-VI","31":"bridge","35":"lead to A"},"loop":39,"firstMeasure":0,"step":"end","comment":"Area 1. quartal intro","correctedMeasures":{"4":5.542857142857143,"23":41,"24":42.91000000000003,"25":44.749999999999666,"29":52.199999999998184,"30":54.07142857142857,"31":55.93999999999744,"32":57.78999999999707,"35":63.38999999999596,"36":65.23999999999647},"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI VII i","modulations":[],"tags":["timbre:melody_echo","harmony:stasis","bass:riff","timbre:rich","middle_voice:parallel_fourths","scale:dorian","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[3,5,11,19],"secondMeasure":1.8400000000000014,"form":{"7":"A","15":"A\'","24":"lead into A"},"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":16.779999999999824,"19":33.56000000000189,"23":41.01000000000041,"24":42.86000000000004,"25":44.699999999999676,"26":46.5999999999993,"27":48.44999999999893},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:atonal","timbre:layered","analyzed_in:hopkins"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":19,"firstMeasure":0,"step":"end","comment":"Area 8","correctedMeasures":[],"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"siren before boss","correctedMeasures":[],"tonic":null,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i","modulations":[],"tags":["location:boss"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:boss","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":3,"firstMeasure":0.7900000000000005,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i VII VI v i VII VI-VII I5 i VII VI v i VII VI-VII I5 i i-bvii i i-bII i i-bvii i i-bII V V-V-VII-VI V V-V-VII-bII i i","modulations":[],"tags":["scale:phrygian","location:level","analyzed_in:hopkins","timbre:ultra_fast_notes","rhythm:3+3+2"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.9900000000000015,"form":{"3":"A:antecedent","7":"A:consequent","11":"A:antecedent","15":"A:consequent","19":"B","23":"B","27":"B\'","31":"B"},"loop":33,"firstMeasure":0.6900000000000004,"step":"end","comment":"Area 7 and Final Boss","tonic":9,"correctedMeasures":{"18":23.320000000000846},"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I v I VI-VII I v I VI-VII V7-i VI V I I I I VI V i i i i i i i i V5 V5 I I I I VI VI V V I I I I VI V i i ii V iii vi ii V I bII I","tags":["scale:mixolydian","tempo:uneven","timbre:layered","location:game_won","voice_leading:descending_chromatic_bass","middle_voice:parallel_thirds","middle_voice:arpeggio"],"modulations":{"16":9,"26":7,"32":9,"40":11,"44":9},"fourMeasurePhrasingReferences":[5,12,16,20,24,28,32,36,40,44,48,52],"secondMeasure":2.6399999999999877,"form":{"1":"A","5":"A","9":"tag","12":"B","20":"B","28":"bridge","36":"C","44":"D"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":7.989999999999874,"5":10.639999999999818,"9":21.280000000000527,"12":29.270000000001776,"13":30.885714285714286,"17":37.310000000001146,"22":45.24999999999957,"26":51.69999999999828,"28":54.89999999999765,"29":56.48999999999733,"38":70.82999999999933,"40":74.03000000000097,"41":75.63000000000179},"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I4 I4 VI5-VII I4","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0.04,"step":"end","comment":"","correctedMeasures":{"1":0,"2":1},"tonic":9,"basedOn":null}}},"Nintendo/720":{"720 (1989-11)(Atari Games)(Tengen)(Mindscape).nsf":{"2":{"mode":"phrygian","fourMeasurePhrasingReferences":[3],"secondMeasure":2.849999999999983,"loop":11,"firstMeasure":0,"step":"end","comment":"phrygian four notes","tonic":4,"correctedMeasures":{"2":3.0166666666666666,"4":9.55999999999984},"tags":["tempo:twice_as_fast","scale:phrygian"]},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"melody:riff","span":[9,16]},{"tag":"bass:doubles_melody","span":[9,16]},{"tag":"middle_voice:absent","span":[9,16]}],"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"5":4,"9":9,"13":11},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.679999999999945,"4":7.169999999999892,"5":9.55999999999984,"9":19.183333333333334},"tonic":11,"basedOn":null},"4":{"tagSpans":[{"tag":"form:progression","span":[9,24]},{"voices":[0],"tag":"bass:transposed_riff","span":[1,8]},{"voices":[1],"tag":"bass:root_fifth","span":[9,24]},{"tag":"middle_voice:absent","span":[1,24]}],"romanNumerals":"I I vi vi ii ii  IV v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v i-VII VI-v ","tags":["harmony:parallel_keys","timbre:oscillator_as_percussion"],"mode":"minor","secondMeasure":0.7700000000000005,"form":{"1":"A","9":"B"},"loop":25,"firstMeasure":0,"step":"second measure","comment":"mixolydian with 4th in chords","correctedMeasures":{"2":1.5700000000000012},"tonic":7},"5":{"mode":"dorian","tagSpans":[{"tag":"beats:incomplete_measure_on_transition","span":[8,8]},{"tag":"timbre:oscillator_as_percussion","span":[1,4]},{"tag":"bass:doubles_melody","span":[1,8]}],"secondMeasure":1.5200000000000011,"loop":9,"firstMeasure":0,"step":"end","tonic":7,"correctedMeasures":{"3":3.1199999999999775,"6":7.9699999999998745,"7":9.55999999999984},"tags":[]}}},"Nintendo/Silver Surfer":{"Silver Surfer (SFX).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Nintendo/100-in-1-Contra Function 16":{"100-in-1-Contra Function 16 (19xx)(Unknown).nsf":{"0":{"mode":"major","secondMeasure":1.340000000000001,"loop":31,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":5}}},"Nintendo/Adventures of Tom Sawyer":{"Adventures of Tom Sawyer [Tom Sawyer no Bouken] (1989-02-06)(Winkysoft)(Seta).nsf":{"0":{"mode":"major","beatsPerMeasure":3,"secondMeasure":1.7900000000000014,"loop":17,"romanNumerals":"","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":8},"1":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.8400000000000014,"loop":3,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":7},"2":{"mode":"major","fourMeasurePhrasingReferences":[1],"beatsPerMeasure":4,"secondMeasure":1.5900000000000012,"loop":null,"romanNumerals":"I V-I IV-I V-I IV I I I ii IV V V","firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":0,"basedOn":"Mozart K.545"},"3":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":4,"secondMeasure":1.8400000000000014,"loop":17,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":6,"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"mode":"major","fourMeasurePhrasingReferences":[],"beatsPerMeasure":6,"secondMeasure":1.390000000000001,"loop":11,"firstMeasure":0,"step":"end","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/B-Wings":{"B-Wings (1986-06-03)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV ii V V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV5 iv iv IV5 VI VII I I I I I I I I vi vi IV IV5 ii V I I vi vi IV IV V V IV V viio/vi vi IV5 I-V I5 I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"strange dorian intro mm.1-4","correctedMeasures":{"5":5.489999999999927,"6":6.8899999999998975,"9":11.114285714285714,"10":12.42999999999978,"11":13.879999999999749,"13":16.728571428571428,"15":19.530000000000253,"23":30.850000000002023},"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":33,"firstMeasure":0,"step":"end","comment":"mm.5-... - same as previous","correctedMeasures":{"3":2.9899999999999802,"4":4.339999999999952,"5":5.539999999999926,"7":8.18999999999987,"25":33.66000000000187,"29":39.31000000000075},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V/ii ii","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"added two-measure - uneven","correctedMeasures":{"6":6.8899999999998975,"9":10.971428571428572,"11":13.929999999999747,"12":15.429999999999715,"13":16.779999999999824,"14":18.23000000000005},"tonic":8,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.7399999999999856},"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":0.6900000000000004,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["form:basso_ostinato"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.9400000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"beats can be tracked by four measures","correctedMeasures":{"4":2.9285714285714284,"5":3.889999999999961,"6":4.88999999999994,"9":7.839999999999877,"10":8.839999999999856,"13":11.769999999999794,"14":12.729999999999773,"15":13.729999999999752,"17":15.67999999999971,"21":19.63000000000027,"25":23.560000000000883},"tonic":10,"basedOn":null}}},"Nintendo/Amagon":{"Amagon [Totsuzen! Machoman] (1988-12-02)(Aicom)(VIC Tokai).nsf":{"0":{"mode":"major","secondMeasure":1.350000000000001,"loop":null,"firstMeasure":0.6000000000000003,"step":"end","correctedMeasures":{"18":14.139999999999743,"19":14.939999999999726,"25":19.730000000000285,"26":20.53000000000041},"tonic":9}}},"Nintendo/2in1 Cosmo Cop":{"2in1 Cosmo Cop (Light Gun) (1993)(Sachen).nsf":{"0":{"mode":"minor","secondMeasure":1.1900000000000008,"loop":17,"romanNumerals":"i i i i VI VI i i III bII III VI III v VI v","firstMeasure":0,"step":"end","comment":"should m.9 be considered modulation into III?","tonic":9},"1":{"beatsPerMeasure":4,"romanNumerals":"i-IV IV VI i i iv i bII i-IV IV VI i i iv V V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i V i V i V i V i V i V i V i V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"3":{"mode":"minor","secondMeasure":1.1900000000000008,"loop":17,"romanNumerals":"i V V V i V V V iv iv i i i VI V V","firstMeasure":0,"step":"end","tonic":9},"4":{"beatsPerMeasure":4,"romanNumerals":"I V IV V","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Attack Animal Gakuen":{"Attack Animal Gakuen (1987-12-26)(Scitron & Art)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I-V vi-I IV-I V/V-V I-V vi-I IV-I V-I iv-i iv-i iv-i VI-V","tags":["form:ABA"],"modulations":{"11":9,"15":0},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5700000000000012,"loop":32,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"14":20.750000000000444,"15":22.350000000000694},"tonic":0,"basedOn":null}}},"Nintendo/Bakushou!! Jinsei Gekijou":{"Bakushou!! Jinsei Gekijou (1989-03-17)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:dorian"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V/vi vi V7/IV IV5 ii II5 V5 I I5 IV iv I IV _ I","modulations":[],"tags":["middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"cadence via voice-leading","correctedMeasures":{"14":20.750000000000444,"15":22.350000000000694,"16":23.82857142857143},"tonic":7,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V V IV I ii V-I","modulations":[],"tags":["middle_voice:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.4},"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV-viio V ii-V I IV-viio V-vi IV I","modulations":[],"tags":["middle_voice:absent","bass:melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.1699999999999977,"loop":9,"firstMeasure":0.5700000000000003,"step":"end","comment":"cadence via voice-leading","correctedMeasures":{"7":10.057142857142857,"8":11.742857142857142,"9":13.35999999999976},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i iv VII5 i i iv VII III-viio I iii IV V I iii IV V5","modulations":[],"tags":["harmony:parallel_keys","middle_voice:root"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.500000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.357142857142857},"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.300000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"interesting!","correctedMeasures":{"2":1.542857142857143},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii7 V7 I I ii7 ii7/ii-V+7/ii ii I ii7 V7 I I ii7 V-IV I5","modulations":[],"tags":["rhythm:syncopation","rhythm:swing","form:period"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5700000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":7.928571428571429,"14":20.728571428571428,"16":23.771428571428572},"tonic":2,"basedOn":null}}},"Nintendo/Business Wars":{"Business Wars (1992-01-24)(Hect Development Division 1)(Hect).nsf":{"0":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["middle_voice:absent","location:intro"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.9899999999999802,"form":{"3":"A","21":"A","39":"B"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"21":59.889999999996654},"tonic":0,"basedOn":"Maurice Ravel - Boléro"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ I II I II I II I II","tags":["harmony:lydian_shuttle","harmony:stasis","middle_voice:counterpoint","location:menu"],"modulations":{"7":10,"11":0,"15":3},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro","3":"A","7":"B","11":"A","15":"C","19":"C\'"},"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i _ _ _ VI VI V V i","modulations":[],"tags":["form:period","voice_leading:descending_chromatic_bass","upper_voices:legato_melody"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"form":{"1":"antecedent","9":"consequent"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:12-bar_blues","middle_voice:riff","melody:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ _ _ _ _ V _ _ _ _ _ _ _ I5 IV V _ _ _ _ _ I-V5 I _ _ _ _ _ _ I5","modulations":[],"tags":["form:period","form:AABA","style:common_practice"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A:antecedent","9":"A:consequent","17":"B","25":"A\':consequent"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i i i III III III III VI VI V V7 V7/IV V7/IV iv iv ii65 VI7 V V I I I I IV ii I I IV/iii V/iii iii iii iio V5 I I VI VI I I V V I I","modulations":[],"tags":["harmony:parallel_keys","voice_leading:Ger+6","style:common_practice","location:level"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":45,"firstMeasure":0,"step":"end","comment":"m.18 = Ger+6, m.33 unclear, m.37-38 unclear, m.27 typo?","correctedMeasures":[],"tonic":9,"basedOn":"what?"},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i I I i","modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ vi vi V V","modulations":{"3":10,"5":0,"7":10,"9":0},"tags":["scale:mixolydian","timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"11":23.92000000000094},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i i VII VII i i VII VII i i VII VII i VI VII V IV I6 viiø V7 IV I6 viiø V7","tags":[],"modulations":{"17":0},"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A","13":"B","17":"C","21":"C\'"},"secondMeasure":2.389999999999993,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-VII _ _ _ _ _ _ VI-VII I","tags":[],"modulations":{"5":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":9,"firstMeasure":0,"step":"end","comment":"modulation at m.5?","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Ball Story II - Jong Yuk Chuen Suet Fa Jong II":{"Ball Story II - Jong Yuk Chuen Suet Fa Jong II (19xx)(Sun Team).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ I I V V5 IV I V V5 I I vi vi IV I ii iii IV I V5 V","modulations":[],"tags":["form:period","middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[7],"form":{"1":"intro","7":"antecedent","15":"consequent"},"secondMeasure":1.0400000000000007,"loop":27,"firstMeasure":0,"step":"end","comment":"infinite period","correctedMeasures":{"1":4.957142857142857,"10":9.571428571428571,"14":13.842857142857143,"26":26.614285714285714},"tonic":0,"basedOn":null}}},"Nintendo/Astyanax":{"Astyanax [Lord of King, The] (1989-12-21)(Aicom)(Jaleco)(Jaleco).nsf":{"0":{"beatsPerMeasure":6,"romanNumerals":"i i i i VII VII VII VII","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7900000000000014,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"romanNumerals":"i iv i VII i iv iv-v i IV iii ii I IV iii ii-iii IV","tags":["form:fermata_between_sections","form:period"],"modulations":{"9":0},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":9.542857142857143},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"romanNumerals":"i v VI V5 IV i _ V i v VI V IV i VII-VII-VI-VII i V/VI VI V i IV ii IV v i v VI v","tags":["form:period"],"modulations":{"17":4,"36":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A:antecedent","9":"A:consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"romanNumerals":"i VI iv v i VI v _ iv v i i VI V5 i _ VI v i i VI VII5 i _ i VII VI v iv v VI V i VII VI v iv v VI V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":44,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"25":38.31000000000095},"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"romanNumerals":"","modulations":{"21":2,"29":7,"37":2},"tags":["harmony:stasis"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8400000000000005,"loop":65,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":6.489999999999906,"loop":37,"firstMeasure":4.88999999999994,"step":"first measure","comment":"","correctedMeasures":{"1":4.714285714285714,"2":6.389999999999908,"3":7.989999999999874},"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":3,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.1900000000000008},"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"romanNumerals":"i VII5 i VII5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"9":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"12":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"13":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"15":{"beatsPerMeasure":4,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":2.389999999999993,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"16":{"beatsPerMeasure":4,"romanNumerals":"i VI VII v","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"17":{"beatsPerMeasure":4,"romanNumerals":"VII VI5 VII I VII I5 VII I5 VII I5","tags":[],"modulations":{"5":3},"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i VI5 iv III i VI IV5-v I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"9":12.779999999999772,"10":14.379999999999738,"22":33.56000000000189},"basedOn":null}}},"Nintendo/Battle City":{"Battle City (1985-09-09)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i III IV VI-VII5 I","modulations":[],"tags":["harmony:constant_structures"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7700000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Back to the Future":{"Back to the Future (1989-09)(Beam)(LJN).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I-V7/IV-IV-IV I-V7/IV-IV-IV I-V7/IV-IV-IV VII-IV-V-V _ _ _ _ _ _ _ _ _ I-V7/IV-IV-IV I-V7/IV-IV-IV I-V7/IV-IV-IV VII-IV-V-V _ III V i IV VI III VI III VI V V5","modulations":[],"tags":["rhythm:syncopation","bass:riff","form:fermata_between_sections","form:ABABC","harmony:parallel_keys","scale:dorian","middle_voice:riff"],"fourMeasurePhrasingReferences":[14,22,27,9],"secondMeasure":1.490000000000001,"loop":38,"firstMeasure":0,"step":"end","comment":"dorian riff, bug: snippet ignores custom phrasing","correctedMeasures":{"2":1.6,"6":8.014285714285714,"14":19.964285714285715,"15":21.57857142857143,"19":27.95,"27":39.82000000000065,"28":40.71000000000047,"29":41.51000000000031},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"bass:transposed_riff","span":[5,28]},{"voices":[0],"tag":"bass:chromatic_approach","span":[13,16]},{"voices":[0],"tag":"bass:chromatic_approach","span":[25,28]},{"voices":[1],"tag":"middle_voice:transposed_riff","span":[5,28]},{"voices":[2],"tag":"melody:riff","span":[17,28]},{"voices":[2],"tag":"melody:riff","span":[5,16]},{"tag":"harmony:tonic_added-sixth_chord","span":[5,28]},{"tag":"form:12-bar_blues","span":[5,28]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I I I I IV IV I I V5 V I I I I I I IV IV I I V5 V I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.0900000000000007,"form":{"1":"intro","5":"chorus","17":"chorus"},"loop":29,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Baken Hisshou Gaku - Gate In":{"Baken Hisshou Gaku - Gate In (1990-05-25)(Graphic Research)(KAC).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV I IV I V5 V I I IV I IV I V I V V I I V/V V5/V V V I I IV I IV I V V I I IV I IV I V I","tags":[],"modulations":{"21":7,"25":7,"41":0},"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Astro Fang - Super Machine":{"Astro Fang - Super Machine (1990-10-26)(A-Wave).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic","location:boss"],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI i4","tags":["harmony:quartal","timbre:ultra_fast_notes","rhythm:syncopation"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":2.6399999999999877,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":5.339999999999931},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VII VII VI VI V V","modulations":[],"tags":["middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i ii IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":2.389999999999993,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7/IV V7/IV IV IV iv iv V5 V5","modulations":[],"tags":["voice_leading:descending_diatonic_bass","harmony:Vsus4","form:extra_measure","middle_voice:melody_below_arpeggio","melody:basic_idea_x4"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI V III ii i VII-viio","modulations":[],"tags":["middle_voice:doubles_bass"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI iv iv V5 V5 i IV iv V V","modulations":[],"tags":["scale:nikriz","middle_voice:arpeggio","form:extra_measure"],"fourMeasurePhrasingReferences":[14,9],"secondMeasure":1.340000000000001,"loop":14,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"13":15.979999999999704,"14":17.32999999999991},"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II II III #VI III V","tags":["harmony:neo-riemannian","harmony:constant_structures","middle_voice:melody_below_arpeggio"],"modulations":{},"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:riff","scale:dorian","middle_voice:counterpoint","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.042857142857143},"tonic":9,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Aa Yakyuu Jinsei Icchokusen":{"Aa Yakyuu Jinsei Icchokusen (1992-12-25)(-)(Sammy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"_ _ _ _ _ _ _ _ IV-iii ii-I","modulations":{"3":2,"5":0,"7":2,"9":0},"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":3.189999999999976,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Attack of the Killer Tomatoes":{"Attack of the Killer Tomatoes (1992-01)(Imagineering)(THQ).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I5 _ _ _ _ _ _ _ iv iv IV5 iv V VI V I5 _ _ _ _ _ _ _ _ _ _","modulations":[],"tags":["form:extra_measure"],"fourMeasurePhrasingReferences":[11,15,18,22,26,3,30,33,7],"secondMeasure":1.490000000000001,"loop":37,"firstMeasure":0,"step":"end","comment":"","tonic":2,"correctedMeasures":{"31":45.74999999999947,"33":48.79999999999886,"34":50.34999999999855},"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I5 _ _ _ _ _ _ i iv iv _ _ _ _ _ _ V5 IV5 I5","modulations":[],"tags":["bass:riff","melody:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.390000000000001,"loop":26,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv i i V7 V7 i i V7 i viio7 viio7 v viio i i","modulations":[],"tags":["style:common_practice"],"fourMeasurePhrasingReferences":[7],"secondMeasure":23.6700000000009,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.5900000000000012,"5":6.489999999999906},"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V VI VII VII v VI VII VII","modulations":{"9":1,"13":10,"17":3},"tags":["scale:chromatic","middle_voice:parallel_fourths","bass:riff","form:stasis_vs_progression","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":12.979999999999768},"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i I","modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ iv V5 _ i","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.28999999999991},"tonic":3,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":["bass:riff","scale:chromatic"],"modulations":{"9":4,"15":3},"fourMeasurePhrasingReferences":[],"secondMeasure":1.6900000000000013,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":13.729999999999752,"11":17.179999999999886},"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i i i I I i i VI i VI i VI i I I I I","modulations":{"3":2,"7":8,"9":2,"17":8,"21":9},"tags":["scale:lydian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6400000000000012,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/America Oudan Ultra Quiz - Shijou Saidai no Tatakai":{"America Oudan Ultra Quiz - Shijou Saidai no Tatakai (1991-11-29)(Pixel)(Tomy).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"","mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":2.4099999999999926,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Fester\'s Quest":{"Fester\'s Quest (1989-09)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V7 I I ii V5 I","modulations":[],"tags":["style:common_practice","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"secondMeasure":3.4899999999999696,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":9,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii V I I ii V I I ii V I I ii V I I7 I7 II7 II7 V V I5 I I ii V I I ii V V V V VI VI I","modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[5,13,21,29,35],"secondMeasure":1.340000000000001,"form":{"1":"A","9":"A","17":"B","25":"A\'"},"loop":null,"firstMeasure":0.2900000000000001,"step":"end","comment":"","correctedMeasures":{"2":1.3857142857142857,"3":2.389999999999993,"4":3.4399999999999706,"5":4.539999999999948,"8":7.714285714285714,"11":10.889999999999812,"13":13.029999999999767,"16":16.242857142857144,"25":25.820000000001237,"26":26.92000000000141,"34":35.410000000001524,"37":38.61000000000089},"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC","location:boss","middle_voice:parallel_thirds","timbre:melody_echo","scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.739999999999943,"loop":41,"firstMeasure":3.139999999999977,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC","scale:chromatic","timbre:melody_echo","bass:riff"],"fourMeasurePhrasingReferences":[27,31],"secondMeasure":2.339999999999994,"form":{"5":"A","9":"A\'","13":"B","17":"A","21":"A\'","25":"B\'","27":"C","31":"C\'","35":"B\'\'","37":"D","41":"D","45":"bridge"},"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ I-_-_-V7 I","modulations":[],"tags":["location:lost","voice_leading:descending_chromatic_melody","tempo:ritardando"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":{"5":7.489999999999885},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Akira":{"Akira (1988-12-24)(Tose)(Taito).nsf":{"0":{"beatsPerMeasure":4,"romanNumerals":"IV5 V5 #III5 vi5 I5","tags":["rhythm:syncopation"],"mode":null,"fourMeasurePhrasingReferences":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"power chords syncopated","correctedMeasures":{"3":2.357142857142857,"4":3.5428571428571427,"5":4.742857142857143,"7":7.171428571428572,"11":11.985714285714286,"12":13.142857142857142,"13":14.414285714285715,"14":15.579999999999712,"15":16.757142857142856},"tonic":0,"basedOn":null}}},"Nintendo/Zhan Guo Qun Xiong Zhuan":{"Zhan Guo Qun Xiong Zhuan (1996)(Waixing).nsf":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Action 52":{"Action 52.nsfe":{"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i _ i _ i _ i","modulations":{"3":2,"5":8,"7":6,"9":0,"11":2,"13":8,"15":6,"17":0},"tags":["harmony:constant_structures","scale:pentatonic","form:accumulative","middle_voice:absent","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"3":7,"5":0,"9":5,"11":7,"13":0},"tags":["form:accumulative","timbre:layered","middle_voice:absent","scale:phrygian","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":17,"firstMeasure":0,"step":"end","comment":"","tonic":5,"correctedMeasures":{},"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:weird","bass:riff","harmony:stasis","scale:pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":18.93000000000016,"14":20.53000000000041,"17":25.52000000000119},"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi I I vi vi I I vi vi IV V I vi IV V5 I5 I5 I I #VI5 #VI5 I I #VI5 #VI5 I I vi vi I I vi vi IV V5 I #VI5 IV V5 I I","modulations":[],"tags":["harmony:I-vi shuttle","form:accumulative","melody:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"A\'","17":"B","21":"B\'","25":"A\'\'","29":"A\'\'","33":"A\'\'\'","37":"A\'\'\'\'","41":"B\'\'","45":"B\'\'\'"},"secondMeasure":1.5700000000000012,"loop":49,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"19":28.66000000000168,"24":36.7,"34":52.68571428571428,"52":81.52857142857142},"tonic":5,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:i-VII shuttle","bass:riff","form:accumulative","scale:hexatonic_minor_no6"],"fourMeasurePhrasingReferences":[3,7,9,13],"form":[],"secondMeasure":6.639999999999903,"loop":15,"firstMeasure":4.489999999999949,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:root_octaves","scale:pentatonic","form:accumulative","middle_voice:absent","harmony:i-VII shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:hemitonic_pentatonic","bass:root_octaves","bass:riff","timbre:melody_echo","form:accumulative"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.139999999999977,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":51.3,"18":54.92857142857143,"19":58.24285714285714,"20":61.08571428571429},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":["harmony:stasis","bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.139999999999977,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ I","modulations":[],"tags":["bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Arch Rivals - A Basketbrawl!":{"Arch Rivals - A Basketbrawl! (1990-11)(Midway)(Rare)(Acclaim).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.2199999999999545,"loop":2,"firstMeasure":1.9600000000000015,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["form:solo","middle_voice:parallel_thirds","harmony:stasis","bass:riff","scale:mixolydian","timbre:layered","location:sport_level","melody:fills_at_rests","timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":39,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"7":12.759999999999772,"9":17.00999999999986,"10":19.160000000000196,"21":42.590000000000096,"22":44.72999999999967,"25":51.1299999999984,"29":59.61999999999671},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:solo","reference:previous_subtune","scale:mixolydian","timbre:melody_echo","timbre:ultra_fast_notes","bass:riff","timbre:layered","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"25":"same as subtune 2, m. 27"},"secondMeasure":2.1399999999999983,"loop":33,"firstMeasure":0,"step":"end","comment":"same form as subtune 2 - also quotes subtune 2 and subtune 4","correctedMeasures":{"4":6.389999999999908,"5":8.519999999999863,"7":12.779999999999772,"8":14.909999999999727,"9":17.00999999999986,"12":23.42000000000086,"13":25.570000000001198,"19":38.36000000000094,"20":40.44000000000052,"24":48.99999999999882},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["rhythm:3+3+2","voice_leading:W-arpeggio","scale:pentatonic","timbre:melody_echo","timbre:layered","location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V V7 I-V I V V7 I-V-I-I","modulations":[],"tags":["form:period","harmony:pure_I-V","bass:alberti","style:common_practice","middle_voice:arpeggio","melody:fills_at_rests","timbre:layered","location:sport_half_time"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.6000000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0.4000000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:sport_points_scored"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:natural_horn_call","location:sport_points_scored"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5600000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"phrygian sport jingle, \\"California Über Alles\\"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Barcode World":{"Barcode World (1992-12-18)(Epoch)(Sunsoft).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period","span":[3,10]},{"tag":"harmony:blues_seventh_chords","span":[3,18]},{"tag":"middle_voice:counterpoint_and_drone","span":[11,18]},{"tag":"middle_voice:melody_below_arpeggio","span":[3,10]},{"tag":"bass:root_fifth","span":[3,18]},{"tag":"bass:diatonic_approach","span":[4,18]},{"tag":"rhythm:swing","span":[1,18]},{"tag":"rhythm:syncopation","span":[2,18]},{"tag":"form:reversed_period","span":[11,18]}],"disableSnapToNotes":false,"romanNumerals":"_ _ I7 IV7 VII7 VI-V I7 IV7 V7/V-V7 I7 IV7 vi7 IV7 vi7 IV7 vi7 V7/V V7","modulations":[],"tags":["tempo:twice_as_fast","style:banjo"],"fourMeasurePhrasingReferences":[3],"form":{"1":"intro (not looped)","3":"A:antecedent","7":"A:consequent","11":"B:consequent","15":"B:antecedent"},"secondMeasure":5.089999999999936,"loop":19,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":2.4},"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"bass:root_fifth","span":[1,16]},{"voices":[1],"tag":"middle_voice:transposed_riff","span":[1,16]}],"disableSnapToNotes":true,"romanNumerals":"I I I I iii7 iii7 IV^ IV^ I I IV^ IV^ I I IV^ IV^","modulations":{"9":10,"13":8},"tags":["style:bossa_nova","rhythm:latin","harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.7399999999999856,"loop":17,"firstMeasure":1.440000000000001,"step":"end","comment":"","correctedMeasures":{"2":2.914285714285714,"3":4.389999999999951,"4":5.857142857142857},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"V V V V I7 I7 IV7 I7 I7 I7 IV7 I7 IV7 IV7 I7 I7 IV V7/V V V","modulations":[],"tags":["form:sentence","rhythm:3+3+2","harmony:blues_seventh_chords"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.340000000000001,"form":{"1":"intro (not looped)","5":"sentence. basic idea","9":"basic idea repeated","13":"fragmentation. 2m+2m+1m+1m","19":"cadence"},"loop":21,"firstMeasure":0.04,"step":"end","comment":"R=2N sentence","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:lost","scale:whole-tone","scale:octatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I IV IV I I IV IV ii V I vi ii V I V5","modulations":[],"tags":["form:sentence","style:common_practice","voice_leading:triple_suspension"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.7400000000000013,"form":{"1":"sentence. basic idea","5":"repetition of basic idea","9":"fragmentation via faster harmonic rhythm","13":"cadence"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX)":{"Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:launch_screen","style:chinese","middle_voice:riff"],"fourMeasurePhrasingReferences":[4,7,10],"form":[],"secondMeasure":1.5900000000000012,"loop":20,"firstMeasure":0,"step":"end","comment":"phrasing of different voices doesn\'t match. unusual loop length","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:intro","tonic:ambiguous","harmony:stasis","bass:riff","style:chinese","scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Exodus - Journey to the Promised Land":{"Exodus - Journey to the Promised Land (1991)(Wisdom Tree).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I I I I V7 V7 V7 V7 I I","modulations":[],"tags":["harmony:parallel","middle_voice:absent","form:extra_measure","harmony:pure_I-V","location:level"],"fourMeasurePhrasingReferences":[5,10,14,19,23,32,41],"form":{"1":"octave + sixth","9":"extra measure","10":"two octaves + sixth","18":"extra measure","19":"octave + sixth","27":"extra measure","28":"sixth","36":"extra measure","37":"third","45":"extra measure"},"secondMeasure":2.6499999999999875,"loop":46,"firstMeasure":0.5000000000000002,"step":"end","comment":"melody has a range of six notes","tonic":0,"correctedMeasures":{"4":6.928571428571429,"13":26.12857142857143,"22":45.3,"31":64.47142857142858,"40":83.67142857142858},"basedOn":"Father Abraham Had Many Sons (Christian song)"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV-iii ii-I IV-iii ii-I IV-iii ii-I IV-iii ii-I","modulations":{"5":5,"7":0},"tags":["middle_voice:absent","form:AABA","bass:inversions","location:pause"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","3":"A","5":"B","7":"A"},"secondMeasure":2.399999999999993,"loop":9,"firstMeasure":0.25000000000000006,"step":"end","comment":"","correctedMeasures":{"9":17.33999999999991},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV I I64-V I IV I I _ _ _ V _ _ _ I","modulations":[],"tags":["form:period","bass:inversions","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":1.300000000000001,"loop":null,"firstMeasure":0.25000000000000006,"step":"end","comment":"Moses Invulnerable","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":11,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7500000000000013,"loop":2,"firstMeasure":0,"step":"end","comment":"Moses Stops","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0500000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Clear","correctedMeasures":[],"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:AABA","bass:inversions","style:common_practice","middle_voice:absent","location:intro","harmony:pure_I-V"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"B","13":"A\'"},"secondMeasure":1.300000000000001,"loop":17,"firstMeasure":0.25000000000000006,"step":"end","comment":"Help Screen","correctedMeasures":[],"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level_start"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I _ I","modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"Game Over","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0500000000000007,"loop":null,"firstMeasure":0.25000000000000006,"step":"second measure","comment":"Start Over","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:demo","location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.349999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Crayon Shin-chan - Ora to Poi Poi":{"Crayon Shin-chan - Ora to Poi Poi (1993-08-27)(Tose)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-V7/ii ii-ii-V-V+ I ii V ii/ii-V/ii-ii-V I ii V I IV-iv iii-V7/V ii-V I IV-iv iii-V/ii ii V-V+","modulations":[],"tags":["voice_leading:descending_chromatic_bass","bass:root_fifth","melody:fills_at_rests","timbre:oscillator_as_percussion","form:period","rhythm:latin","form:reversed_period","harmony:Vsus4","voice_leading:triple_suspension","scale:blues","middle_voice:lower_chord_tones","middle_voice:absent"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.7900000000000014,"form":{"1":"intro (not looped)","3":"A:antecedent","7":"A:consequent","11":"B:consequent","15":"B:antecedent"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":12.579999999999776,"19":32.357142857142854},"tonic":10,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V","modulations":[],"tags":["harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.489999999999991,"loop":5,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":{"2":2.489999999999991},"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 V-IV V-IV I ","modulations":[],"tags":["style:boogie-woogie","timbre:oscillator_as_percussion","melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I^ vi I vi IV V","modulations":[],"tags":["middle_voice:parallel_thirds","bass:alberti","harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9899999999999802,"loop":7,"firstMeasure":0,"step":"end","comment":"kind of Alberti, idk","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ vi _ _ _-V/ii ii","modulations":{"17":1,"23":5},"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.2400000000000009,"form":{"1":"A","9":"A","17":"B"},"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"20":23.985714285714284,"25":30.370000000001948},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I VII I I IV IV V V","modulations":[],"tags":["middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":9,"firstMeasure":0,"step":"end","comment":"melody: 1m arpeggio vs. 1m step-wise","correctedMeasures":[],"tonic":2,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I II","modulations":[],"tags":["harmony:lydian_shuttle","timbre:melody_echo","bass:root","timbre:oscillator_as_percussion","rhythm:3+3+2","melody:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":3,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi IV V iii vi IV V iii vi IV V","modulations":[],"tags":["middle_voice:parallel_thirds","rhythm:3 against 2","bass:transposed_riff","melody:reharmonization"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"A\'\'"},"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V I5 I5 ii7 V","modulations":[],"tags":["harmony:tonic_added-sixth_chord","form:sentence","bass:different_strategies","timbre:oscillator_as_percussion","upper_voices:different_strategies"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.7900000000000014,"form":{"1":"intro (not looped)","3":"basic idea","4":"repeated","5":"fragmentation 2b+2b+1b+1b"},"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.585714285714286},"tonic":7,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:root_octaves","timbre:oscillator_as_percussion","bass:root_fifth"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Poker Mahjong":{"Poker Mahjong (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I IV V I I IV5 V5 I5","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Road Runner":{"Road Runner (1989)(Atari Games)(Tengen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":"Rossini, \\"William Tell Overture\\""},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"9":10},"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":"Aram Khachaturian \\"Sabre Dance\\""},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.7900000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":"Tchaikovsky \\"The Nutcracker - Trepak\\""},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"bug: high notes not visible","correctedMeasures":[],"tonic":null,"basedOn":"Rimsky-Korsakov \\"Flight of the Bumblebee\\""},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:portamento","scale:chromatic","location:lost"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:nikriz","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VII I","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.2800000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Metal Fighter":{"Metal Fighter (1989)(Sachen, Joy Van).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i iv iv v v i i","modulations":[],"tags":["scale:natural_minor","form:abrupt_ending","bass:transposed_riff","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 IV7 IV7 V7 V7 V7 V7","modulations":[],"tags":["harmony:blues_seventh_chords","middle_voice:parallel_thirds","bass:transposed_riff","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i","modulations":[],"tags":["timbre:melody_echo","melody:transposed_riff","form:abrupt_ending"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Caltron 6-in-1 - Bookyman":{"Caltron 6-in-1 - Bookyman (1992)(MegaSoft)(Caltron).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Don Doko Don":{"Don Doko Don (1990-03-09)(Taito).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VI IV5 V IV5 I vi IV VI-V I","modulations":{"9":9},"tags":["bass:root_fifth","harmony:parallel_keys","middle_voice:parallel_thirds","melody:transposed_riff"],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ V/ii IV _ _ _ _ _ _ _ IV iii ii I","modulations":[],"tags":["tempo:uneven","rhythm:3 against 2","timbre:silence"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":38,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019,"23":35.110000000001584,"37":57.48571428571429,"38":58.31428571428572,"39":59.889999999996654},"tonic":0,"basedOn":null}}},"Nintendo/Battle Rush - Build Up Robot Tournament":{"Battle Rush - Build Up Robot Tournament (1993-11-13)(Tose)(Bandai).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII I VII I VII","modulations":{"9":0},"tags":["harmony:mixolydian_shuttle","bass:transposed_riff","middle_voice:melody_below_arpeggio","middle_voice:mixed_parallel","harmony:stasis","melody:basic_idea_x3"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B"},"secondMeasure":1.7900000000000014,"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I VII I VII I VII I VII VI VI VII VII I","modulations":[],"tags":["rhythm:syncopation","bass:transposed_riff","harmony:stasis","bass:riff","melody:fills_at_rests","middle_voice:mixed_parallel","middle_voice:melody_below_arpeggio","bass:pedal_point","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.2571428571428571},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["middle_voice:parallel_thirds_and_sixths","bass:root_octaves","bass:pedal_point"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.289999999999995,"loop":5,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":{"2":2.0714285714285716},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","tags":["harmony:I-III shuttle","voice_leading:three_parallel_voices"],"modulations":{"3":8},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8900000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.7},"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":5,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":{"2":2.0400000000000005,"3":3.989999999999959},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"V","modulations":{"10":0},"tags":["form:extra_measure","scale:whole-tone","tonic:ambiguous"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.2400000000000009,"form":{"18":"extra measure"},"loop":19,"firstMeasure":0,"step":"end","comment":"m.10 tonic ambiguous?","correctedMeasures":{"2":1.2400000000000009,"3":2.5,"18":21.442857142857143},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"3":8},"tags":["harmony:I-III shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":5,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I^ II I^ II _ _ _ _ _ _ _ _ _ _ _ _ IV IV V V","modulations":{"41":10},"tags":["voice_leading:descending_chromatic_bass","harmony:lydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"21":36.74285714285714,"22":38.57142857142857,"23":40.44285714285714,"24":42.214285714285715,"25":44.00999999999981,"26":45.84999999999945},"tonic":1,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battle Fleet":{"Battle Fleet (1990-06-22)(Namco).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V I I V I5 IV I IV V I I V I","modulations":[],"tags":["style:common_practice","form:period","bass:walking","middle_voice:mixed_parallel","bass:inversions","location:launch_screen"],"fourMeasurePhrasingReferences":[],"secondMeasure":5.36999999999993,"form":{"1":"A:antecedent","5":"A:consequent"},"loop":17,"firstMeasure":3.569999999999968,"step":"end","comment":"parallel: either third or lower chord tone, in segments","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _-IV V I I I ii ii ii ii-V/V V5 I I I IV IV I V I","modulations":[],"tags":["location:menu","form:period","bass:walking","melody:basic_idea_x4","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"intro (not looped)","5":"antecedent","13":"consequent"},"secondMeasure":2.2199999999999966,"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.7571428571428571,"3":3.5428571428571427},"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I VII I VII I I VII vi VII I VII vi VII I VI-VII-i-i VI-VII-i-i VI-VII-i-i VI-VII-I-I","modulations":{"6":4,"15":1},"tags":["harmony:mixolydian_shuttle","location:level","tempo:twice_as_fast","form:extra_measure","middle_voice:lower_chord_tones","middle_voice:parallel_thirds","bass:root"],"fourMeasurePhrasingReferences":[6,10,15],"form":{"1":"A","6":"B","10":"B\'","15":"C"},"secondMeasure":3.569999999999968,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:riff","harmony:stasis","scale:dorian_over_pentatonic","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"B","9":"B","13":"C","17":"D","21":"D\'","25":"E","29":"E\'"},"secondMeasure":1.8200000000000014,"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I VII I VII I VII I ","modulations":[],"tags":["voice_leading:descending_chromatic_bass","timbre:melody_echo","form:not_looped","harmony:mixolydian_shuttle","melody:arpeggio","middle_voice:lower_chord_tones"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","25":"C"},"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":19.160000000000196,"11":21.30000000000053,"14":27.70000000000153,"18":36.19000000000137},"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:period","voice_leading:descending_chromatic_melody","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8200000000000014,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V V I I V I5","modulations":[],"tags":["form:not_looped","reference:previous_subtune","harmony:pure_I-V","middle_voice:parallel_thirds_and_chord_tones","bass:walking","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","5":"consequent"},"secondMeasure":2.2199999999999966,"loop":null,"firstMeasure":0.4200000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.8199999999999625,"loop":3,"firstMeasure":1.1700000000000008,"step":"end","comment":"battle","correctedMeasures":[],"tonic":10,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Banana":{"Banana (1986-09-08)(Victor).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"melody:basic_idea_x3","span":[2,5]}],"disableSnapToNotes":false,"romanNumerals":"I-VII I VII I VII-I5 I VII I VII-I","modulations":[],"tags":["harmony:mixolydian_shuttle","bass:transposed_riff","location:menu","melody:fills_at_rests","form:accumulative"],"fourMeasurePhrasingReferences":[2],"secondMeasure":2.0899999999999994,"form":{"1":"intro (looped)","2":"A","6":"A\'"},"loop":10,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":10.657142857142857,"10":18.950000000000163},"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:riff","harmony:stasis","middle_voice:absent","anomaly:strange_offset"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:riff","harmony:stasis","reference:previous_subtune","form:accumulative"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":2.0899999999999994,"3":4.239999999999954,"5":8.489999999999863,"8":14.879999999999727},"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tempo:uneven","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":2.7899999999999845,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.189999999999955,"4":5.789999999999921},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I VII VII","modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Banana Prince":{"Banana Prince [Bananan Ouji no Daibouken] (1991-12-20)(KID)(Takara).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 iv/ii V/ii ii7 viio7 I io7 IV V7 I VI7 I","modulations":[],"tags":["harmony:rich_common_practice","style:common_practice","voice_leading:descending_chromatic_bass","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6900000000000013,"loop":17,"firstMeasure":0.5400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"17":4,"33":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.439999999999992,"loop":33,"firstMeasure":0.7400000000000004,"step":"end","comment":"","correctedMeasures":{"11":18.080000000000027,"15":25.02000000000111},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:stasis_vs_progression"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.439999999999992,"loop":17,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"4":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["beats:division_change"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":3.1199999999999775,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I I i-i-bII-#III","modulations":{"5":3,"6":6},"tags":["tempo:twice_as_fast","harmony:constant_structures","middle_voice:mixed_parallel","melody:fills_at_rests","timbre:many_instruments_same_oscillator"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.089999999999957,"loop":7,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I bII7 I I I bII7 I III iv I VII5 III iv bII7 I","modulations":[],"tags":["scale:harmonic_major","form:period","bass:root_fifth","melody:fills_at_rests","timbre:tremolo","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent"},"secondMeasure":1.7900000000000014,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I IV-ii V-IV iii-V I IV-ii V-V7 I ii/IV-V/IV IV ii-V I IV-V I iv-VI ii-V I","modulations":{"13":3,"15":0},"tags":["form:period","form:reversed_period","harmony:far-out_point","style:common_practice","harmony:rich_common_practice","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:consequent","13":"B:antecedent","14":"far-out point"},"secondMeasure":1.9400000000000015,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 iv/ii V/ii ii7 viio7 I io7 IV V7 I VI7 I","modulations":[],"tags":["reference:previous_subtune","harmony:rich_common_practice","style:common_practice","melody:arpeggio","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1400000000000008,"loop":17,"firstMeasure":0,"step":"end","comment":"chords from subtune 1","correctedMeasures":{"17":18.271428571428572},"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:pentatonic","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"34":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"41":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:natural_horn_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"42":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["motive:telephone_call"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bandit Kings of Ancient China":{"Bandit Kings of Ancient China [Suikoden - Tenmei no Chikai] (1990-06-25)(Koei).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5800000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV ii7 I I-V7/IV IV iii IV V","modulations":[],"tags":["harmony:weird_chord","bass:root_fifth","bass:transposed_riff","middle_voice:parallel_thirds_and_sixths","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"B"},"secondMeasure":2.9199999999999817,"loop":13,"firstMeasure":0.7700000000000005,"step":"end","comment":"m.6?","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I V/V V/V IV iv I I I I V/V V/V IV iv I-io7 ii-V","modulations":[],"tags":["harmony:turnaround_coda","form:period","middle_voice:melody_below_arpeggio","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"antecedent","9":"consequent"},"secondMeasure":1.5800000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"creative arpeggio","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i viio viio i viio I5-I5-bII-viio","modulations":[],"tags":["tempo:twice_as_fast","bass:root_octaves","middle_voice:parallel_thirds"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.229999999999954,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"i VII i i i VII5 i i i VII i i VI VII i i I V I I V V I _ I V I I VII VII i i","tags":["form:period","harmony:pure_I-V","bass:root","upper_voices:same_range","middle_voice:static_chord_tones","middle_voice:parallel_thirds"],"modulations":{"17":0,"29":9},"fourMeasurePhrasingReferences":[],"secondMeasure":1.1800000000000008,"form":{"1":"A:antecedent","9":"A:consequent","17":"B:antecedent","25":"B:consequent"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ VI-V","modulations":[],"tags":["scale:major_pentatonic","style:chinese"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0799999999999996,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV iv I I IV iii IV V","modulations":[],"tags":["harmony:diatonic_seventh_chords","middle_voice:melody_below_arpeggio","bass:melody","middle_voice:parallel_octaves","middle_voice:parallel_thirds","melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5800000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V/V V/V IV iv I I I I V/V V/V IV iv7 I i","modulations":[],"tags":["middle_voice:static_chord_tones","middle_voice:melody_below_arpeggio","bass:transposed_riff","melody:fill_after_cadence","upper_voices:same_range"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5800000000000012,"form":{"1":"A","9":"A\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.179999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"16":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i II7 iio i i II iv i","modulations":[],"tags":["bass:inversions","harmony:neo-riemannian","middle_voice:melody_below_arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.229999999999954,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":12.769999999999772},"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tempo:uneven","location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3799999999999932,"loop":4,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.2299999999999964,"loop":4,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/Conquest of the Crystal Palace":{"Conquest of the Crystal Palace [Matendouji] (1990-08-24)(Quest).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i","modulations":[],"tags":["scale:dorian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bubble Bath Babes":{"Bubble Bath Babes [Soap Panic] (1991)(Hacker International).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ I V7","modulations":{"21":5,"29":7,"53":8,"69":3},"tags":["rhythm:3+3+2","melody:fills_at_rests","upper_voices:same_range","melody:basic_idea_x3","middle_voice:counterpoint","bass:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5400000000000011,"form":{"1":"intro (looped)","5":"A","13":"A","21":"A","29":"A","37":"B","53":"B","69":"bridge"},"loop":71,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"51":79.78571428571429,"67":105.34285714285714,"70":110.20000000001947},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ I V I","modulations":[],"tags":["rhythm:latin","middle_voice:parallel_thirds_and_sixths","bass:riff","non-chord_tones:neighbor","middle_voice:parallel_fourths"],"fourMeasurePhrasingReferences":[],"form":{"13":"loop start"},"secondMeasure":1.5400000000000011,"loop":53,"firstMeasure":0,"step":"end","comment":"","tonic":9,"correctedMeasures":{"3":3.139999999999977,"8":11.129999999999807,"9":12.729999999999773,"19":28.72000000000169,"29":44.628571428571426},"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I IV I IV I V7 I _ IV viio/V I64 V/ii ii I64 V _ I IV I IV I IV-V7 I","modulations":[],"tags":["style:ragtime","harmony:Vsus4","timbre:portamento","middle_voice:counterpoint","bass:root","bass:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A (intro, not looped)","9":"B","17":"A\'"},"secondMeasure":4.539999999999948,"loop":25,"firstMeasure":3.139999999999977,"step":"end","comment":"","correctedMeasures":{"2":4.742857142857143,"3":6.339999999999909},"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.3099999999999525,"loop":null,"firstMeasure":2.020000000000001,"step":"end","comment":"","correctedMeasures":{"2":4.228571428571429,"3":6.269999999999911,"8":16.914285714285715,"9":19.06000000000018},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ _ V7/IV IV iv I","modulations":[],"tags":["voice_leading:ascending_chromatic","melody:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI-VII-I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bubble Bobble":{"Bubble Bobble (1988-11)(Taito).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"tempo:ritardando","span":[4,4]},{"tag":"middle_voice:melody_below_arpeggio","span":[1,3]},{"tag":"middle_voice:parallel_thirds","span":[4,4]},{"tag":"bass:doubles_melody","span":[4,4]},{"tag":"bass:counterpoint","span":[1,3]},{"tag":"timbre:unexpected_detune","span":[1,3]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"intro (not looped)","5":"see next subtune for analysis","9":"A:consequent","13":"B:antecedent","21":"B:consequent"},"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":8.139999999999871,"6":9.989999999999831},"tonic":10,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period","span":[1,8]},{"tag":"form:period","span":[9,24]},{"voices":[2],"tag":"bass:root_octaves","span":[1,24]},{"tag":"middle_voice:absent","span":[1,24]},{"tag":"timbre:many_instruments_same_oscillator","span":[9,12]},{"voices":[1],"tag":"melody:basic_idea_x3","span":[1,8]},{"tag":"harmony:implied","span":[17,22]},{"tag":"melody:basic_idea_x4","span":[16,20]},{"tag":"melody:fills_at_rests","span":[8,12]}],"disableSnapToNotes":false,"romanNumerals":"I I vi vi I I vi vi-I V I V I _ _ _ _ _ _ _ _ _ _ II5-V5 I5","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","17":"B:consequent"},"secondMeasure":1.8400000000000014,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"speed up","correctedMeasures":[],"tonic":null,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"scale:demo","span":[3,3]},{"tag":"scale:major_pentatonic","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI VI I5 I5","modulations":[],"tags":["harmony:i-VI shuttle","bass:root_octaves","melody:arpeggio","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.289999999999995,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.679999999999945,"5":9.58999999999984},"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I ii iii ii","modulations":[],"tags":["timbre:unexpected_detune","melody:arpeggio","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.6399999999999877},"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"23":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i i iv iv i i V V","modulations":[],"tags":["scale:chromatic","bass:alberti","location:boss"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.290000000000001,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"29":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"bII I","modulations":[],"tags":["scale:harmonic_major","harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.6399999999999877,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"30":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:credits"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":9.289999999999846,"loop":null,"firstMeasure":7.349999999999888,"step":"end","comment":"","correctedMeasures":{"9":22.2,"10":24.1,"11":25.870000000001244,"17":37.142857142857146,"21":44.699999999999676,"23":48.44999999999893},"tonic":0,"basedOn":null},"31":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"32":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"34":{"beatsPerMeasure":12,"disableSnapToNotes":false,"romanNumerals":"i VII VI V i VII VI V i VII VI V i VII VI V i VII VI V ","modulations":[],"tags":["bass:root_fifth","melody:transposed_riff","middle_voice:riff"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.9899999999999802,"form":{"1":"intro","5":"A","9":"A","13":"B","17":"B"},"loop":21,"firstMeasure":0.24000000000000007,"step":"end","comment":"Saint-Saëns \\"Dance Macabre\\"-like riff","correctedMeasures":{"3":5.789999999999921},"tonic":9,"basedOn":null}}},"Nintendo/Baltron":{"Baltron (1986-03-19)(Shouei System)(Toei Animation).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:root_octaves"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.9100000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.5099999999999905,"loop":2,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V5","modulations":[],"tags":["bass:root_octaves","middle_voice:absent"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9100000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Be-Bop High School - Koukousei Gokuraku Densetsu":{"Be-Bop High School - Koukousei Gokuraku Densetsu (1988-03-30)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I V7","modulations":[],"tags":["form:12-bar_blues","bass:root","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1899999999999973,"loop":13,"firstMeasure":0.5900000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I I IV7 IV7 I7 I7 V7 V7 i7 V","modulations":[],"tags":["form:12-bar_blues","bass:root","middle_voice:transposed_riff","melody:transposed_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":4.485714285714286,"5":5.989999999999917,"6":7.4714285714285715,"8":10.514285714285714,"10":13.457142857142857,"12":16.428571428571427},"tonic":6,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i i IV7 IV7 IV7 IV7 I7 I7 I7 I7 V7  IV7 I7 V","modulations":[],"tags":["form:16-bar_blues","style:boogie-woogie"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":11.628571428571428,"14":16.742857142857144,"15":18.02857142857143},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.479999999999991,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I7 I7 I7 I7 IV7 IV7 I7 I7 V7 IV7 I7 I","modulations":[],"tags":["timbre:minor_seconds","form:12-bar_blues","bass:transposed_riff","melody:fills_at_rests"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.9714285714285715},"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.985714285714286},"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V IV7 IV7 I7 I7 ii7 ii7 V VI V _ I7 IV7 I7 I7 IV7 IV7 I7 I7 IV7 V7 I7 V13 I","modulations":[],"tags":["form:12-bar_blues","tempo:ritardando","form:not_looped"],"fourMeasurePhrasingReferences":[5,9,17,21,29,33,39,43],"form":{"1":"A","13":"A\'","25":"B","35":"A"},"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":{"34":43.90999999999983,"35":45.24999999999957,"36":46.54999999999931,"47":61.58571428571429},"tonic":6,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I V V I I V-I I V-I","modulations":[],"tags":["harmony:pure_I-V"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":1.8900000000000015,"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6400000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"13":19.930000000000316},"tonic":4,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"i-VII VI7-VII7 V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"20":{"beatsPerMeasure":12,"disableSnapToNotes":false,"romanNumerals":"i V V7/iv iv VII viø iiø V7","modulations":[],"tags":["tempo:twice_as_fast","middle_voice:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.239999999999975,"loop":9,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bao Qing Tian":{"Bao Qing Tian (1996)(Unknown).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:chinese","scale:pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6400000000000012,"loop":24,"firstMeasure":0.19000000000000003,"step":"end","comment":"","correctedMeasures":{"10":13.429999999999758,"11":14.929999999999726,"12":16.314285714285713,"13":17.77999999999998,"14":19.230000000000206,"16":22.170000000000666,"23":32.42000000000212},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":29,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"28":39.71000000000067},"tonic":5,"basedOn":null}}},"Nintendo/Robocop 3":{"Robocop 3 (1992-08)(Probe)(Ocean).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8800000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.369999999999887,"6":10.169999999999828,"7":14.31999999999974,"8":16.469999999999775,"9":20.21000000000036,"10":24.010000000000954,"11":27.710000000001532},"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"5":4},"tags":["timbre:oscillator_as_percussion","bass:riff","middle_voice:riff","melody:riff","scale:blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.199999999999997,"loop":9,"firstMeasure":0.05,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Beauty and the Beast":{"Beauty and the Beast (1994)(-)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I V47 I V47 I V47 I V47 I V47 I V47 I iii IV V I  V47 I v-I IV ii7 I V47","modulations":[],"tags":["timbre:oscillator_as_percussion","timbre:ultra_fast_notes","timbre:variable_duty_cycle"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"A\'","13":"B","17":"A\'\'","21":"C"},"secondMeasure":2.1699999999999977,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.371428571428571},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:ultra_fast_notes"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:i-VI shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Bonza":{"Bonza (19xx)(Unknown).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i VII VI VII i VII VI-VII i","modulations":[],"tags":["bass:transposed_riff","melody:basic_idea_x3","middle_voice:lower_chord_tones","form:period","origin:russia"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (looped)","3":"antecedent","7":"consequent"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:W-arpeggio","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Battletoads":{"Battletoads (1991-06)(Rare)(Tradewest).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.9714285714285715,"4":4.614285714285714,"5":6.069999999999915,"6":7.6,"7":9.019999999999852,"17":23.85000000000093},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:portamento"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Best Play Pro Yakyuu":{"Best Play Pro Yakyuu (1988-07-15)(ASCII).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["game_genre:baseball"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.385714285714286},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Binary Land":{"Binary Land (1985-12-19)(Hudson).nsf":{"0":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ I I I V7 V7 V7 V7 I I I I ii V I-viio/V I64-V7 I","modulations":[],"tags":["tempo:accelerando","style:waltz","voice_leading:Cad64","form:uniform_period","style:common_practice"],"fourMeasurePhrasingReferences":[3],"secondMeasure":2.0899999999999994,"form":{"1":"intro","3":"A","11":"A\'"},"loop":19,"firstMeasure":0.49000000000000027,"step":"end","comment":"","correctedMeasures":{"4":5.039999999999937},"tonic":10,"basedOn":"Satie - Je te veux"},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i V7 i","modulations":[],"tags":["harmony:pure_i-V","location:lost","bass:inversions"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:level_completed"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":"Beethoven - Ode To Joy"},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Balda":{"Balda.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["origin:russia"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Blueflamen Tupari":{"Blueflamen Tupari.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["chip:vocal_DMC","origin:demoscene"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9200000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.8700000000000014},"tonic":2,"basedOn":null}}},"Nintendo/Slalom":{"Slalom (1987-08)(Rare)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:major_chord_jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"IV IV I I IV IV I I IV IV V V","modulations":[],"tags":["rhythm:3+3+3+3+2+2","middle_voice:parallel_thirds","bass:root_fifth","voice_leading:W-arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.320000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Blackjack":{"Blackjack (1992)(Odyssey)(American Video Entertainment).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"6":10.639999999999818},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"5":6,"9":3,"13":0},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bokosuka Wars":{"Bokosuka Wars (1985-12-14)(ASCII)(Bits Laboratory)(ASCII).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.3499999999999726,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":3.742857142857143},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bird Week":{"Bird Week (1986-06-03)(Lenar)(Toemiland).nsf":{"1":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"I I V7 V7 I I V7 V7 I I V7 V7 I I V7 V7 I I V7 V7 I I ii ii I I V7 V7 I I ii ii","modulations":[],"tags":["form:not_looped","bass:inversions","melody:transposed_riff","middle_voice:absent","non-chord_tones:neighbor"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A","9":"B","13":"B","17":"C","25":"C"},"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.8899999999999824,"loop":null,"firstMeasure":0.7400000000000004,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0.7400000000000004,"step":"second measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"8":{"beatsPerMeasure":3,"disableSnapToNotes":false,"romanNumerals":"I i","modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1400000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I","modulations":[],"tags":["scale:demo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9400000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"Nintendo/Battle Chess":{"Battle Chess (1990-07)(Beam)(Data East).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i VI VI iv v i i i i VI VI iv v i i VI VII i i VI VII i i VI VII i i iv v i i","modulations":[],"tags":["form:not_looped","middle_voice:transposed_riff","scale:natural_minor","bass:root","location:launch_screen","form:sentence"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"B","25":"B\'"},"secondMeasure":2.489999999999991,"loop":null,"firstMeasure":0.49000000000000027,"step":"end","comment":"A: sentence-like","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":"Chopin - Funeral March"}}},"Nintendo/Balloon Fight":{"Balloon Fight (1985-01-22)(HAL Laboratory)(Nintendo).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"_ _ I VII I ii","modulations":[],"tags":["rhythm:3 against 2","timbre:oscillator_as_percussion","melody:riff","bass:riff","form:accumulative"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5200000000000011,"form":{"1":"intro (looped)","5":"A","13":"B","21":"A\'","29":"B\'"},"loop":33,"firstMeasure":0,"step":"end","comment":"shuttle?","correctedMeasures":{"3":3.189999999999976,"4":4.789999999999942,"5":6.389999999999908},"tonic":4,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:diminished_seventh_chords"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Bio Force Ape":{"Bio Force Ape (Prototype) (1991)(Seta).nsf":{"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:W-arpeggio","scale:pentatonic","bass:riff","harmony:stasis","middle_voice:parallel_fifths"],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.8400000000000014,"form":{"1":"intro (looped)","3":"A","7":"A","11":"B","15":"B\'"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Battle Storm":{"Battle Storm (1991-12-21)(Bullet-Proof Software)(Party Room 21).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ III IV-V","modulations":{"5":5,"7":3,"13":5,"15":3},"tags":["scale:blues"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"cadence"},"secondMeasure":1.5700000000000012,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ III7 _ I7","modulations":[],"tags":["bass:riff","upper_voices:same_range","harmony:blues_seventh_chords","form:12-bar_blues","melody:riff","scale:chromatic"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A","17":"cadence"},"secondMeasure":1.7200000000000013,"loop":21,"firstMeasure":0,"step":"end","comment":"12 bar blues with first 8 bars repeated twice","correctedMeasures":{"10":15.559999999999713,"16":25.950000000001257},"tonic":1,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:root","middle_voice:absent","melody:transposed_riff","scale:natural_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":15,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":19,"firstMeasure":0,"step":"end","comment":"no 5","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic","middle_voice:parallel_octaves"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"10":17.97142857142857},"tonic":6,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"5":6,"9":11,"11":4,"15":6,"17":9,"19":11,"21":1},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3699999999999934,"loop":23,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I III _ _ _ _ _ _ IV V I I IV V","modulations":[],"tags":["timbre:oscillator_as_percussion","melody:riff","harmony:blues_seventh_chords","harmony:constant_structures"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9700000000000015,"form":{"1":"A","5":"A","9":"B","13":"B\'"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"10":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:constant_structures","span":[1,12]},{"voices":[1],"tag":"middle_voice:counterpoint","span":[1,7]},{"tag":"middle_voice:arpeggio","span":[8,8]},{"voices":[1,0],"tag":"middle_voice:static_chord_tones","span":[9,12]},{"voices":[2],"tag":"bass:inversions","span":[7,8]}],"disableSnapToNotes":false,"romanNumerals":"I I II II VII VII IV IV VI VII I I","modulations":[],"tags":["location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _-V","modulations":{"5":9},"tags":["middle_voice:parallel_thirds","melody:fills_at_rests","harmony:stasis","bass:root","timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"10":8,"11":9},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":6.369999999999909,"loop":null,"firstMeasure":3.1699999999999764,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1199999999999988,"loop":null,"firstMeasure":0.26000000000000006,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"Nintendo/BreakThru":{"BreakThru (1987-11)(Data East).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:atonal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.2400000000000009,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"22":33.5100000000019},"tonic":10,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0700000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.3699999999999934},"tonic":1,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I vi vi IV iv V7 V+ I I vi vi IV iv V5 V5 IV^ IV^ iii7 iii7 IV^ IV^ iii7 V5 ","modulations":[],"tags":["location:game_won","harmony:diatonic_seventh_chords","bass:root_octaves","middle_voice:parallel_octaves","upper_voice:riff"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","9":"A\'","17":"B","25":"A","33":"A\'"},"secondMeasure":1.390000000000001,"loop":25,"firstMeasure":0,"step":"end","comment":"repeated twice, ends on V","correctedMeasures":{"12":15.371428571428572,"33":44.649999999999686,"34":46.04999999999941,"36":48.857142857142854},"tonic":3,"basedOn":null}}},"Nintendo/Black Bass, The":{"Black Bass, The (1987-02-06)(Another)(Hot-B).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ IV I V7 I IV I-V/ii ii-V I","modulations":[],"tags":["middle_voice:melody_below_arpeggio","form:not_looped","form:period","harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[2],"secondMeasure":1.5300000000000011,"form":{"2":"antecedent","6":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8000000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5400000000000011,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battle Kid - Fortress of Peril":{"Battle Kid - Fortress of Peril (2008)(Sivak).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.8900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:progression"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0.34000000000000014,"step":"end","comment":"","correctedMeasures":{"3":3.5899999999999674},"tonic":9,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:oscillator_as_percussion"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":13,"firstMeasure":0.6400000000000003,"step":"end","comment":"","correctedMeasures":{"6":9.489999999999842,"10":16.579999999999792},"tonic":9,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["rhythm:syncopation"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":25,"firstMeasure":0.38000000000000017,"step":"end","comment":"","correctedMeasures":{"18":28.65714285714286,"20":31.985714285714284,"22":35.31428571428572,"24":38.642857142857146},"tonic":9,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":19.480000000000246},"tonic":9,"basedOn":null},"13":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.089999999999978,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"Nintendo/Bionic Commando":{"Bionic Commando [Hitler no Fukkatsu - Top Secret] (1988-07-20)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i-bvii i-v i-bvii V I-V I-V-I-V","modulations":{"5":9},"tags":["scale:mixed_minor","voice_leading:three_independent_voices","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.3199999999999945,"loop":null,"firstMeasure":0.4200000000000002,"step":"end","comment":"modulation?","correctedMeasures":[],"tonic":1,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:chromatic","location:intro"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1700000000000008,"loop":null,"firstMeasure":0,"step":"end","comment":"evil","correctedMeasures":[],"tonic":0,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:drone","scale:natural_minor","middle_voice:counterpoint","tempo:twice_as_fast","location:intro"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":3.7199999999999647,"loop":6,"firstMeasure":0,"step":"end","comment":"brave man","correctedMeasures":[],"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:picardy_third","span":[3,3]},{"tag":"voice_leading:three_parallel_voices","span":[2,3]},{"tag":"scale:tetratonic","span":[1,1]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:mixed_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.340000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ V I5 bvii I5 I VII bII-VII I _ _ _ _ _ _ _ _ _ i bII i IV IV V VI VII I I io7","tags":["harmony:diminished_seventh_chords","middle_voice:parallel_thirds_and_sixths","middle_voice:riff","scale:mixed_major","middle_voice:counterpoint","bass:pedal_point","harmony:constant_structures","form:complex"],"modulations":{"10":1,"14":4,"16":11,"19":4,"23":7,"27":10,"31":8},"fourMeasurePhrasingReferences":[3],"secondMeasure":4.569999999999947,"form":{"1":"intro (looped)","3":"A","7":"A\'","11":"B","19":"A\'\'","23":"A\'\'\'","27":"C"},"loop":39,"firstMeasure":3.1699999999999764,"step":"end","comment":"","correctedMeasures":{"2":4.8,"3":6.357142857142857},"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ I^ I^ II^ II^ I^ I^","modulations":{"9":6,"17":5},"tags":["timbre:wide_vibrato"],"fourMeasurePhrasingReferences":[],"form":{"1":"A","17":"A\'"},"secondMeasure":1.5700000000000012,"loop":39,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"12":17.571428571428573},"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9700000000000015,"loop":27,"firstMeasure":0.37000000000000016,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ i-V _ _ _ i _-V i _-V _ _ _ _-V _ _ _ _ _ _ _ _ _ _ _ _ _ V V i i V V i","modulations":[],"tags":["scale:blues","scale:pentatonic","harmony:weird_chord"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":42,"firstMeasure":0,"step":"end","comment":"weird chord: m.14","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ bvii i _ _ bvii i bvii i bvii","modulations":{"10":8},"tags":["bass:transposed_riff","voice_leading:descending_chromatic_melody"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8700000000000014,"loop":26,"firstMeasure":0.2700000000000001,"step":"end","comment":"","correctedMeasures":{"10":14.67142857142857,"11":16.24999999999974},"tonic":1,"basedOn":null}}},"Nintendo/Battle of Olympus":{"Battle of Olympus [Olympus no Tatakai - Ai no Densetsu] (1988-03-28)(Infinity)(Imagineer).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:uniform_period","span":[1,8]},{"tag":"harmony:Vsus4","span":[13,13]},{"tag":"form:extra_measure","span":[13,13]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[1,8]},{"tag":"middle_voice:static_chord_tones","span":[9,11]},{"tag":"middle_voice:counterpoint","span":[12,12]},{"tag":"harmony:upper_structure","span":[3,3]},{"voices":[2],"tag":"bass:root_fifth","span":[1,8]},{"tag":"melody:basic_idea_x4","span":[1,8]},{"tag":"melody:arpeggio","span":[9,11]},{"voices":[2],"tag":"bass:root","span":[9,11]},{"tag":"voice_leading:descending_diatonic_bass","span":[12,12]}],"disableSnapToNotes":false,"romanNumerals":"i VII III iio-v i VII III iio-v i iv V7","modulations":[],"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A","5":"A","9":"B"},"loop":14,"firstMeasure":0,"step":"end","comment":"m.3b3 - VI over III","correctedMeasures":[],"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"17":7},"tags":["harmony:phrygian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":31,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["timbre:oscillator_as_percussion","harmony:diminished_seventh_chords","scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":3.6899999999999653},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"i VI VII V5 i VI VII V5-i bII i iio V bII i V7 V-i","modulations":[],"tags":["form:period","form:binary"],"fourMeasurePhrasingReferences":[],"form":{"1":"A:antecedent","5":"A:consequent","9":"B:antecedent","13":"B:consequent"},"secondMeasure":2.389999999999993,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/Big Nose the Caveman":{"Big Nose the Caveman (1991)(Optimus)(Codemaster).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-IV-V-I I I I I I I I I-V I I I I-V IV V IV V","modulations":[],"tags":["timbre:oscillator_as_percussion","upper_voice:riff","harmony:I-IV-V","tempo:twice_as_fast","bass:root_fifth"],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.8400000000000014,"loop":18,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.439999999999886,"10":16.779999999999824,"16":27.970000000001573},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V I vi IV V IV V IV V","modulations":[],"tags":["timbre:ultra_fast_notes","bass:root_fifth","middle_voice:arpeggio","melody:arpeggio"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.1399999999999983,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":4.239999999999954,"4":6.389999999999908,"5":8.489999999999863,"6":10.628571428571428},"tonic":2,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"bass:transposed_riff","span":[1,48]},{"voices":[0],"tag":"timbre:ultra_fast_notes","span":[1,12]},{"voices":[0],"tag":"melody:x2","span":[17,20]},{"voices":[0],"tag":"melody:arpeggio","span":[1,12]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,48]},{"tag":"rhythm:3+3+2","span":[21,24]},{"tag":"form:12-bar_blues","span":[1,48]},{"voices":[0],"tag":"melody:transposed_riff","span":[37,48]},{"tag":"melody:basic_idea_x4","span":[13,24]},{"tag":"style:boogie-woogie","span":[25,36]}],"disableSnapToNotes":false,"romanNumerals":"I I I I IV IV I I V IV I V I I I I IV IV I I V IV I V I I I I IV IV I I V IV I V I I I I IV IV I I V IV I V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","13":"B","25":"A","37":"C"},"loop":49,"firstMeasure":0,"step":"end","comment":"feels like the next part (A, B or C) is chosen randomly","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V I I IV V","modulations":[],"tags":["timbre:wide_vibrato","form:progression","bass:root_octaves","middle_voice:arpeggio","rhythm:3+3+2","harmony:I-IV-V","form:solo"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.8400000000000014,"form":{"1":"A","5":"A","9":"B","25":"A","29":"C"},"loop":45,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"4":5.589999999999925,"5":7.439999999999886,"7":11.157142857142857,"31":55.88999999999745,"32":57.77142857142857,"35":63.38999999999596},"tonic":2,"basedOn":null}}},"Nintendo/Blue Marlin, The":{"Blue Marlin, The (1991-12-27)(Hot-B).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ ii ii-V5 I vi ii ii-V5 I V/ii ii ii I I+ ii ii I^ I","modulations":[],"tags":["harmony:diatonic_seventh_chords","timbre:oscillator_as_percussion","bass:root_octaves"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0000000000000013,"form":{"1":"intro (not looped)","5":"A","9":"A\'","13":"B","17":"B\'"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"20":38.81000000000085},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-VII I-VII I-VII I-VII I-VII I-VII I-VII I-VII I5 VII VI^ v ii7 I^ VII V","modulations":{"9":7,"13":10},"tags":["harmony:mixolydian_shuttle","rhythm:3 against 2","form:uniform_period","harmony:Vsus4","rhythm:1+2+2+2","form:binary","middle_voice:static_chord_tones","middle_voice:arpeggio","middle_voice:counterpoint"],"fourMeasurePhrasingReferences":[],"secondMeasure":2.0899999999999994,"form":{"1":"A","5":"A","9":"B:sentence"},"loop":17,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1],"tag":"middle_voice:arpeggio","span":[5,18]},{"tag":"form:period","span":[5,20]},{"tag":"form:reversed_period","span":[21,36]},{"tag":"harmony:Vsus4","span":[35,36]},{"tag":"harmony:V7b9","span":[18,18]},{"voices":[2],"tag":"bass:root_fifth","span":[1,36]},{"tag":"melody:basic_idea_x3","span":[5,20]},{"tag":"melody:reharmonization","span":[21,32]},{"voices":[1],"tag":"middle_voice:static_chord_tones","span":[21,36]},{"tag":"lego:pullback","span":[13,20]},{"tag":"harmony:diatonic_seventh_chords","span":[5,20]}],"disableSnapToNotes":false,"romanNumerals":"II5 V5 II5 V5 ii7 V7 iii7 vi7 ii7 V7 I^ I^ ii7 V7 iii7 vi7 ii7 V7 I^ I^ ii V7 I^ I^ ii7 V7 I^ I ii V i IV ii4 V/V V V","modulations":{"21":7,"29":11},"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":0.8900000000000006,"form":{"1":"intro (not looped)","5":"A:antecedent","13":"A:consequent","21":"B:consequent","29":"B:antecedent"},"loop":37,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"24":21.34285714285714,"28":25.071428571428573,"32":28.8,"34":30.642857142857142,"36":32.48571428571429,"38":34.36000000000173},"tonic":4,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:progression","span":[9,25]},{"tag":"bass:pedal_point","span":[1,8]},{"tag":"middle_voice:parallel_thirds","span":[1,8]},{"tag":"harmony:Vsus4","span":[12,12]},{"tag":"voice_leading:descending_chromatic_bass","span":[25,33]},{"tag":"bass:mixed_octaves","span":[25,34]},{"tag":"middle_voice:lower_chord_tones","span":[9,34]},{"tag":"middle_voice:arpeggio","span":[22,22]},{"tag":"rhythm:3+3+2","span":[25,31]},{"tag":"harmony:weird_chord","span":[32,32]},{"tag":"melody:development_via_rhythmic_shift","span":[9,24]},{"tag":"form:extra_measure","span":[33,34]},{"tag":"melody:basic_idea_x4","span":[9,24]},{"tag":"melody:chord_tones_as_motive","span":[9,24]}],"disableSnapToNotes":true,"romanNumerals":"_ _ _ _ _ _ _ _ I vi ii V7 I vi ii V7 I vi ii V7 I vi ii V7 I V7 V7/IV IV-V7 I V7","tags":["form:stasis_vs_progression","form:binary_with_intro"],"modulations":{"25":8},"fourMeasurePhrasingReferences":[],"secondMeasure":1.360000000000001,"form":{"1":"intro (looped)","9":"A","25":"B"},"loop":35,"firstMeasure":0,"step":"end","comment":"","tonic":0,"correctedMeasures":{"2":0.9285714285714286},"basedOn":null},"4":{"beatsPerMeasure":4,"tagSpans":[{"tag":"voice_leading:descending_chromatic_bass","span":[9,15]},{"tag":"melody:basic_idea_x3","span":[1,8]},{"tag":"bass:root","span":[1,8]},{"tag":"bass:root_octaves","span":[16,16]},{"tag":"middle_voice:lower_chord_tones","span":[1,12]},{"tag":"middle_voice:arpeggio","span":[13,15]},{"tag":"melody:stepwise","span":[1,8]},{"tag":"melody:chord_tones_as_motive","span":[9,11]},{"tag":"melody:stepwise","span":[12,16]}],"disableSnapToNotes":true,"romanNumerals":"I7 I7 III IV I7 I7 III IV i V7 i7 IV VI III IV V-VII5","modulations":{"9":11},"tags":["form:binary","rhythm:syncopation","rhythm:swing"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"A","5":"A\'","9":"B"},"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.8},"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I^","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:Vsus4","span":[18,18]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _-V i _ _ ii7 V","tags":[],"modulations":{"11":5,"15":0},"fourMeasurePhrasingReferences":[3],"secondMeasure":1.6900000000000013,"form":{"1":"intro (not looped)","3":"A","11":"B"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"7":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:mixolydian_shuttle","span":[1,17]},{"tag":"bass:root_octaves","span":[1,18]}],"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"9":1},"fourMeasurePhrasingReferences":[],"secondMeasure":1.490000000000001,"form":{"1":"A","9":"B","17":"bridge"},"loop":19,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:phrygian_shuttle","span":[1,8]},{"tag":"harmony:Vsus4","span":[15,16]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ I vi7 ii V/V V47 V7","tags":[],"modulations":{"9":6,"14":3},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":9,"firstMeasure":0,"step":"end","comment":"","tonic":8,"correctedMeasures":{"7":12.229999999999784,"8":14.285714285714286},"basedOn":null},"10":{"beatsPerMeasure":4,"tagSpans":[{"tag":"rhythm:3+3+2","span":[1,8]},{"tag":"voice_leading:three_parallel_voices","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"I bII III bII I bII III bII","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8000000000000005,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"11":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.490000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.6200000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"13":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:mixolydian_shuttle","span":[1,4]},{"tag":"bass:pedal_point","span":[1,4]},{"tag":"middle_voice:lower_chord_tones","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.440000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"15":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:not_looped","location:game_won"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0.22000000000000006,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"18":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle","harmony:mixolydian_shuttle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1900000000000008,"loop":null,"firstMeasure":0.3900000000000002,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ VI VII I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.9428571428571428},"tonic":3,"basedOn":null},"20":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null},"22":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.9199999999999817,"8":10.309999999999825,"9":11.809999999999793},"tonic":11,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"25":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"28":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"VI-VII I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.420000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Ikki":{"Ikki (1985-11-28)(Tose)(Sunsoft).nsf":{"1":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.789999999999942,"loop":null,"firstMeasure":3.1199999999999775,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Batsu & Terii - Makyou no Tetsujin Race":{"Batsu & Terii - Makyou no Tetsujin Race (1987-07-22)(Use).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"bass:root_octaves","span":[1,4]},{"tag":"harmony:weird_chord","span":[2,2]},{"tag":"middle_voice:absent","span":[1,4]},{"tag":"form:sentence","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I vio VI-VII V-I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":6.357142857142857},"tonic":11,"basedOn":null}}},"Nintendo/Baseball Fighter":{"Baseball Fighter (1991-07-05)(Graphic Research)(VAP).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period_without_melodic_repetition","span":[3,10]},{"tag":"timbre:melody_echo","span":[3,4]},{"tag":"middle_voice:parallel_thirds","span":[5,6]},{"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[7,10]},{"tag":"middle_voice:static_chord_tones","span":[1,2]},{"tag":"melody:ascending_chromatic","span":[1,2]},{"tag":"bass:root_fifth","span":[3,10]},{"tag":"rhythm:swing","span":[1,10]},{"tag":"melody:basic_idea_x2_and_fragmentation","span":[3,6]},{"tag":"melody:basic_idea_x2_and_fragmentation","span":[7,10]}],"disableSnapToNotes":false,"romanNumerals":"V V7 I vi IV V I V7/vi IV-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"secondMeasure":1.5900000000000012,"form":{"1":"intro (looped)"},"loop":11,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Yu-Gi-Oh":{"Yu-Gi-Oh (19xx)(Shenzhen Nanjing Technology).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"9":10,"15":1},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0400000000000005,"loop":17,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"9":16.329999999999753},"tonic":1,"basedOn":null}}},"Nintendo/Bikkuriman World - Gekitou Sei Senshi":{"Bikkuriman World - Gekitou Sei Senshi (1990-07-27)(-)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":["harmony:neo-riemannian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9699999999999807,"loop":null,"firstMeasure":0.5700000000000003,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":2.3699999999999934,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"5":6},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5700000000000012,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"17":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Karate Kid, The":{"Karate Kid.nsfe":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:hemitonic_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bishoujo Control":{"Bishoujo Control (FDS)(19xx)(Wild).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"middle_voice:parallel_thirds","span":[1,4]},{"tag":"voice_leading:descending_diatonic_bass","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I VII III-bII I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":4.239999999999954,"loop":5,"firstMeasure":1.2100000000000009,"step":"end","comment":"","correctedMeasures":{"3":7.439999999999886,"4":10.557142857142857,"5":13.459999999999757},"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I _ I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.189999999999976,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Waixing Zhan Shi":{"Waixing Zhan Shi (1996)(Waixing).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:chinese","scale:major_pentatonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8400000000000005,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":1.7900000000000014},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":7.442857142857143,"9":14.842857142857143},"tonic":3,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"19":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.389999999999993,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null},"21":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"24":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null},"27":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:harmonic_minor"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Super Rugby":{"Super Rugby (1989-12-27)(Zap)(TSS).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:upper_structure","span":[5,8]}],"disableSnapToNotes":false,"romanNumerals":"_ _ VI VI-VII I _ _ _ I","tags":[],"modulations":{"9":8},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":13,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"bass:riff","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:parallel_thirds","span":[2,4]},{"voices":[0,1],"tag":"middle_voice:parallel_fifths","span":[5,8]},{"tag":"scale:dorian","span":[1,8]},{"tag":"rhythm:interesting","span":[5,8]},{"tag":"form:modulation","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"5":10},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"3":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:uniform_period","span":[3,10]},{"voices":[0],"tag":"middle_voice:arpeggio","span":[3,10]},{"tag":"harmony:phrygian_shuttle","span":[17,24]},{"voices":[2,1],"tag":"bass:parallel_thirds_with_melody","span":[11,15]},{"tag":"form:extra_measure","span":[15,16]},{"tag":"harmony:Vsus4","span":[16,16]},{"tag":"rhythm:syncopation","span":[1,8]},{"tag":"tempo:uneven","span":[9,20]},{"tag":"harmony:diatonic_seventh_chords","span":[3,24]},{"voices":[0],"tag":"middle_voice:arpeggio","span":[17,24]},{"voices":[0],"tag":"middle_voice:static_chord_tones","span":[25,31]},{"tag":"middle_voice:arpeggio","span":[32,32]},{"voices":[2],"tag":"bass:root_fifth","span":[17,24]},{"voices":[2],"tag":"bass:root","span":[25,32]},{"voices":[2],"tag":"bass:root_octaves","span":[3,10]},{"voices":[1],"tag":"melody:x2_vs_new_x2","span":[3,6]},{"voices":[1],"tag":"melody:basic_idea_x2_and_fragmentation","span":[11,16]},{"tag":"harmony:Vsus4","span":[29,32]}],"disableSnapToNotes":true,"romanNumerals":"_ I I VII^ vi7 VI^-VII6 I VII^ vi7 VI^-VII6 _ _ _ _ _ V i7 i7 bII^ bII^ i7 i7 bII^ bII^ I I IV IV V/V V/V V V","tags":["style:math-rock"],"modulations":{"17":9,"25":3},"fourMeasurePhrasingReferences":[3,3,29],"secondMeasure":1.490000000000001,"form":{"1":"intro (not looped)","3":"A","7":"A\'","11":"bridge","17":"B","21":"B","25":"C"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.490000000000001,"3":3.066666666666667,"4":4.716666666666667,"7":9.58999999999984,"8":11.191666666666666,"12":17.229999999999894,"13":18.380000000000074,"14":19.6,"15":20.8,"16":22.366666666666667,"17":23.970000000000947,"23":33.56666666666667,"27":39.91000000000063},"tonic":0,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"tempo:ritardando","span":[51,55]},{"tag":"harmony:constant_structures","span":[1,6]},{"tag":"harmony:Vsus4","span":[13,14]},{"tag":"harmony:diatonic_seventh_chords","span":[15,22]},{"voices":[1],"tag":"melody:higher_pitch_on_repeat","span":[15,34]},{"voices":[2],"tag":"bass:pedal_point","span":[39,42]},{"tag":"harmony:upper_structure","span":[9,10]},{"voices":[2],"tag":"bass:root","span":[1,6]},{"voices":[2],"tag":"bass:root_fifth","span":[7,38]},{"voices":[2],"tag":"bass:root_fifth","span":[43,50]},{"voices":[2],"tag":"bass:root_octaves","span":[51,52]},{"voices":[2],"tag":"bass:root","span":[53,55]},{"voices":[0,1],"tag":"middle_voice:lower_chord_tones","span":[1,10]},{"voices":[0,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[11,22]},{"voices":[1,0],"tag":"melody:fills_at_rests","span":[11,14]},{"voices":[0,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[43,55]},{"voices":[0,1],"tag":"middle_voice:parallel_sixths","span":[39,42]},{"tag":"form:period","span":[7,38]},{"tag":"rhythm:syncopation","span":[11,22]},{"tag":"form:period_without_melodic_repetition","span":[39,55]},{"tag":"harmony:diatonic_seventh_chords","span":[43,52]}],"disableSnapToNotes":true,"romanNumerals":"II #III IV IV V V I I V7/IV V7/IV IV ii V V IV^ V iii7 vi ii7 ii7 V7 V7 I I V7/IV V7/IV IV ii V V IV^ V iii7 vi7 ii7 V I V7/IV IV IV IV IV iii7 vi ii7 V IV^ V iii vi7 ii7 V VI VII I","modulations":{"39":3,"53":0},"tags":["form:not_looped"],"fourMeasurePhrasingReferences":[7],"secondMeasure":1.5900000000000012,"form":{"1":"intro","7":"A:antecedent","23":"A:consequent","39":"B:antecedent","47":"B:consequent","53":"=IV"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"8":11.179999999999806,"9":12.779999999999772,"24":36.710000000001266,"25":38.31000000000095,"54":85.47000000000682,"55":88.91000000000858},"tonic":10,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5600000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"9":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.06,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["location:jingle"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"Nintendo/Battleship - The Classic Naval Combat Game":{"Battleship - The Classic Naval Combat Game (1993-09)(Mindscape).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:basso_ostinato","span":[1,24]},{"voices":[0],"tag":"bass:mixed_octaves","span":[1,24]},{"voices":[2,1],"tag":"middle_voice:any_chord_tones","span":[1,16]},{"tag":"harmony:pure_I-V","span":[1,24]},{"voices":[1],"tag":"melody:chord_tones","span":[1,24]}],"disableSnapToNotes":false,"romanNumerals":"I V I V I V I V I V I V I V I V I V I V I V I V","modulations":[],"tags":["bass:riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.9900000000000015,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:copy_of_previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"copy","correctedMeasures":[],"tonic":null,"basedOn":null},"2":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"bass:root_third","span":[1,8]},{"tag":"form:progression","span":[1,16]},{"tag":"middle_voice:absent","span":[17,24]},{"tag":"timbre:melody_echo","span":[17,24]},{"voices":[2,1],"tag":"middle_voice:static_chord_tones","span":[1,8]},{"voices":[1,2],"tag":"middle_voice:parallel_thirds","span":[9,16]},{"voices":[0],"tag":"bass:root_octaves","span":[9,24]},{"tag":"scale:natural_minor","span":[1,16]},{"voices":[1],"tag":"melody:song-like","span":[17,24]}],"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII VI v i VII VI v i VII VI v I V vi IV I V vi IV-iii","tags":[],"modulations":{"17":3},"fourMeasurePhrasingReferences":[],"form":{"1":"A","5":"A\'","9":"A\'\'","13":"A\'\'"},"secondMeasure":1.9900000000000015,"loop":25,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"17":31.970000000002198},"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:copy_of_previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"4":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"middle_voice:riff","span":[1,12]},{"voices":[0],"tag":"bass:root_octaves","span":[1,20]},{"voices":[1],"tag":"melody:riff","span":[1,4]},{"tag":"form:uniform_period","span":[5,12]},{"voices":[1],"tag":"melody:higher_pitch_on_repeat","span":[5,12]},{"voices":[2,1],"tag":"middle_voice:parallel_thirds_and_chord_tones","span":[13,20]},{"tag":"scale:natural_minor","span":[1,12]},{"tag":"form:uniform_period","span":[13,20]},{"voices":[1],"tag":"melody:higher_pitch_on_repeat","span":[13,20]}],"disableSnapToNotes":false,"romanNumerals":"i VII VI iv-v i VII VI iv-v i VII VI iv-v I V vi IV-V I V vi IV-V","modulations":{"13":8},"tags":["form:binary"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"form":{"1":"intro (looped)","5":"A","9":"A\'","13":"B","17":"B\'"},"loop":21,"firstMeasure":0,"step":"end","comment":"roman numerals don\'t really help","correctedMeasures":[],"tonic":5,"basedOn":null},"5":{"beatsPerMeasure":6,"tagSpans":[{"tag":"form:abrupt_ending","span":[5,9]},{"tag":"harmony:I-IV-V","span":[1,8]},{"voices":[0],"tag":"bass:root_fifth","span":[1,7]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,7]},{"tag":"upper_voices:same_range","span":[1,7]},{"voices":[1],"tag":"melody:basic_idea_x3","span":[1,7]}],"disableSnapToNotes":false,"romanNumerals":"I I IV IV V V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.390000000000001,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"5":5.589999999999925},"tonic":7,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:abrupt_ending","span":[7,8]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,7]},{"voices":[0],"tag":"bass:root_octaves","span":[1,7]},{"voices":[1],"tag":"melody:starts_later_than_beat_one","span":[1,7]}],"disableSnapToNotes":false,"romanNumerals":"i VII VI v i VII i","modulations":[],"tags":["melody:x2"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7400000000000013,"loop":8,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["reference:copy_of_previous_subtune"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null},"8":{"beatsPerMeasure":4,"tagSpans":[{"voices":[0],"tag":"bass:diatonic_approach","span":[5,8]},{"voices":[0],"tag":"bass:root_fifth","span":[1,20]},{"voices":[2],"tag":"middle_voice:arpeggio","span":[1,20]},{"tag":"timbre:melody_echo","span":[1,4]},{"voices":[1],"tag":"melody:arpeggio","span":[13,20]},{"tag":"form:ABAB","span":[1,17]}],"disableSnapToNotes":false,"romanNumerals":"I V I V I V I V vi IV vi V I V I V vi IV vi V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.9900000000000015,"form":{"1":"intro (looped)","5":"A","9":"B","13":"A\'","17":"B\'"},"loop":21,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Bram Stoker\'s Dracula":{"Bram Stoker\'s Dracula (1993-09)(Probe)(Sony Imagesoft).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"voices":[1,0],"tag":"middle_voice:melody_below_arpeggio","span":[1,24]},{"tag":"harmony:harmonic_rhythm_acceleration","span":[1,8]},{"voices":[1],"tag":"timbre:ultra_fast_notes","span":[1,8]},{"voices":[2],"tag":"bass:root","span":[1,24]},{"tag":"form:progression","span":[1,24]},{"tag":"form:sentence","span":[9,16]},{"voices":[0],"tag":"melody:development_via_embellishments","span":[1,16]},{"voices":[2],"tag":"timbre:oscillator_as_percussion","span":[9,16]}],"disableSnapToNotes":true,"romanNumerals":"I i5 io io iv5 VII5-VI5 v5 v5 i5 i5 io io iv5 VII5-VI5 v5 v5 i5 i5 io io iv5 VII5-VI5 v5 v5","modulations":[],"tags":["scale:phrygian"],"fourMeasurePhrasingReferences":[],"secondMeasure":1.470000000000001,"form":{"1":"A","9":"A\'","17":"B"},"loop":25,"firstMeasure":0.02,"step":"end","comment":"","correctedMeasures":{"5":5.85,"8":10.259999999999826,"9":11.709999999999795,"12":16.083333333333332},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"scale:tetratonic","span":[5,7]},{"tag":"scale:mixed_b2","span":[1,2]},{"tag":"timbre:oscillator_as_percussion","span":[1,4]},{"tag":"timbre:ultra_fast_notes","span":[1,4]},{"tag":"timbre:melody_echo","span":[5,7]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:not_looped","harmony:quartal"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.9199999999999817,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"timbre:melody_echo","span":[1,13]},{"tag":"harmony:constant_structures","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.399999999999993,"loop":14,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"10":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:tetratonic"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"11":{"beatsPerMeasure":4,"tagSpans":[{"voices":[2],"tag":"timbre:oscillator_as_percussion","span":[1,14]},{"tag":"harmony:mixolydian_shuttle","span":[1,14]}],"disableSnapToNotes":true,"romanNumerals":"I VII IV IV-VII I VII I VII I VII I VII I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.9200000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null},"12":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:phrygian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"14":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Nintendo/Bee 52":{"Bee 52 (1992)(Codemasters).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["chip:tonal_DMC"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.0899999999999994,"loop":null,"firstMeasure":0.24000000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Big Nose Freaks Out":{"Big Nose Freaks Out (1992)(Optimus)(Codemasters).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0400000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":1.0666666666666667},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"tagSpans":[{"tag":"rhythm:3+3+2","span":[13,16]}],"disableSnapToNotes":false,"romanNumerals":"I I I I I I V V I I I I I I V V ","tags":[],"modulations":{"17":7},"fourMeasurePhrasingReferences":[],"secondMeasure":1.0400000000000007,"form":{"1":"A"},"loop":33,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"32":33.020000000002},"tonic":5,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-_","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.0900000000000007,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"Nintendo/Bomberman":{"Bomberman (1985-12-19)(Hudson).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8400000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":1.5900000000000012,"loop":6,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"2":0.08333333333333333,"3":1.95},"tonic":11,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7500000000000013,"loop":5,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":{"2":1.85},"tonic":11,"basedOn":null},"5":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:constant_structures","span":[1,4]},{"voices":[2],"tag":"bass:root_octaves","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"I II VII V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.290000000000001,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"6":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:mixolydian_shuttle","span":[1,4]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.109999999999999,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null},"7":{"beatsPerMeasure":4,"tagSpans":[{"tag":"form:period","span":[1,8]},{"voices":[2],"tag":"bass:walking","span":[1,8]},{"voices":[1,0],"tag":"middle_voice:lower_chord_tones","span":[1,8]}],"disableSnapToNotes":false,"romanNumerals":"I I VII V I I ii-V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.5900000000000012,"form":{"1":"antecedent","5":"consequent"},"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Double Moon Densetsu":{"Double Moon Densetsu (1992-10-30)(NCS)(Masaya).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"harmony:weird_dominant","span":[33,37]},{"tag":"harmony:Vsus4","span":[11,12]},{"tag":"voice_leading:descending_diatonic_bass","span":[13,15]},{"tag":"voice_leading:descending_chromatic_bass","span":[17,20]},{"tag":"form:period","span":[13,20]},{"tag":"harmony:quartal","span":[35,36]},{"tag":"harmony:quartal","span":[1,4]},{"tag":"form:sentence","span":[1,12]},{"tag":"harmony:Vsus4","span":[16,16]},{"tag":"voice_leading:Cad64","span":[19,20]}],"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ I-v^ I-v^ VI-VII III-VI V7 V7 I-V IV-I _-V/V V I-I5 V7/IV-IV iv-I _-V _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ I","modulations":[],"tags":["form:not_looped"],"fourMeasurePhrasingReferences":[5,9,17,27,31],"form":{"1":"A","13":"B","21":"C","27":"B"},"secondMeasure":1.9900000000000015,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"15":27.970000000001573,"19":35.960000000001415,"20":37.89000000000103,"33":63.88999999999586},"tonic":0,"basedOn":null},"1":{"beatsPerMeasure":6,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ iv iv VII VII _ _ _ _ _ _ _ _ _ _ _ _ _ _ bII _ _ _ vio _ _ _ _ _ I I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"secondMeasure":1.440000000000001,"form":{"1":"intro (not looped)"},"loop":41,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Bard\'s Tale - Tales of the Unknown":{"Bard\'s Tale - Tales of the Unknown (1990-12-21)(Interplay)(Atelier Double)(Pony Canyon).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:mixed_minor","style:math-rock"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Dr. Jekyll and Mr. Hyde":{"Dr. Jekyll and Mr. Hyde [Jekyll Hakase no Houma ga Koku] (1988-04-08)(Advance Communication)(Toho).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i i i V i V i V i V i","modulations":[],"tags":["scale:nikriz"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.9699999999999593,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"Nintendo/China Rabbit Baby":{"China Rabbit Baby (19xx)(Copyright).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I I V V V V vi-viio I I I V V V V vi-viio IV I ii I IV iii V/V V","tags":[],"modulations":{"23":10},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.8900000000000006,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":0,"18":15.75,"19":16.733333333333334,"24":21.383333333333333,"29":26.09000000000128,"30":27.016666666666666},"tonic":10,"basedOn":null}}},"Nintendo/Chess Academys":{"Chess Academys (1991)(Sachen).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"i VII VI v","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5900000000000012,"loop":null,"firstMeasure":0,"step":"end","comment":"copy: 16 Mahjong","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Classical MIDI/Beethoven":{"Symphony No. 9 Piano (Hisamori) - 2.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":1.8,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Symphony No. 9 (Cvikl) - 2.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Symphony No. 9 (Cvikl) - 1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"Nintendo/Hanjuku Hero":{"Hanjuku Hero (1988-12-02)(Bits Laboratory)(Square).nsf":{"8":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["tonic:ambiguous"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Classical MIDI/Grieg":{"Peer Gynt, Op. 23 – 4. Prelude to Act II∶ The Abduction; Ingrid\'s Lament (G. M. Kuhn).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":0.75,"loop":null,"firstMeasure":0,"step":"first measure","comment":"","correctedMeasures":{"6":6.041666666666665,"8":13.033333333333328,"9":13.783333333333328},"tonic":0,"basedOn":null}},"Lyric Pieces (iii), Op. 43 - 4. Vöglein (Little Bird) (T. D. Matthews).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Peer Gynt Suite No. 1, Op. 46 – 4. In the Hall of the Mountain King (D. A. Hall).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":5.217383999999998,"loop":null,"firstMeasure":1.739128,"step":"end","comment":"","correctedMeasures":{"21":70.6290258906253,"22":73.67810157812528},"tonic":11,"basedOn":null}}},"MIDI/311":{"Down.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["style:static_power_chord_riff"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"All Mixed Up.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/883":{"Chiuditi nel cesso.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/\\"Weird Al\\" Yankovic":{"Amish Paradise.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/2 Unlimited":{"Get Ready for This.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I-I-IV-V I-I-III-IV","modulations":[],"tags":["rhythm:3+3+2"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Workaholic.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}},"The Real Thing.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":122.70654400000048,"step":"second measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Twilight Zone.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:phrygian"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/808 State":{"Pacific 202.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"4":7,"5":0,"6":2,"7":5},"tags":["harmony:non-functional_maj7s"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/101 Strings":{"Theme From The Godfather.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/2 Brothers on the 4th Floor":{"Dreams.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["form:EDM"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":9.022400000000005,"step":"second measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Never Alone.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:I_in_minor"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}},"Never Alone.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}},"Let Me Be Free.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:natural_minor"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Dreams.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ i VI III VII","modulations":[],"tags":["form:EDM"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":7.2180320000000044,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Come Take My Hand.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i i V V VII VII iv iv","modulations":[],"tags":["form:progression"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":3.2142869999999983,"loop":null,"firstMeasure":2.8571439999999986,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/2 the Core":{"Have a Nice Day.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ ii V I V/ii V+/V V I","modulations":[],"tags":["style:big_band","other:wrong_author","bass:walking","rhythm:swing","harmony:tonic_added-sixth_chord"],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":16.020833333333318,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/4 Non Blondes":{"What\'s Up.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/2Boys":{"I Won\'t Let You Down.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"20":3},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/702":{"Where My Girls At.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ i iv7 V7 i","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/20 Fingers":{"Short Dick Man.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Lick It.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":["form:EDM"],"modulations":{"19":5},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"Classical MIDI/Chopin":{"24 Preludes, Op. 28 – No. 4 in E minor (\'Suffocation\') (J. Sirulnikoff).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Mazurkas, Op. 63 – No. 2 in F minor (R. Lubetsky).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"14":8,"25":7,"28":5},"tags":["midi:no_beat_grid"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}},"Piano Sonata No. 2 in B♭ minor, Op. 35 (T. Leen).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"43":1,"91":7,"99":1},"fourMeasurePhrasingReferences":[7],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":131.08321251875032,"step":"second measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}},"24 Preludes, Op. 28 – No. 6 in B minor (\'Tolling Bells\') (E. W. Cox).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"Classical MIDI/Rachmaninoff":{"Morceaux de fantaisie, Op. 3 – No. 2. Prélude in C♯ minor (N. H. Carter).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}},"Symphony No. 1 in D minor, Op. 13 for piano duet - I. Grave, Allegro ma non troppo.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"27":4,"34":9,"37":0,"41":7},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/3T":{"I Need You.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"98":7},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"mm.24-25 - distant Vsus4","correctedMeasures":[],"tonic":5,"basedOn":null}},"Why.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/98 Degrees":{"I Do.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I vi IV V","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"She\'s Out of My Life.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"The Hardest Thing.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["midi:no_beat_grid"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.125,"loop":null,"firstMeasure":1.0625,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/10,000 Maniacs":{"A Campfire Song.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ I V vi IV","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/10cc":{"I\'m Not In Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"11":0,"19":3,"23":0,"31":3},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}},"Dreadlock Holiday.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"79":8},"tags":["harmony:plagal_shuttle","style:reggae"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"The Things We Do for Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":{"11":1},"tags":["bass:pedal_point"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Astrud Gilberto":{"The Girl From Ipanema (Garota de Ipanema).mid":{"0":{"beatsPerMeasure":4,"tagSpans":[],"disableSnapToNotes":false,"romanNumerals":"","modulations":{"23":6,"31":7,"35":5},"tags":["harmony:diatonic_seventh_chords"],"fourMeasurePhrasingReferences":[3],"secondMeasure":null,"form":{"7":"verse","23":"chorus","39":"verse"},"loop":null,"firstMeasure":76.52727437500093,"step":"end","comment":"_ _ I^ bII^ I^ V-V-V-bII I^ I^ V7/V V7/V ii7 bII7 I^ I^ I^ I^ V7/V V7/V ii7 bII7 I^ I^ I^ I^ IV7 IV7 i7 i7 VI7 VI7 i7 i7 VI7 VI7 ii7/ii V7/ii ii7 V7","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/Atkins Chet":{"Georgia on My Mind.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/1910 Fruitgum Company":{"Simon Says.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ I ii V I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[6],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Stevie Wonder":{"Superstition.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ V7-_ _ _ V+","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[8],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"MIDI/Aaron Neville":{"Tell It Like It Is.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}},"The Grand Tour.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"12/8","correctedMeasures":[],"tonic":null,"basedOn":null}}},"Nintendo/Cosmo Police Galivan":{"Cosmo Police Galivan (1988-06-03)(Nichibutsu).nsf":{"0":{"beatsPerMeasure":4,"tagSpans":[{"tag":"scale:whole-tone","span":[1,7]}],"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5600000000000012,"loop":null,"firstMeasure":0.09,"step":"end","comment":"","correctedMeasures":{"7":8.499999999999863,"8":10.299999999999825,"9":12.016666666666667},"tonic":3,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"5":4,"9":1},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.5500000000000012,"loop":28,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":3.149999999999977,"loop":null,"firstMeasure":1.0500000000000007,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/A Taste of Honey":{"Boogie Oogie Oogie.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ i i VI VI _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ v-i IV-VII","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Ace Frehley":{"New York Groove.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"29":5},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Carmina Burana":{"O Fortuna.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"time 6/2","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/911":{"The Day We Find Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"64":4},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/ABC":{"Poison Arrow.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Look of Love, Part 1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"4 Ever 2 Gether.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["other:wrong_author"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Thelonious Monk":{"Blue Monk.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/The Temptations":{"Ain\'t Too Proud To Beg.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bassist:James_Jamerson"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Ace":{"How Long.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"15":0,"23":10},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"\\"I\'m not in Love\\" vibes","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/a-ha":{"The Living Daylights.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"21":0,"36":2},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}},"Hunting High and Low.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ i i VI bvi","tags":[],"modulations":{"11":0,"15":9},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Take On Me.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Aaliyah":{"Try Again.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}},"Are You That Somebody.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Aswad":{"Shine.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/ABBA":{"Eagle.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Andante, Andante.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["midi:no_beat_grid"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}},"Fernando.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["midi:extra_half_measure"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Gimme! Gimme! Gimme!.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["midi:time_signature_bugs"],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}},"Waterloo.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}},"Money, Money, Money.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/AC DC":{"Back In Black.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Highway To Hell.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Thunderstruck.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"MIDI/ZZ Top":{"Sleeping Bag.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"45":7,"49":9,"59":0,"68":2},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Ace of Base":{"All That She Wants.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:parallel_keys"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"Nintendo/Darkwing Duck":{"Darkwing Duck (1993-02)(Capcom).nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":true,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":2.020000000000001,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"1":2.0166666666666666,"2":2.020000000000001},"tonic":9,"basedOn":null},"1":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["bass:walking"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.320000000000001,"loop":9,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":{"3":2.669999999999987,"8":9.3},"tonic":9,"basedOn":null},"2":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null},"3":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.1200000000000008,"loop":5,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null},"4":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"5":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["rhythm:swing"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":0,"step":"second measure","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null},"6":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null},"7":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.8500000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Blues Image":{"Ride Captain Ride.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Armani":{"Solo con l\'anima mia.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"51":4},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Charles Aznavour":{"Emmenez-moi.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"59":0,"69":9},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Banda Blanca":{"Fiesta.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Bush":{"Swallowed.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Alan Jackson":{"Chattahoochee.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Aerosmith":{"What It Takes.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ I V vi IV-IV-IV-V I V vi IV-IV-IV-V I V vi IV V I vi IV IV-IV-IV-V I IV-IV-IV-V I IV-V/vi vi #IV #IV IV-VI I I V vi IV I V vi IV IV-IV-IV-V I IV-IV-IV-V I IV-V/vi vi #IV #IV IV-VI I _ _ _ _ _ _ _ V V/V IV I i VI III V IV I IV I IV-V/vi vi #IV #IV IV-VI I IV-VI I IV-VI","tags":[],"modulations":{"18":5,"28":7,"36":5},"fourMeasurePhrasingReferences":[2],"secondMeasure":null,"form":{"2":"intro","6":"verse","14":"pre-chorus","18":"verse","28":"verse","36":"chorus","46":"solo","53":"bridge","61":"chorus"},"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Al Jarreau":{"Roof Garden.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"27":3},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/Al Wilson":{"Show and Tell.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Alain Souchon":{"Bidon.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"49":11,"56":7},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Alain Chamfort":{"Manureva.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Cher":{"Strong Enough.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"MIDI/Al Jolson":{"You Made Me Love You.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Arabesque":{"Take Me Don\'t Break Me.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Led Zeppelin":{"Kashmir.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"69":9,"89":2},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Apollo 440":{"StopTheRock.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/Belinda Carlisle":{"Circle In The Sand.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Aqua":{"Turn Back Time.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Babyface":{"Change the World.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Alain Barriere":{"Ma vie.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Billy Mayerl":{"Eskimo Shivers.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Blattschuss":{"Kreuzberger Nachte.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Adamo":{"Affida una lacrima al vento.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["harmony:pure_I-V"],"fourMeasurePhrasingReferences":[3],"secondMeasure":null,"form":{"3":"intro","7":"A","23":"A\'","39":"B","55":"A\'","71":"A\'","87":"coda"},"loop":null,"firstMeasure":null,"step":"end","comment":"_ _ V V V V I I I I I I V V V V V V V V I I I I I I I I V V V V V V V V I I V/vi V/vi vi vi V/vi V/vi vi vi IV IV iii iii ii ii V V I I I I I I V V V V V V V V I I I I I I I I V V V V V V V V I I V V I I V V I I ","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Britney Spears":{"Stronger.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Al Hirt":{"When the Saints Go Marching In.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Annie Cordy":{"Frida oum papa.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"59":5},"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Ana Belen":{"Desde mi libertad.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Bernhard Brink":{"Ich Glaub\' Dir Jede Luge.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}},"MIDI/Bobby Bloom":{"Montego Bay.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Alain Bashung":{"Osez Josephine.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":{"31":59.4},"tonic":2,"basedOn":null}}},"MIDI/AL Bano":{"Felicita.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["other:wrong_author"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"MIDI/Camaleonti":{"Mamma mia.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Bommbastic":{"Major Tom \'94.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Radiohead":{"Just.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Creep.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I I #III #III IV IV iv iv I","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Ripcord.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"73":2},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Climbing Up the Walls.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}},"High and Dry.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Subterranean Homesick Alien.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}},"Airbag.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Fake Plastic Trees.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Planet Telex.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Street Spirit.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Lucky.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"Karma Police.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"iv _ i III iv bII i III","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}},"No Surprises.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}},"Paranoid Android.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/The Beatles":{"Dear Prudence.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"second measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}},"Help!.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"26":11,"36":9},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}},"Yesterday.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/Desireless":{"Voyage Voyage.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Acoustic Alchemy":{"The Blue Chip Bop.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Big Mountain":{"Baby I Love Your Way.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Bell":{"Tighten Up.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/Albert Hammond":{"It Never Rains in Southern Californa.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Battisti Lucio":{"Nessun dolore.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Bilk":{"Fond Memories.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Apollo 100":{"Besame Mucho.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Jefferson Airplane":{"White Rabbit.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Bill Haley & His Comets":{"See You Later Aligator.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Aretha Franklin":{"Respect.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"6":7,"12":0,"36":6,"42":7},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"Nintendo/Chip Addiction":{"Chip Addiction.nsf":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["timbre:melody_echo"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":1.7900000000000014,"loop":null,"firstMeasure":0,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Donna Hightower":{"This World Today is a Mess.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"6":0},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Alien Ant Farm":{"Smooth Criminal.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Alvin Stardust":{"I Feel Like Buddy Holly.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Chris de Burgh":{"Lady in Red.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/Basia":{"Run for Cover.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"10":6},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":{"58":121.1},"tonic":11,"basedOn":null}}},"MIDI/Bob Marley":{"Is This Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/Al Martino":{"Volare.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"40":3,"50":0},"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Chumbawamba":{"Tubthumping.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Blue Oyster Cult":{"Godzilla.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/Billy Joel":{"52nd Street.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Bachman-Turner Overdrive":{"Let It Ride.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"_ _ VI-III VII-i","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/Bauer":{"De regenboog.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":11,"basedOn":null}}},"MIDI/Barbra Streisand":{"All I Ask of You.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"tonic","comment":"","correctedMeasures":[],"tonic":null,"basedOn":null}}},"MIDI/Al Green":{"Let\'s Stay Together.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/Baxter":{"Unchained Melody.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Atlanta Rhythm Section":{"So in to You.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/Alanis Morissette":{"All I Really Want.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/Amina":{"Le Dernier qui a parle.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Alunni del Sole":{"Isa... Isabella.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Adamski":{"Love and Life.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"MIDI/Billy Swan":{"I Can Help.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["scale:whole-tone","form:12-bar_blues"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Air":{"AlphaBetaGaga.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Eurythmics":{"1984.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Alberti":{"De glimlach van een kind.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"35":10,"36":11},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/Albert West":{"For the Good Times.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Bonnie Raitt":{"Something to Talk About.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"42":11,"48":8},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":8,"basedOn":null}}},"MIDI/Anna Oxa":{"A lei.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Bernd Cluver":{"Der Junge mit der Mundharmonika.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":5,"basedOn":null}}},"MIDI/Assia":{"Elle Est a Toi.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/Alannah Myles":{"Black Velvet.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"MIDI/Adiemus":{"Kayama.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":["voice_leading:descending_chromatic_bass"],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Air Supply":{"All Out Of Love.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Al Stewart":{"Time Passages.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":3,"basedOn":null}}},"MIDI/Bette Midler":{"Wind Beneath My Wings.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Alabama":{"Then Again.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"18":2,"32":9,"59":2,"71":9,"75":9},"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Adventures of Stevie V.":{"Dirty Cash (Dime and Dollar mix).mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Adriano Celentano":{"Azzurro.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[3],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"first measure","comment":"","correctedMeasures":[],"tonic":10,"basedOn":null}}},"MIDI/Bad Boys Blue":{"Lady in Black.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":6,"basedOn":null}}},"MIDI/Bon Jovi":{"Always.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"9":1,"21":4},"fourMeasurePhrasingReferences":[4],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":4,"basedOn":null}}},"MIDI/Bad Company":{"Shooting Star.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":9,"basedOn":null}}},"MIDI/Chicago":{"Saturday In The Park.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","tags":[],"modulations":{"22":2,"28":7,"38":0},"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Alberto Fortis":{"Settembre.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":0,"basedOn":null}}},"MIDI/Blaque":{"Bring It All to Me.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Bob Dylan":{"Blowin\' in the Wind.1.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[2],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":2,"basedOn":null}}},"MIDI/Alan Silvestri":{"forrest_gump-feather_theme_rh.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":7,"basedOn":null}}},"MIDI/Another Level":{"I Want You for Myself.mid":{"0":{"beatsPerMeasure":4,"disableSnapToNotes":false,"romanNumerals":"","modulations":[],"tags":[],"fourMeasurePhrasingReferences":[],"form":[],"secondMeasure":null,"loop":null,"firstMeasure":null,"step":"end","comment":"","correctedMeasures":[],"tonic":1,"basedOn":null}}}}')},function(e,t,r){var n=r(57),s=r(146),a=r(148),o=r(153),i=r(157),l=r(45);e.exports=function(e,t,r){if((e=i(e))&&(r||void 0===t))return e.slice(0,l(e)+1);if(!e||!(t=n(t)))return e;var u=o(e),c=a(u,o(t))+1;return s(u,0,c).join("")}},,function(e,t,r){"use strict";var n=r(73);function s(){}var a=null,o={};function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==s&&m(e,this)}function l(e,t){for(;3===e._83;)e=e._18;if(i._47&&i._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){n((function(){var r=1===e._83?t.onFulfilled:t.onRejected;if(null!==r){var n=function(e,t){try{return e(t)}catch(e){return a=e,o}}(r,e._18);n===o?c(t.promise,a):u(t.promise,n)}else 1===e._83?u(t.promise,e._18):c(t.promise,e._18)}))}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=function(e){try{return e.then}catch(e){return a=e,o}}(t);if(r===o)return c(e,a);if(r===e.then&&t instanceof i)return e._83=3,e._18=t,void d(e);if("function"==typeof r)return void m(r.bind(t),e)}e._83=1,e._18=t,d(e)}function c(e,t){e._83=2,e._18=t,i._71&&i._71(e,t),d(e)}function d(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function f(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function m(e,t){var r=!1,n=function(e,t,r){try{e(t,r)}catch(e){return a=e,o}}(e,(function(e){r||(r=!0,u(t,e))}),(function(e){r||(r=!0,c(t,e))}));r||n!==o||(r=!0,c(t,a))}e.exports=i,i._47=null,i._71=null,i._44=s,i.prototype.then=function(e,t){if(this.constructor!==i)return function(e,t,r){return new e.constructor((function(n,a){var o=new i(s);o.then(n,a),l(e,new f(t,r,o))}))}(this,e,t);var r=new i(s);return l(this,new f(e,t,r)),r}},function(e,t){var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},function(e,t,r){var n=r(26),s=r(27);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==n(e)}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(15))},function(e,t,r){var n=r(87);e.exports=function(e,t){var r=-1,s=e.length,a=s-1;for(t=void 0===t?s:t;++r<t;){var o=n(r,a),i=e[o];e[o]=e[r],e[r]=i}return e.length=t,e}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){var n=r(106),s=r(51);e.exports=function(e){return null!=e&&s(e.length)&&!n(e)}},function(e,t,r){var n=r(54);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(28).default,s=r(114);e.exports=function(e){var t=s(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(56);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(33),s=r(49),a=r(35),o=r(46),i=n?n.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return s(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return o}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=63&s|128):55296==(64512&s)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=63&s|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=63&s|128)}return t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Error}).call(this,r(15),r(19))},function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports=!r(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(32)("wks"),s=r(9),a=r(0).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:s)("Symbol."+e))}).store=n},function(e,t,r){var n=r(0),s=r(2),a=r(8),o=r(22),i=r(10),l=function(e,t,r){var u,c,d,f,m=e&l.F,p=e&l.G,h=e&l.S,g=e&l.P,b=e&l.B,v=p?n:h?n[t]||(n[t]={}):(n[t]||{}).prototype,y=p?s:s[t]||(s[t]={}),M=y.prototype||(y.prototype={});for(u in p&&(r=t),r)d=((c=!m&&v&&void 0!==v[u])?v:r)[u],f=b&&c?i(d,n):g&&"function"==typeof d?i(Function.call,d):d,v&&o(v,u,d,e&l.U),y[u]!=d&&a(y,u,f),g&&M[u]!=d&&(M[u]=d)};n.core=s,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){var n=r(16),s=r(21);e.exports=r(3)?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(24);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,s){return e.call(t,r,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(28),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",s=e.type||"",a=s.replace(/\/.*$/,"");return r.some((function(e){var t=e.trim();return"."===t.charAt(0)?n.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):s===t}))}return!0},r(14),r(34)},function(e,t,r){r(15),e.exports=r(2).Array.some},function(e,t,r){"use strict";var n=r(7),s=r(25)(3);n(n.P+n.F*!r(33)([].some,!0),"Array",{some:function(e){return s(this,e,arguments[1])}})},function(e,t,r){var n=r(17),s=r(18),a=r(20),o=Object.defineProperty;t.f=r(3)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),s)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(1);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(3)&&!r(4)((function(){return 7!=Object.defineProperty(r(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(1),s=r(0).document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,r){var n=r(1);e.exports=function(e,t){if(!n(e))return e;var r,s;if(t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;if("function"==typeof(r=e.valueOf)&&!n(s=r.call(e)))return s;if(!t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(0),s=r(8),a=r(23),o=r(9)("src"),i=Function.toString,l=(""+i).split("toString");r(2).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,r,i){var u="function"==typeof r;u&&(a(r,"name")||s(r,"name",t)),e[t]!==r&&(u&&(a(r,o)||s(r,o,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:i?e[t]?e[t]=r:s(e,t,r):(delete e[t],s(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||i.call(this)}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(10),s=r(26),a=r(27),o=r(12),i=r(29);e.exports=function(e,t){var r=1==e,l=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d,m=t||i;return function(t,i,p){for(var h,g,b=a(t),v=s(b),y=n(i,p,3),M=o(v.length),_=0,I=r?m(t,M):l?m(t,0):void 0;M>_;_++)if((f||_ in v)&&(g=y(h=v[_],_,b),e))if(r)I[_]=g;else if(g)switch(e){case 3:return!0;case 5:return h;case 6:return _;case 2:I.push(h)}else if(c)return!1;return d?-1:u||c?c:I}}},function(e,t,r){var n=r(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(11);e.exports=function(e){return Object(n(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(30);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(1),s=r(31),a=r(6)("species");e.exports=function(e){var t;return s(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!s(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(5);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(0),s=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return s[e]||(s[e]={})}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,r){r(35),e.exports=r(2).String.endsWith},function(e,t,r){"use strict";var n=r(7),s=r(12),a=r(36),o="".endsWith;n(n.P+n.F*r(38)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=s(t.length),i=void 0===r?n:Math.min(s(r),n),l=String(e);return o?o.call(t,l,i):t.slice(i-l.length,i)===l}})},function(e,t,r){var n=r(37),s=r(11);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(s(e))}},function(e,t,r){var n=r(1),s=r(5),a=r(6)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==s(e))}},function(e,t,r){var n=r(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t){e.exports=function(e,t,r,n){var s=r?r.call(n,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!i(u))return!1;var c=e[u],d=t[u];if(!1===(s=r?r.call(n,c,d,u):void 0)||void 0===s&&c!==d)return!1}return!0}},function(e,t,r){"use strict";t.a=function(e){function t(e,t,n){var s=t.trim().split(p);t=s;var a=s.length,o=e.length;switch(o){case 0:case 1:var i=0;for(e=0===o?"":e[0]+" ";i<a;++i)t[i]=r(e,t[i],n).trim();break;default:var l=i=0;for(t=[];i<a;++i)for(var u=0;u<o;++u)t[l++]=r(e[u]+" ",s[i],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,a){var o=e+";",i=2*t+3*r+4*a;if(944===i){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===T||2===T&&s(l,1)?"-webkit-"+l+l:l}if(0===T||2===T&&!s(o,1))return o;switch(i){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(y,"tb");break;case 232:l=o.replace(y,"tb-rl");break;case 220:l=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,i=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<i?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(I,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(I,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===N.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,a).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===r+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+o}return o}function s(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),R(2!==t?n:n.replace(P,"$1"),r,t)}function a(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(_," or ($1)").substring(4):"("+t+")"}function o(e,t,r,n,s,a,o,i,u,c){for(var d,f=0,m=t;f<x;++f)switch(d=k[f].call(l,e,m,r,n,s,a,o,i,u,c)){case void 0:case!1:case!0:case null:break;default:m=d}if(m!==t)return m}function i(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!=typeof e?T=1:(T=2,R=e):T=0),i}function l(e,r){var i=e;if(33>i.charCodeAt(0)&&(i=i.trim()),i=[i],0<x){var l=o(-1,r,i,i,V,E,0,0,0,0);void 0!==l&&"string"==typeof l&&(r=l)}var d=function e(r,i,l,d,f){for(var m,p,h,y,_,I=0,P=0,N=0,S=0,k=0,R=0,C=h=m=0,D=0,j=0,F=0,B=0,L=l.length,U=L-1,q="",z="",H="",W="";D<L;){if(p=l.charCodeAt(D),D===U&&0!==P+S+N+I&&(0!==P&&(p=47===P?10:47),S=N=I=0,L++,U++),0===P+S+N+I){if(D===U&&(0<j&&(q=q.replace(c,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=l.charAt(D)}p=59}switch(p){case 123:for(m=(q=q.trim()).charCodeAt(0),h=1,B=++D;D<L;){switch(p=l.charCodeAt(D)){case 123:h++;break;case 125:h--;break;case 47:switch(p=l.charCodeAt(D+1)){case 42:case 47:e:{for(C=D+1;C<U;++C)switch(l.charCodeAt(C)){case 47:if(42===p&&42===l.charCodeAt(C-1)&&D+2!==C){D=C+1;break e}break;case 10:if(47===p){D=C+1;break e}}D=C}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<U&&l.charCodeAt(D)!==p;);}if(0===h)break;D++}switch(h=l.substring(B,D),0===m&&(m=(q=q.replace(u,"").trim()).charCodeAt(0)),m){case 64:switch(0<j&&(q=q.replace(c,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:j=i;break;default:j=O}if(B=(h=e(i,j,h,p,f+1)).length,0<x&&(_=o(3,h,j=t(O,q,F),i,V,E,B,p,f,d),q=j.join(""),void 0!==_&&0===(B=(h=_.trim()).length)&&(p=0,h="")),0<B)switch(p){case 115:q=q.replace(M,a);case 100:case 109:case 45:h=q+"{"+h+"}";break;case 107:h=(q=q.replace(g,"$1 $2"))+"{"+h+"}",h=1===T||2===T&&s("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=q+h,112===d&&(z+=h,h="")}else h="";break;default:h=e(i,t(i,q,F),h,d,f+1)}H+=h,h=F=j=C=m=0,q="",p=l.charCodeAt(++D);break;case 125:case 59:if(1<(B=(q=(0<j?q.replace(c,""):q).trim()).length))switch(0===C&&(m=q.charCodeAt(0),45===m||96<m&&123>m)&&(B=(q=q.replace(" ",":")).length),0<x&&void 0!==(_=o(1,q,i,r,V,E,z.length,d,f,d))&&0===(B=(q=_.trim()).length)&&(q="\0\0"),m=q.charCodeAt(0),p=q.charCodeAt(1),m){case 0:break;case 64:if(105===p||99===p){W+=q+l.charAt(D);break}default:58!==q.charCodeAt(B-1)&&(z+=n(q,m,p,q.charCodeAt(2)))}F=j=C=m=0,q="",p=l.charCodeAt(++D)}}switch(p){case 13:case 10:47===P?P=0:0===1+m&&107!==d&&0<q.length&&(j=1,q+="\0"),0<x*A&&o(0,q,i,r,V,E,z.length,d,f,d),E=1,V++;break;case 59:case 125:if(0===P+S+N+I){E++;break}default:switch(E++,y=l.charAt(D),p){case 9:case 32:if(0===S+I+P)switch(k){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+P+I&&(j=F=1,y="\f"+y);break;case 108:if(0===S+P+I+w&&0<C)switch(D-C){case 2:112===k&&58===l.charCodeAt(D-3)&&(w=k);case 8:111===R&&(w=R)}break;case 58:0===S+P+I&&(C=D);break;case 44:0===P+N+S+I&&(j=1,y+="\r");break;case 34:case 39:0===P&&(S=S===p?0:0===S?p:S);break;case 91:0===S+P+N&&I++;break;case 93:0===S+P+N&&I--;break;case 41:0===S+P+I&&N--;break;case 40:if(0===S+P+I){if(0===m)switch(2*k+3*R){case 533:break;default:m=1}N++}break;case 64:0===P+N+S+I+C+h&&(h=1);break;case 42:case 47:if(!(0<S+I+N))switch(P){case 0:switch(2*p+3*l.charCodeAt(D+1)){case 235:P=47;break;case 220:B=D,P=42}break;case 42:47===p&&42===k&&B+2!==D&&(33===l.charCodeAt(B+2)&&(z+=l.substring(B,D+1)),y="",P=0)}}0===P&&(q+=y)}R=k,k=p,D++}if(0<(B=z.length)){if(j=i,0<x&&(void 0!==(_=o(2,z,j,r,V,E,B,d,f,d))&&0===(z=_).length))return W+z+H;if(z=j.join(",")+"{"+z+"}",0!=T*w){switch(2!==T||s(z,2)||(w=0),w){case 111:z=z.replace(v,":-moz-$1")+z;break;case 112:z=z.replace(b,"::-webkit-input-$1")+z.replace(b,"::-moz-$1")+z.replace(b,":-ms-input-$1")+z}w=0}}return W+z+H}(O,i,r,0,0);return 0<x&&(void 0!==(l=o(-2,d,i,i,V,E,d.length,0,0,0))&&(d=l)),"",w=0,E=V=1,d}var u=/^\0+/g,c=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,m=/([,: ])(transform)/g,p=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,v=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,M=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,I=/-self|flex-/g,P=/[^]*?(:[rp][el]a[\w-]+)[^]*/,N=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,E=1,V=1,w=0,T=1,O=[],k=[],x=0,R=null,A=0;return l.use=function e(t){switch(t){case void 0:case null:x=k.length=0;break;default:if("function"==typeof t)k[x++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else A=0|!!t}return e},l.set=i,void 0!==e&&i(e),l}},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){var n=r(25),s=r(136),a=r(32),o=Math.max,i=Math.min;e.exports=function(e,t,r){var l,u,c,d,f,m,p=0,h=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=l,n=u;return l=u=void 0,p=t,d=e.apply(n,r)}function y(e){return p=e,f=setTimeout(_,t),h?v(e):d}function M(e){var r=e-m;return void 0===m||r>=t||r<0||g&&e-p>=c}function _(){var e=s();if(M(e))return I(e);f=setTimeout(_,function(e){var r=t-(e-m);return g?i(r,c-(e-p)):r}(e))}function I(e){return f=void 0,b&&l?v(e):(l=u=void 0,d)}function P(){var e=s(),r=M(e);if(l=arguments,u=this,m=e,r){if(void 0===f)return y(m);if(g)return clearTimeout(f),f=setTimeout(_,t),v(m)}return void 0===f&&(f=setTimeout(_,t)),d}return t=a(t)||0,n(r)&&(h=!!r.leading,c=(g="maxWait"in r)?o(a(r.maxWait)||0,t):c,b="trailing"in r?!!r.trailing:b),P.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=m=u=f=void 0},P.flush=function(){return void 0===f?d:I(s())},P}},function(e,t,r){var n=r(140)();e.exports=n},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATAQMAAACjqR+MAAAAAXNSR0IB2cksfwAAAAZQTFRFAAAA//1U1uuHPwAAAAJ0Uk5TAP9bkSK1AAAAL0lEQVR4nGNgAAM7OwY9KxDS4GLQkQIx9KsY1D8xKDAxKH9iUCpiECpi4P/HgAQAzQsHS7Ya3FIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATAQMAAACjqR+MAAAAAXNSR0IB2cksfwAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5TAP9bkSK1AAAAIUlEQVR4nGNgwAbkzzDYP2NIMGZIBiJmBst/DDJ/0JQAAJTWBe80XGLGAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return g}));var n=r(6),s=r(68);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,o=void 0,o=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===a(o)?o:String(o)),n)}var s,o}var l,u=new(r.n(s).a.scale)(["#000000","#0000a0","#6000a0","#962761","#dd1440","#f0b000","#ffffa0","#ffffff"]).domain([0,255]),c=-1!==window.location.search.indexOf("debug=true"),d=0,f=0,m=0,p=0;function h(e){var t=e*e;return 281061254.916*t*t/((t+424.36)*Math.sqrt((t+11599.29)*(t+544496.41))*(t+14884e4))}var g=function(){function e(t,r,s,a,i,u){var c=this,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-90,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-30;o(this,e),Object(n.a)(this),this.core=t;var m=32,p=0,g=a.width,b=25.95,v=4504,y=this.core._cqt_init(r.sampleRate,g,m,b,v,p);y?(this.cqtFreqs=Array(g).fill().map((function(e,t){return c.core._cqt_bin_to_freq(t)})),l=this.cqtFreqs.map((function(e){return.5+.5*h(e)}))):console.error("Error initializing constant Q transform. Constant Q will be disabled."),this.cqtSize=y,this.dataPtr=this.core._malloc(4*y),this.paused=!0,this.mode=0,this.weighting=0,this.analyserNode=r.createAnalyser(),s.connect(this.analyserNode),this.analyserNode.minDecibels=d,this.analyserNode.maxDecibels=f,this.analyserNode.smoothingTimeConstant=0,this.analyserNode.fftSize=this.fftSize=2048,this.byteFrequencyData=new Uint8Array(this.analyserNode.frequencyBinCount),this.freqCanvas=a,this.specCanvas=i,this.tempCanvas=document.createElement("canvas"),this.tempCanvas.width=this.specCanvas.width,this.tempCanvas.height=this.specCanvas.height,this.freqCtx=this.freqCanvas.getContext("2d",{alpha:!1}),this.specCtx=this.specCanvas.getContext("2d",{alpha:!1}),this.tempCtx=this.tempCanvas.getContext("2d",{alpha:!1}),this.pianoKeysImage=u,this.lastData=[],this.updateFrame()}var t,r,s;return t=e,(r=[{key:"setPaused",value:function(e){this.paused&&!e&&requestAnimationFrame(this.updateFrame),this.paused=e}},{key:"setMode",value:function(e){this.mode=e,this.analyserNode.fftSize=2===e?this.cqtSize||2048:this.fftSize}},{key:"setFFTSize",value:function(e){this.fftSize=e,this.analyserNode.fftSize=e}},{key:"isRepeatedFrequencyData",value:function(e){for(var t=!0,r=0;r<40;r+=2)e[r]!==this.lastData[r]&&(t=!1),this.lastData[r]=e[r];return t}},{key:"setWeighting",value:function(e){this.weighting=e}},{key:"setSpeed",value:function(e){this.specSpeed=e}},{key:"updateFrame",value:function(){if(!this.paused){requestAnimationFrame(this.updateFrame);var e=this.freqCanvas.height,t=this.freqCanvas.width,r=e/256,n=this.specSpeed,s=this.byteFrequencyData,a=this.analyserNode,o=this.freqCtx,i=this.tempCtx;o.fillStyle="black",o.fillRect(0,0,this.freqCanvas.width,this.freqCanvas.height),i.fillStyle="#000033",i.fillRect(0,0,this.tempCanvas.width,n);var h=performance.now(),g=new Float32Array(this.core.HEAPF32.buffer,this.dataPtr,this.cqtSize),b=this.fftSize/2,v=!1;if(0===this.mode){a.getByteFrequencyData(s),v=this.isRepeatedFrequencyData(s);for(var y=0;y<b&&y<t;++y){var M=u(s[y]).hex(),_=s[y]*r|0;o.fillStyle=M,o.fillRect(y,e-_,1,_),i.fillStyle=M,i.fillRect(y,0,1,n)}}else if(1===this.mode){a.getByteFrequencyData(s),v=this.isRepeatedFrequencyData(s);for(var I=Math.log(b),P=0;P<b;P++){var N=Math.log(P+1)/I*t|0,S=Math.log(P+2)/I*t-N|0,E=s[P]*r|0,V=u(s[P]||0).hex();o.fillStyle=V,o.fillRect(N,e-E,S,E),i.fillStyle=V,i.fillRect(N,0,S,n)}}else if(2===this.mode&&(a.getFloatTimeDomainData(g),!g.every((function(e){return 0===e})))){this.core._cqt_calc(this.dataPtr,this.dataPtr),this.core._cqt_render_line(this.dataPtr);for(var w=0;w<t;w++){var T=255*(1===this.weighting?l[w]:1)*g[w]|0,O=T*r|0,k=u(T).hex();o.fillStyle=k,o.fillRect(w,e-O,1,O),i.fillStyle=k,i.fillRect(w,0,1,n)}}var x=performance.now();v||(i.translate(0,n),i.drawImage(this.tempCanvas,0,0),i.setTransform(1,0,0,1,0,0),this.specCtx.drawImage(this.tempCanvas,0,0));var R=performance.now();c&&(d+=x-h,f+=R-h,++m>=200&&(console.log("[Viz] %s ms analysis, %s ms total (%s fps) (%s% utilization)",(d/m).toFixed(2),(f/m).toFixed(2),(1e3*m/(h-p)).toFixed(1),(100*f/(R-p)).toFixed(1)),d=0,m=0,f=0,p=h))}}}])&&i(t.prototype,r),s&&i(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var b=new Uint8Array(32768);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(b);for(var t=0,r=e.length;t<r;t++)e[t]=.0078125*(b[t]-128)}}}).call(this,r(15))},function(e,t,r){(function(e){var r;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,s,a,o,i,l,u,c,d,f,m,p,h,g,b,v,y,M,_,I,P,N,S,E,V,w,T,O,k,x,R,A,C,D,j,F,B,L,U,q,z,H,W,G,$,X,K,Y,J,Q,Z,ee,te,re,ne,se,ae,oe,ie,le,ue,ce,de,fe,me,pe,he,ge,be,ve,ye,Me,_e,Ie,Pe,Ne,Se,Ee,Ve,we,Te=[].slice;Ne=function(){var e,t,r,n,s;for(e={},n=0,t=(s="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;n<t;n++)r=s[n],e["[object "+r+"]"]=r.toLowerCase();return function(t){var r;return r=Object.prototype.toString.call(t),e[r]||"object"}}(),K=function(e,t,r){return null==t&&(t=0),null==r&&(r=1),e<t&&(e=t),e>r&&(e=r),e},Se=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},P=function(e){var t,r;for(e._clipped=!1,e._unclipped=e.slice(0),t=r=0;r<3;t=++r)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},o=Math.PI,ye=Math.round,S=Math.cos,O=Math.floor,ne=Math.pow,Y=Math.log,_e=Math.sin,Ie=Math.sqrt,g=Math.atan2,Z=Math.max,h=Math.abs,u=2*o,i=o/3,s=o/180,l=180/o,(I=function(){return arguments[0]instanceof n?arguments[0]:function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,arguments,(function(){}))}).default=I,p=[],null!==e&&null!=e.exports&&(e.exports=I),void 0===(r=function(){return I}.apply(t,[]))||(e.exports=r),I.version="1.4.1",m={},d=[],f=!1,n=function(){function e(){var e,t,r,n,s,a,o,i,l;for(a=this,t=[],i=0,n=arguments.length;i<n;i++)null!=(e=arguments[i])&&t.push(e);if(t.length>1&&(o=t[t.length-1]),null!=m[o])a._rgb=P(m[o](Se(t.slice(0,-1))));else{for(f||(d=d.sort((function(e,t){return t.p-e.p})),f=!0),l=0,s=d.length;l<s&&!(o=(r=d[l]).test.apply(r,t));l++);o&&(a._rgb=P(m[o].apply(m,t)))}null==a._rgb&&console.warn("unknown format: "+t),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),I._input=m,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
I.brewer=M={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],M)t.push(M[e.toLowerCase()]=M[e])}(),I.colors=Ee={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},H=function(){var e,t,r,n,s,o,i;return n=(t=Se(arguments))[0],e=t[1],r=t[2],o=(n+16)/116,s=isNaN(e)?o:o+e/500,i=isNaN(r)?o:o-r/200,o=a.Yn*W(o),s=a.Xn*W(s),i=a.Zn*W(i),[we(3.2404542*s-1.5371385*o-.4985314*i),we(-.969266*s+1.8760108*o+.041556*i),r=we(.0556434*s-.2040259*o+1.0572252*i),t.length>3?t[3]:1]},we=function(e){return 255*(e<=.00304?12.92*e:1.055*ne(e,1/2.4)-.055)},W=function(e){return e>a.t1?e*e*e:a.t2*(e-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=function(){var e,t,r,n,s,a,o;return r=(n=Se(arguments))[0],t=n[1],e=n[2],a=(s=ge(r,t,e))[0],[116*(o=s[1])-16,500*(a-o),200*(o-s[2])]},be=function(e){return(e/=255)<=.04045?e/12.92:ne((e+.055)/1.055,2.4)},Ve=function(e){return e>a.t3?ne(e,1/3):e/a.t2+a.t0},ge=function(){var e,t,r,n;return r=(n=Se(arguments))[0],t=n[1],e=n[2],r=be(r),t=be(t),e=be(e),[Ve((.4124564*r+.3575761*t+.1804375*e)/a.Xn),Ve((.2126729*r+.7151522*t+.072175*e)/a.Yn),Ve((.0193339*r+.119192*t+.9503041*e)/a.Zn)]},I.lab=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["lab"]),(function(){}))},m.lab=H,n.prototype.lab=function(){return de(this._rgb)},b=function(e){var t,r,n,s,a,o,i,l,u,c,d;return 2===(e=function(){var t,r,n;for(n=[],r=0,t=e.length;r<t;r++)s=e[r],n.push(I(s));return n}()).length?(u=function(){var t,r,n;for(n=[],r=0,t=e.length;r<t;r++)s=e[r],n.push(s.lab());return n}(),a=u[0],o=u[1],t=function(e){var t,r;return r=function(){var r,n;for(n=[],t=r=0;r<=2;t=++r)n.push(a[t]+e*(o[t]-a[t]));return n}(),I.lab.apply(I,r)}):3===e.length?(c=function(){var t,r,n;for(n=[],r=0,t=e.length;r<t;r++)s=e[r],n.push(s.lab());return n}(),a=c[0],o=c[1],i=c[2],t=function(e){var t,r;return r=function(){var r,n;for(n=[],t=r=0;r<=2;t=++r)n.push((1-e)*(1-e)*a[t]+2*(1-e)*e*o[t]+e*e*i[t]);return n}(),I.lab.apply(I,r)}):4===e.length?(d=function(){var t,r,n;for(n=[],r=0,t=e.length;r<t;r++)s=e[r],n.push(s.lab());return n}(),a=d[0],o=d[1],i=d[2],l=d[3],t=function(e){var t,r;return r=function(){var r,n;for(n=[],t=r=0;r<=2;t=++r)n.push((1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*i[t]+e*e*e*l[t]);return n}(),I.lab.apply(I,r)}):5===e.length&&(r=b(e.slice(0,3)),n=b(e.slice(2,5)),t=function(e){return e<.5?r(2*e):n(2*(e-.5))}),t},I.bezier=function(e){var t;return(t=b(e)).scale=function(){return I.scale(t)},t},I.cubehelix=function(e,t,r,n,s){var a,o,i;return null==e&&(e=300),null==t&&(t=-1.5),null==r&&(r=1),null==n&&(n=1),null==s&&(s=[0,1]),a=0,"array"===Ne(s)?o=s[1]-s[0]:(o=0,s=[s,s]),(i=function(i){var l,c,d,f,m;return l=u*((e+120)/360+t*i),f=ne(s[0]+o*i,n),c=(0!==a?r[0]+i*a:r)*f*(1-f)/2,d=S(l),m=_e(l),I(P([255*(f+c*(-.14861*d+1.78277*m)),255*(f+c*(-.29227*d-.90649*m)),255*(f+c*(1.97294*d)),1]))}).start=function(t){return null==t?e:(e=t,i)},i.rotations=function(e){return null==e?t:(t=e,i)},i.gamma=function(e){return null==e?n:(n=e,i)},i.hue=function(e){return null==e?r:("array"===Ne(r=e)?0===(a=r[1]-r[0])&&(r=r[1]):a=0,i)},i.lightness=function(e){return null==e?s:("array"===Ne(e)?(s=e,o=e[1]-e[0]):(s=[e,e],o=0),i)},i.scale=function(){return I.scale(i)},i.hue(r),i},I.random=function(){var e,t;for("0123456789abcdef",e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(O(16*Math.random()));return new n(e)},p=[],j=function(e,t,r,n){var s,a,o,i;for(null==r&&(r=.5),null==n&&(n="rgb"),"object"!==Ne(e)&&(e=I(e)),"object"!==Ne(t)&&(t=I(t)),o=0,a=p.length;o<a;o++)if(n===(s=p[o])[0]){i=s[1](e,t,r,n);break}if(null==i)throw"color mode "+n+" is not supported";return i.alpha(e.alpha()+r*(t.alpha()-e.alpha()))},I.interpolate=j,n.prototype.interpolate=function(e,t,r){return j(this,e,t,r)},I.mix=j,n.prototype.mix=n.prototype.interpolate,m.rgb=function(){var e,t,r,n;for(e in r=[],t=Se(arguments))n=t[e],r.push(n);return r},I.rgb=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["rgb"]),(function(){}))},n.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},d.push({p:3,test:function(e){var t;return t=Se(arguments),"array"===Ne(t)&&3===t.length||4===t.length&&"number"===Ne(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),m.lrgb=m.rgb,L=function(e,t,r,s){var a,o;return a=e._rgb,o=t._rgb,new n(Ie(ne(a[0],2)*(1-r)+ne(o[0],2)*r),Ie(ne(a[1],2)*(1-r)+ne(o[1],2)*r),Ie(ne(a[2],2)*(1-r)+ne(o[2],2)*r),s)},c=function(e){var t,r,s,a,o;for(t=1/e.length,o=[0,0,0,0],s=0,r=e.length;s<r;s++)a=e[s]._rgb,o[0]+=ne(a[0],2)*t,o[1]+=ne(a[1],2)*t,o[2]+=ne(a[2],2)*t,o[3]+=a[3]*t;return o[0]=Ie(o[0]),o[1]=Ie(o[1]),o[2]=Ie(o[2]),o[3]>1&&(o[3]=1),new n(P(o))},p.push(["lrgb",L]),I.average=function(e,t){var r,n,s,a,i,l,u,d,f,m,p,h,b;if(null==t&&(t="rgb"),f=e.length,u=(e=e.map((function(e){return I(e)}))).splice(0,1)[0],"lrgb"===t)return c(e);for(d in a=[],i=0,l=0,h=u.get(t))h[d]=h[d]||0,a.push(isNaN(h[d])?0:1),"h"!==t.charAt(d)||isNaN(h[d])||(r=h[d]/180*o,i+=S(r),l+=_e(r));for(n=u.alpha(),p=0,m=e.length;p<m;p++)for(d in b=(s=e[p]).get(t),n+=s.alpha(),h)isNaN(b[d])||(a[d]+=1,"h"===t.charAt(d)?(r=b[d]/180*o,i+=S(r),l+=_e(r)):h[d]+=b[d]);for(d in h)if("h"===t.charAt(d)){for(r=g(l/a[d],i/a[d])/o*180;r<0;)r+=360;for(;r>=360;)r-=360;h[d]=r}else h[d]=h[d]/a[d];return I(h,t).alpha(n/f)},x=function(e){var t,r;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(r=parseInt(e,16))>>16,r>>8&255,255&r,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(r=parseInt(e,16))>>24&255,r>>16&255,r>>8&255,ye((255&r)/255*100)/100];if(null!=m.css&&(t=m.css(e)))return t;throw"unknown color: "+e},ie=function(e,t){var r,n,s,a,o,i;return null==t&&(t="auto"),o=e[0],s=e[1],n=e[2],r=e[3],"auto"===t&&(t=r<1?"rgba":"rgb"),o=Math.round(o),s=Math.round(s),n=Math.round(n),i=(i="000000"+(o<<16|s<<8|n).toString(16)).substr(i.length-6),a=(a="0"+ye(255*r).toString(16)).substr(a.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return i+a;case"argb":return a+i;default:return i}}()},m.hex=function(e){return x(e)},I.hex=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["hex"]),(function(){}))},n.prototype.hex=function(e){return null==e&&(e="auto"),ie(this._rgb,e)},d.push({p:4,test:function(e){if(1===arguments.length&&"string"===Ne(e))return"hex"}}),C=function(){var e,t,r,n,s,a,o,i,l,u,c,d,f,m;if(s=(e=Se(arguments))[0],c=e[1],o=e[2],0===c)l=n=t=255*o;else{for(r=[0,0,0],d=2*o-(f=o<.5?o*(1+c):o+c-o*c),(m=[0,0,0])[0]=(s/=360)+1/3,m[1]=s,m[2]=s-1/3,a=i=0;i<=2;a=++i)m[a]<0&&(m[a]+=1),m[a]>1&&(m[a]-=1),6*m[a]<1?r[a]=d+6*(f-d)*m[a]:2*m[a]<1?r[a]=f:3*m[a]<2?r[a]=d+(f-d)*(2/3-m[a])*6:r[a]=d;l=(u=[ye(255*r[0]),ye(255*r[1]),ye(255*r[2])])[0],n=u[1],t=u[2]}return e.length>3?[l,n,t,e[3]]:[l,n,t]},ue=function(e,t,r){var n,s,a,o,i;return void 0!==e&&e.length>=3&&(e=(o=e)[0],t=o[1],r=o[2]),e/=255,t/=255,r/=255,a=Math.min(e,t,r),s=((Z=Math.max(e,t,r))+a)/2,Z===a?(i=0,n=Number.NaN):i=s<.5?(Z-a)/(Z+a):(Z-a)/(2-Z-a),e===Z?n=(t-r)/(Z-a):t===Z?n=2+(r-e)/(Z-a):r===Z&&(n=4+(e-t)/(Z-a)),(n*=60)<0&&(n+=360),[n,i,s]},I.hsl=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["hsl"]),(function(){}))},m.hsl=C,n.prototype.hsl=function(){return ue(this._rgb)},D=function(){var e,t,r,n,s,a,o,i,l,u,c,d,f,m,p,h,g,b;if(s=(e=Se(arguments))[0],h=e[1],b=e[2],b*=255,0===h)l=n=t=b;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),o=b*(1-h),i=b*(1-h*(r=(s/=60)-(a=O(s)))),g=b*(1-h*(1-r)),a){case 0:l=(u=[b,g,o])[0],n=u[1],t=u[2];break;case 1:l=(c=[i,b,o])[0],n=c[1],t=c[2];break;case 2:l=(d=[o,b,g])[0],n=d[1],t=d[2];break;case 3:l=(f=[o,i,b])[0],n=f[1],t=f[2];break;case 4:l=(m=[g,o,b])[0],n=m[1],t=m[2];break;case 5:l=(p=[b,o,i])[0],n=p[1],t=p[2]}return[l,n,t,e.length>3?e[3]:1]},ce=function(){var e,t,r,n,s,a,o,i,l;return a=(o=Se(arguments))[0],r=o[1],e=o[2],s=Math.min(a,r,e),t=(Z=Math.max(a,r,e))-s,l=Z/255,0===Z?(n=Number.NaN,i=0):(i=t/Z,a===Z&&(n=(r-e)/t),r===Z&&(n=2+(e-a)/t),e===Z&&(n=4+(a-r)/t),(n*=60)<0&&(n+=360)),[n,i,l]},I.hsv=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["hsv"]),(function(){}))},m.hsv=D,n.prototype.hsv=function(){return ce(this._rgb)},te=function(e){return"number"===Ne(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},pe=function(){var e;return((e=Se(arguments))[0]<<16)+(e[1]<<8)+e[2]},I.num=function(e){return new n(e,"num")},n.prototype.num=function(e){return null==e&&(e="rgb"),pe(this._rgb,e)},m.num=te,d.push({p:1,test:function(e){if(1===arguments.length&&"number"===Ne(e)&&e>=0&&e<=16777215)return"num"}}),k=function(){var e,t,r,n,s,a,o,i,l,u,c,d,f,m,p,h,g,b,v,y;if(i=(r=Se(arguments))[0],s=r[1],t=r[2],o=o/100*255,e=255*(s/=100),0===s)d=o=n=t;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),c=(u=t*(1-s))+e*(1-(a=(i/=60)-(l=O(i)))),v=u+e*a,y=u+e,l){case 0:d=(f=[y,v,u])[0],o=f[1],n=f[2];break;case 1:d=(m=[c,y,u])[0],o=m[1],n=m[2];break;case 2:d=(p=[u,y,v])[0],o=p[1],n=p[2];break;case 3:d=(h=[u,c,y])[0],o=h[1],n=h[2];break;case 4:d=(g=[v,u,y])[0],o=g[1],n=g[2];break;case 5:d=(b=[y,u,c])[0],o=b[1],n=b[2]}return[d,o,n,r.length>3?r[3]:1]},oe=function(){var e,t,r,n,s,a,o,i,l;return i=(l=Se(arguments))[0],s=l[1],t=l[2],o=Math.min(i,s,t),r=100*(n=(Z=Math.max(i,s,t))-o)/255,e=o/(255-n)*100,0===n?a=Number.NaN:(i===Z&&(a=(s-t)/n),s===Z&&(a=2+(t-i)/n),t===Z&&(a=4+(i-s)/n),(a*=60)<0&&(a+=360)),[a,r,e]},I.hcg=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["hcg"]),(function(){}))},m.hcg=k,n.prototype.hcg=function(){return oe(this._rgb)},E=function(e){var t,r,n,s,a,o,i,l;if(e=e.toLowerCase(),null!=I.colors&&I.colors[e])return x(I.colors[e]);if(a=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(i=a.slice(1,4),s=o=0;o<=2;s=++o)i[s]=+i[s];i[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(i=a.slice(1,5),s=l=0;l<=3;s=++l)i[s]=+i[s];else if(a=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(i=a.slice(1,4),s=t=0;t<=2;s=++t)i[s]=ye(2.55*i[s]);i[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(i=a.slice(1,5),s=r=0;r<=2;s=++r)i[s]=ye(2.55*i[s]);i[3]=+i[3]}else(a=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((n=a.slice(1,4))[1]*=.01,n[2]*=.01,(i=C(n))[3]=1):(a=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((n=a.slice(1,4))[1]*=.01,n[2]*=.01,(i=C(n))[3]=+a[4]);return i},ae=function(e){var t;return"rgb"===(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},A=function(e,t){var r;return r=t<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===r&&(e[3]=t),r+"("+e.join(",")+")"},m.css=function(e){return E(e)},I.css=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["css"]),(function(){}))},n.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ae(this._rgb):"hsl"===e.slice(0,3)?A(this.hsl(),this.alpha()):void 0},m.named=function(e){return x(Ee[e])},d.push({p:5,test:function(e){if(1===arguments.length&&null!=Ee[e])return"named"}}),n.prototype.name=function(e){var t,r;for(r in arguments.length&&(Ee[e]&&(this._rgb=x(Ee[e])),this._rgb[3]=1),t=this.hex("rgb"),Ee)if(t===Ee[r])return r;return t},G=function(){var e,t,r,n;return r=(n=Se(arguments))[0],e=n[1],t=n[2],[r,S(t*=s)*e,_e(t)*e]},$=function(){var e,t,r,n,s,a,o,i,l;return o=(r=Se(arguments))[0],s=r[1],a=r[2],e=(i=G(o,s,a))[0],t=i[1],n=i[2],[(l=H(e,t,n))[0],l[1],n=l[2],r.length>3?r[3]:1]},z=function(){var e,t,r,n,s,a;return s=(a=Se(arguments))[0],e=a[1],t=a[2],r=Ie(e*e+t*t),n=(g(t,e)*l+360)%360,0===ye(1e4*r)&&(n=Number.NaN),[s,r,n]},fe=function(){var e,t,r,n,s,a,o;return s=(a=Se(arguments))[0],r=a[1],t=a[2],n=(o=de(s,r,t))[0],e=o[1],t=o[2],z(n,e,t)},I.lch=function(){var e;return e=Se(arguments),new n(e,"lch")},I.hcl=function(){var e;return e=Se(arguments),new n(e,"hcl")},m.lch=$,m.hcl=function(){var e,t,r,n;return t=(n=Se(arguments))[0],e=n[1],r=n[2],$([r,e,t])},n.prototype.lch=function(){return fe(this._rgb)},n.prototype.hcl=function(){return fe(this._rgb).reverse()},se=function(e){var t,r,n,s,a,o;return null==e&&(e="rgb"),a=(o=Se(arguments))[0],n=o[1],t=o[2],n/=255,t/=255,[(1-(a/=255)-(s=1-Math.max(a,Math.max(n,t))))*(r=s<1?1/(1-s):0),(1-n-s)*r,(1-t-s)*r,s]},N=function(){var e,t,r,n,s,a;return r=(t=Se(arguments))[0],s=t[1],a=t[2],n=t[3],e=t.length>4?t[4]:1,1===n?[0,0,0,e]:[r>=1?0:255*(1-r)*(1-n),s>=1?0:255*(1-s)*(1-n),a>=1?0:255*(1-a)*(1-n),e]},m.cmyk=function(){return N(Se(arguments))},I.cmyk=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["cmyk"]),(function(){}))},n.prototype.cmyk=function(){return se(this._rgb)},m.gl=function(){var e,t,r,n,s;for(n=function(){var e,r;for(t in r=[],e=Se(arguments))s=e[t],r.push(s);return r}.apply(this,arguments),e=r=0;r<=2;e=++r)n[e]*=255;return n},I.gl=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["gl"]),(function(){}))},n.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},me=function(e,t,r){var n;return e=(n=Se(arguments))[0],t=n[1],r=n[2],.2126*(e=J(e))+.7152*(t=J(t))+.0722*(r=J(r))},J=function(e){return(e/=255)<=.03928?e/12.92:ne((e+.055)/1.055,2.4)},q=function(e,t,r,s){var a,o;return a=e._rgb,o=t._rgb,new n(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),s)},p.push(["rgb",q]),n.prototype.luminance=function(e,t){var r,n,s,a,o;return null==t&&(t="rgb"),arguments.length?(a=this._rgb,0===e?a=[0,0,0,this._rgb[3]]:1===e?a=[255,255,255,this[3]]:(r=me(this._rgb),n=1e-7,s=20,o=function(r,a){var i,l;return i=(l=r.interpolate(a,.5,t)).luminance(),Math.abs(e-i)<n||!s--?l:i>e?o(r,l):o(l,a)},a=r>e?o(I("black"),this).rgba():o(this,I("white")).rgba()),I(a).alpha(this.alpha())):me(this._rgb)},Pe=function(e){var t,r,n,s;return(s=e/100)<66?(n=255,r=-155.25485562709179-.44596950469579133*(r=s-2)+104.49216199393888*Y(r),t=s<20?0:.8274096064007395*(t=s-10)-254.76935184120902+115.67994401066147*Y(t)):(n=351.97690566805693+.114206453784165*(n=s-55)-40.25366309332127*Y(n),r=325.4494125711974+.07943456536662342*(r=s-50)-28.0852963507957*Y(r),t=255),[n,r,t]},he=function(){var e,t,r,n,s,a,o,i;for(s=(a=Se(arguments))[0],a[1],e=a[2],n=1e3,r=4e4,t=.4;r-n>t;)(o=Pe(i=.5*(r+n)))[2]/o[0]>=e/s?r=i:n=i;return ye(i)},I.temperature=I.kelvin=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["temperature"]),(function(){}))},m.temperature=m.kelvin=m.K=Pe,n.prototype.temperature=function(){return he(this._rgb)},n.prototype.kelvin=n.prototype.temperature,I.contrast=function(e,t){var r,s,a,o;return"string"!==(a=Ne(e))&&"number"!==a||(e=new n(e)),"string"!==(o=Ne(t))&&"number"!==o||(t=new n(t)),(r=e.luminance())>(s=t.luminance())?(r+.05)/(s+.05):(s+.05)/(r+.05)},I.distance=function(e,t,r){var s,a,o,i,l,u,c;for(a in null==r&&(r="lab"),"string"!==(l=Ne(e))&&"number"!==l||(e=new n(e)),"string"!==(u=Ne(t))&&"number"!==u||(t=new n(t)),o=e.get(r),i=t.get(r),c=0,o)c+=(s=(o[a]||0)-(i[a]||0))*s;return Math.sqrt(c)},I.deltaE=function(e,t,r,s){var a,i,l,u,c,d,f,m,p,b,v,y,M,_,I,P,N,E,V,w,T,O,k,x;for(null==r&&(r=1),null==s&&(s=1),"string"!==(I=Ne(e))&&"number"!==I||(e=new n(e)),"string"!==(P=Ne(t))&&"number"!==P||(t=new n(t)),a=(N=e.lab())[0],l=N[1],c=N[2],i=(E=t.lab())[0],u=E[1],d=E[2],f=Ie(l*l+c*c),m=Ie(u*u+d*d),w=a<16?.511:.040975*a/(1+.01765*a),V=.0638*f/(1+.0131*f)+.638,_=f<1e-6?0:180*g(c,l)/o;_<0;)_+=360;for(;_>=360;)_-=360;return T=_>=164&&_<=345?.56+h(.2*S(o*(_+168)/180)):.36+h(.4*S(o*(_+35)/180)),M=Ie((p=f*f*f*f)/(p+1900)),Ie((O=(a-i)/(r*w))*O+(k=(y=f-m)/(s*V))*k+((b=l-u)*b+(v=c-d)*v-y*y)/((x=V*(M*T+1-M))*x))},n.prototype.get=function(e){var t,r,n,s,a;return this,n=(s=e.split("."))[0],t=s[1],a=this[n](),t?(r=n.indexOf(t))>-1?a[r]:console.warn("unknown channel "+t+" in mode "+n):a},n.prototype.set=function(e,t){var r,n,s,a,o;if(this,s=(a=e.split("."))[0],r=a[1])if(o=this[s](),(n=s.indexOf(r))>-1)if("string"===Ne(t))switch(t.charAt(0)){case"+":case"-":o[n]+=+t;break;case"*":o[n]*=+t.substr(1);break;case"/":o[n]/=+t.substr(1);break;default:o[n]=+t}else o[n]=t;else console.warn("unknown channel "+r+" in mode "+s);else o=t;return I(o,s).alpha(this.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(e){return arguments.length?I.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},n.prototype.darken=function(e){var t;return null==e&&(e=1),this,(t=this.lab())[0]-=a.Kn*e,I.lab(t).alpha(this.alpha())},n.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(e){var t;return null==e&&(e=1),this,(t=this.lch())[1]+=e*a.Kn,t[1]<0&&(t[1]=0),I.lch(t).alpha(this.alpha())},n.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},n.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),I(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},V=function(e,t){return e>t?t:e},X=function(e,t){return e>t?e:t},Me=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},re=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},_=function(e,t){return 255*(1-(1-t/255)/(e/255))},w=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(v=function(e,t,r){if(!v[r])throw"unknown blend mode "+r;return v[r](e,t)}).normal=(y=function(e){return function(t,r){var n,s;return n=I(r).rgb(),s=I(t).rgb(),I(e(n,s),"rgb")}})((T=function(e){return function(t,r){var n,s,a;for(a=[],n=s=0;s<=3;n=++s)a[n]=e(t[n],r[n]);return a}})((function(e,t){return e}))),v.multiply=y(T(ee)),v.screen=y(T(Me)),v.overlay=y(T(re)),v.darken=y(T(V)),v.lighten=y(T(X)),v.dodge=y(T(w)),v.burn=y(T(_)),I.blend=v,I.analyze=function(e){var t,r,n,s;for(n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},r=0,t=e.length;r<t;r++)null==(s=e[r])||isNaN(s)||(n.values.push(s),n.sum+=s,s<n.min&&(n.min=s),s>n.max&&(n.max=s),n.count+=1);return n.domain=[n.min,n.max],n.limits=function(e,t){return I.limits(n,e,t)},n},I.scale=function(e,t){var r,n,s,a,o,i,l,u,c,d,f,m,p,h,g,b,v,y,M,_,P;return c="rgb",d=I("#ccc"),h=0,!1,o=[0,1],p=[],m=[0,0],r=!1,s=[],f=!1,u=0,l=1,a=!1,n={},g=!0,i=1,_=function(e){var t,r,n,a,o,i;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Ne(e)&&null!=I.brewer&&(e=I.brewer[e]||I.brewer[e.toLowerCase()]||e),"array"===Ne(e)){for(1===e.length&&(e=[e[0],e[0]]),t=n=0,a=(e=e.slice(0)).length-1;0<=a?n<=a:n>=a;t=0<=a?++n:--n)r=e[t],"string"===Ne(r)&&(e[t]=I(r));for(p.length=0,t=i=0,o=e.length-1;0<=o?i<=o:i>=o;t=0<=o?++i:--i)p.push(t/(e.length-1))}return M(),s=e},v=function(e){var t,n;if(null!=r){for(n=r.length-1,t=0;t<n&&e>=r[t];)t++;return t-1}return 0},P=function(e){return e},function(e){var t,n,s,a,o;return o=e,r.length>2&&(a=r.length-1,t=v(e),s=r[0]+(r[1]-r[0])*(0+.5*h),n=r[a-1]+(r[a]-r[a-1])*(1-.5*h),o=u+(r[t]+.5*(r[t+1]-r[t])-s)/(n-s)*(l-u)),o},y=function(e,t){var a,o,f,h,b,y,M;if(null==t&&(t=!1),isNaN(e)||null===e)return d;if(M=t?e:r&&r.length>2?v(e)/(r.length-2):l!==u?(e-u)/(l-u):1,t||(M=P(M)),1!==i&&(M=ne(M,i)),M=m[0]+M*(1-m[0]-m[1]),M=Math.min(1,Math.max(0,M)),f=Math.floor(1e4*M),g&&n[f])a=n[f];else{if("array"===Ne(s))for(o=h=0,y=p.length-1;0<=y?h<=y:h>=y;o=0<=y?++h:--h){if(M<=(b=p[o])){a=s[o];break}if(M>=b&&o===p.length-1){a=s[o];break}if(M>b&&M<p[o+1]){M=(M-b)/(p[o+1]-b),a=I.interpolate(s[o],s[o+1],M,c);break}}else"function"===Ne(s)&&(a=s(M));g&&(n[f]=a)}return a},M=function(){return n={}},_(e),(b=function(e){var t;return t=I(y(e)),f&&t[f]?t[f]():t}).classes=function(e){var t;return null!=e?("array"===Ne(e)?(r=e,o=[e[0],e[e.length-1]]):(t=I.analyze(o),r=0===e?[t.min,t.max]:I.limits(t,"e",e)),b):r},b.domain=function(e){var t,r,n,a,i,c,d;if(!arguments.length)return o;if(u=e[0],l=e[e.length-1],p=[],n=s.length,e.length===n&&u!==l)for(i=0,a=e.length;i<a;i++)r=e[i],p.push((r-u)/(l-u));else for(t=d=0,c=n-1;0<=c?d<=c:d>=c;t=0<=c?++d:--d)p.push(t/(n-1));return o=[u,l],b},b.mode=function(e){return arguments.length?(c=e,M(),b):c},b.range=function(e,t){return _(e),b},b.out=function(e){return f=e,b},b.spread=function(e){return arguments.length?(h=e,b):h},b.correctLightness=function(e){return null==e&&(e=!0),a=e,M(),P=a?function(e){var t,r,n,s,a,o,i,l,u;for(t=y(0,!0).lab()[0],r=y(1,!0).lab()[0],i=t>r,n=y(e,!0).lab()[0],s=n-(a=t+(r-t)*e),l=0,u=1,o=20;Math.abs(s)>.01&&o-- >0;)i&&(s*=-1),s<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),n=y(e,!0).lab()[0],s=n-a;return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===Ne(e)&&(e=[e,e]),m=e,b):m},b.colors=function(t,n){var a,i,l,u,c,d,f,m;if(arguments.length<2&&(n="hex"),c=[],0===arguments.length)c=s.slice(0);else if(1===t)c=[b(.5)];else if(t>1)i=o[0],a=o[1]-i,c=function(){d=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)d.push(e);return d}.apply(this).map((function(e){return b(i+e/(t-1)*a)}));else{if(e=[],f=[],r&&r.length>2)for(l=m=1,u=r.length;1<=u?m<u:m>u;l=1<=u?++m:--m)f.push(.5*(r[l-1]+r[l]));else f=o;c=f.map((function(e){return b(e)}))}return I[n]&&(c=c.map((function(e){return e[n]()}))),c},b.cache=function(e){return null!=e?(g=e,b):g},b.gamma=function(e){return null!=e?(i=e,b):i},b.nodata=function(e){return null!=e?(d=I(e),b):d},b},null==I.scales&&(I.scales={}),I.scales.cool=function(){return I.scale([I.hsl(180,1,.9),I.hsl(250,.7,.4)])},I.scales.hot=function(){return I.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},I.analyze=function(e,t,r){var n,s,a,o,i,l;if(i={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==r&&(r=function(){return!0}),n=function(e){null==e||isNaN(e)||(i.values.push(e),i.sum+=e,e<i.min&&(i.min=e),e>i.max&&(i.max=e),i.count+=1)},l=function(e,s){if(r(e,s))return null!=t&&"function"===Ne(t)?n(t(e)):null!=t&&"string"===Ne(t)||"number"===Ne(t)?n(e[t]):n(e)},"array"===Ne(e))for(o=0,a=e.length;o<a;o++)l(e[o]);else for(s in e)l(e[s],s);return i.domain=[i.min,i.max],i.limits=function(e,t){return I.limits(i,e,t)},i},I.limits=function(e,t,r){var n,s,a,o,i,l,u,c,d,f,m,p,g,b,v,y,M,_,P,N,S,E,V,w,T,k,x,R,A,C,D,j,F,B,L,U,q,z,H,W,G,$,X,K,J,Q,ee,te,re,se,ae,oe,ie,le,ue;if(null==t&&(t="equal"),null==r&&(r=7),"array"===Ne(e)&&(e=I.analyze(e)),T=e.min,Z=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===r)return[T,Z];if(V=[],"c"===t.substr(0,1)&&(V.push(T),V.push(Z)),"e"===t.substr(0,1)){for(V.push(T),N=D=1,L=r-1;1<=L?D<=L:D>=L;N=1<=L?++D:--D)V.push(T+N/r*(Z-T));V.push(Z)}else if("l"===t.substr(0,1)){if(T<=0)throw"Logarithmic scales are only possible for values > 0";for(k=Math.LOG10E*Y(T),w=Math.LOG10E*Y(Z),V.push(T),N=ue=1,U=r-1;1<=U?ue<=U:ue>=U;N=1<=U?++ue:--ue)V.push(ne(10,k+N/r*(w-k)));V.push(Z)}else if("q"===t.substr(0,1)){for(V.push(T),N=n=1,$=r-1;1<=$?n<=$:n>=$;N=1<=$?++n:--n)j=(le.length-1)*N/r,(F=O(j))===j?V.push(le[F]):(B=j-F,V.push(le[F]*(1-B)+le[F+1]*B));V.push(Z)}else if("k"===t.substr(0,1)){for(R=le.length,b=new Array(R),_=new Array(r),se=!0,A=0,y=null,(y=[]).push(T),N=s=1,X=r-1;1<=X?s<=X:s>=X;N=1<=X?++s:--s)y.push(T+N/r*(Z-T));for(y.push(Z);se;){for(S=a=0,K=r-1;0<=K?a<=K:a>=K;S=0<=K?++a:--a)_[S]=0;for(N=o=0,J=R-1;0<=J?o<=J:o>=J;N=0<=J?++o:--o){for(ie=le[N],x=Number.MAX_VALUE,S=i=0,Q=r-1;0<=Q?i<=Q:i>=Q;S=0<=Q?++i:--i)(P=h(y[S]-ie))<x&&(x=P,v=S);_[v]++,b[N]=v}for(C=new Array(r),S=l=0,ee=r-1;0<=ee?l<=ee:l>=ee;S=0<=ee?++l:--l)C[S]=null;for(N=u=0,te=R-1;0<=te?u<=te:u>=te;N=0<=te?++u:--u)null===C[M=b[N]]?C[M]=le[N]:C[M]+=le[N];for(S=c=0,re=r-1;0<=re?c<=re:c>=re;S=0<=re?++c:--c)C[S]*=1/_[S];for(se=!1,S=d=0,q=r-1;0<=q?d<=q:d>=q;S=0<=q?++d:--d)if(C[S]!==y[N]){se=!0;break}y=C,++A>200&&(se=!1)}for(E={},S=f=0,z=r-1;0<=z?f<=z:f>=z;S=0<=z?++f:--f)E[S]=[];for(N=m=0,H=R-1;0<=H?m<=H:m>=H;N=0<=H?++m:--m)E[M=b[N]].push(le[N]);for(ae=[],S=p=0,W=r-1;0<=W?p<=W:p>=W;S=0<=W?++p:--p)ae.push(E[S][0]),ae.push(E[S][E[S].length-1]);for(ae=ae.sort((function(e,t){return e-t})),V.push(ae[0]),N=g=1,G=ae.length-1;g<=G;N=g+=2)oe=ae[N],isNaN(oe)||-1!==V.indexOf(oe)||V.push(oe)}return V},R=function(e,t,r){var n,s,a,o;return e=(n=Se(arguments))[0],t=n[1],r=n[2],isNaN(e)&&(e=0),(e/=360)<1/3?a=1-((s=(1-t)/3)+(o=(1+t*S(u*e)/S(i-u*e))/3)):e<2/3?s=1-((o=(1-t)/3)+(a=(1+t*S(u*(e-=1/3))/S(i-u*e))/3)):o=1-((a=(1-t)/3)+(s=(1+t*S(u*(e-=2/3))/S(i-u*e))/3)),[255*(o=K(r*o*3)),255*(a=K(r*a*3)),255*(s=K(r*s*3)),n.length>3?n[3]:1]},le=function(){var e,t,r,n,s,a,o;return s=(a=Se(arguments))[0],t=a[1],e=a[2],u=2*Math.PI,s/=255,t/=255,e/=255,0===(o=1-Math.min(s,t,e)/(n=(s+t+e)/3))?r=0:(r=(s-t+(s-e))/2,r/=Math.sqrt((s-t)*(s-t)+(s-e)*(t-e)),r=Math.acos(r),e>t&&(r=u-r),r/=u),[360*r,o,n]},I.hsi=function(){return function(e,t,r){r.prototype=e.prototype;var n=new r,s=e.apply(n,t);return Object(s)===s?s:n}(n,Te.call(arguments).concat(["hsi"]),(function(){}))},m.hsi=R,n.prototype.hsi=function(){return le(this._rgb)},F=function(e,t,r,n){var s,a,o,i,l,u,c,d,f,m;return"hsl"===n?(f=e.hsl(),m=t.hsl()):"hsv"===n?(f=e.hsv(),m=t.hsv()):"hcg"===n?(f=e.hcg(),m=t.hcg()):"hsi"===n?(f=e.hsi(),m=t.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",f=e.hcl(),m=t.hcl()),"h"===n.substr(0,1)&&(a=f[0],c=f[1],i=f[2],o=m[0],d=m[1],l=m[2]),isNaN(a)||isNaN(o)?isNaN(a)?isNaN(o)?s=Number.NaN:(s=o,1!==i&&0!==i||"hsv"===n||(u=d)):(s=a,1!==l&&0!==l||"hsv"===n||(u=c)):s=a+r*(o>a&&o-a>180?o-(a+360):o<a&&a-o>180?o+360-a:o-a),null==u&&(u=c+r*(d-c)),I[n](s,u,i+r*(l-i))},U=function(e,t,r,n){var s,a;return s=e.num(),a=t.num(),I.num(s+(a-s)*r,"num")},(p=p.concat(function(){var e,t,r,n;for(n=[],t=0,e=(r=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)Q=r[t],n.push([Q,F]);return n}())).push(["num",U]),B=function(e,t,r,s){var a,o;return a=e.lab(),o=t.lab(),new n(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),s)},p.push(["lab",B])}).call(this)}).call(this,r(36)(e))},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcAAAAA3CAYAAACbxZpmAAAACXBIWXMAAAsSAAALEgHS3X78AAAClElEQVR42u3c7W2jMAAGYLdikq6QCW6ZssUpui2Y5jpAs8LtcBP4fkXq0SQYsB0MzyNValIgvLj0rd2PlxhjCCGEvr+ch+F0DiN9f/kZQvgzevptGE6/Rtt923/Gvlt6DXnllVdeeXeW99bHXwMAHJACBEABAoACBAAFCAAKEAAUIAAoQABQgACgAAFAAQKAAgQABQgAChAAFCAAKEAAUIAAoAABQAECgAIEAAUIgAIEAAUIAAoQAHarS9jmbwjh7cZzIeO+W3oNeeWVV15595f3uxhjiDGG9/fP8/X9W2/P/nitY9Q6F3nllVdeeZ+b1xIoAIekAAFQgACgAAFAAQKAAgQABQgAChAAFCAAbFdX4qB9f/l9fX8YTj/2fhHllVdeeeVtL2/3aKdbF2fq4t3bb87+Xx8v3SZ1oHOc75r9U/LUylvjem0pb0vjm/pFq4W8OTO7f43vmryLZoDXA04dfOn+Kcec2mbpuT0jb0qeWnnXZm0tbwvjmzPrVvLWzHyk+9f4zjvm66OTG7f4HqfGR8gpr7zyyitvphng9YRKrR/PnYaXXscunTd1Kl8jb42sW8p7tPHdSt69fU4b3zbHt0sJmHuKvWbqPPeCTl2clO8uSufNsYSSK2+NrFvK29L4ptzoreTNldn9a3zX5O3uTTvvPW7NvSn03nLKu/+8j5aDjK+88s6XfQl0HOjRckDJqXPOtePSeXNkzpV36lz3lreF8c39c5AjfT7LK++sP4MYbzD1eO7UN8dSQeoFn3MepX7bKUeeWnlLvM6W87Y0vnOPseW8Jc7D/Wt8l7yO/wQDwCG9xBi/TiXPLgkAO/cxDKeP/woQAI7CEigAChAAFCAAKEAAUIAAoAABQAECQCP+AX8PMLpfoKkaAAAAAElFTkSuQmCC"},function(e,t,r){r(71),e.exports=r(158)},function(e,t,r){"use strict";"undefined"==typeof Promise&&(r(72).enable(),window.Promise=r(74)),r(75),Object.assign=r(31)},function(e,t,r){"use strict";var n=r(44),s=[ReferenceError,TypeError,RangeError],a=!1;function o(){a=!1,n._47=null,n._71=null}function i(e,t){return t.some((function(t){return e instanceof t}))}t.disable=o,t.enable=function(e){e=e||{},a&&o();a=!0;var t=0,r=0,l={};function u(t){(e.allRejections||i(l[t].error,e.whitelist||s))&&(l[t].displayId=r++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(l[t].displayId,l[t].error)))}n._47=function(t){2===t._83&&l[t._56]&&(l[t._56].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._56):clearTimeout(l[t._56].timeout),delete l[t._56])},n._71=function(e,r){0===e._75&&(e._56=t++,l[e._56]={displayId:null,error:r,timeout:setTimeout(u.bind(null,e._56),i(r,s)?100:2e3),logged:!1})}}},function(e,t,r){"use strict";(function(t){function r(e){s.length||(n(),!0),s[s.length]=e}e.exports=r;var n,s=[],a=0;function o(){for(;a<s.length;){var e=a;if(a+=1,s[e].call(),a>1024){for(var t=0,r=s.length-a;t<r;t++)s[t]=s[t+a];s.length-=a,a=0}}s.length=0,a=0,!1}var i,l,u,c=void 0!==t?t:self,d=c.MutationObserver||c.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}"function"==typeof d?(i=1,l=new d(o),u=document.createTextNode(""),l.observe(u,{characterData:!0}),n=function(){i=-i,u.data=i}):n=f(o),r.requestFlush=n,r.makeRequestCallFromTimer=f}).call(this,r(15))},function(e,t,r){"use strict";var n=r(44);e.exports=n;var s=c(!0),a=c(!1),o=c(null),i=c(void 0),l=c(0),u=c("");function c(e){var t=new n(n._44);return t._83=1,t._18=e,t}n.resolve=function(e){if(e instanceof n)return e;if(null===e)return o;if(void 0===e)return i;if(!0===e)return s;if(!1===e)return a;if(0===e)return l;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new n(t.bind(e))}catch(e){return new n((function(t,r){r(e)}))}return c(e)},n.all=function(e){var t=Array.prototype.slice.call(e);return new n((function(e,r){if(0===t.length)return e([]);var s=t.length;function a(o,i){if(i&&("object"==typeof i||"function"==typeof i)){if(i instanceof n&&i.then===n.prototype.then){for(;3===i._83;)i=i._18;return 1===i._83?a(o,i._18):(2===i._83&&r(i._18),void i.then((function(e){a(o,e)}),r))}var l=i.then;if("function"==typeof l)return void new n(l.bind(i)).then((function(e){a(o,e)}),r)}t[o]=i,0==--s&&e(t)}for(var o=0;o<t.length;o++)a(o,t[o])}))},n.reject=function(e){return new n((function(t,r){r(e)}))},n.race=function(e){return new n((function(t,r){e.forEach((function(e){n.resolve(e).then(t,r)}))}))},n.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,a="ArrayBuffer"in e;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};p.prototype.append=function(e,t){e=d(e),t=f(t);var r=this.map[e];this.map[e]=r?r+","+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=f(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),m(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),m(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),m(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},y.call(M.prototype),y.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},I.error=function(){var e=new I(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];I.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new I(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=M,e.Response=I,e.fetch=function(e,t){return new Promise((function(r,s){var a=new M(e,t),o=new XMLHttpRequest;o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new p,e.split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var s=r.join(":").trim();t.append(n,s)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var s="response"in o?o.response:o.responseText;r(new I(s,n))},o.onerror=function(){s(new TypeError("Network request failed"))},o.ontimeout=function(){s(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&n&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),o.send(void 0===a._bodyInit?null:a._bodyInit)}))},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function m(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function b(e){var t=new FileReader,r=g(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(s&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(a&&n&&i(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!a||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=g(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function M(e,t){var r,n,s=(t=t||{}).body;if(e instanceof M){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),u.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),s=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(s))}})),t}function I(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,r){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(31),s="function"==typeof Symbol&&Symbol.for,a=s?Symbol.for("react.element"):60103,o=s?Symbol.for("react.portal"):60106,i=s?Symbol.for("react.fragment"):60107,l=s?Symbol.for("react.strict_mode"):60108,u=s?Symbol.for("react.profiler"):60114,c=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,f=s?Symbol.for("react.forward_ref"):60112,m=s?Symbol.for("react.suspense"):60113,p=s?Symbol.for("react.memo"):60115,h=s?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function M(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||v}function _(){}function I(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||v}M.prototype.isReactComponent={},M.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},M.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=M.prototype;var P=I.prototype=new _;P.constructor=I,n(P,M.prototype),P.isPureReactComponent=!0;var N={current:null},S=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function V(e,t,r){var n,s={},o=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,n)&&!E.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:a,type:e,key:o,ref:i,props:s,_owner:N.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var T=/\/+/g,O=[];function k(e,t,r,n){if(O.length){var s=O.pop();return s.result=e,s.keyPrefix=t,s.func=r,s.context=n,s.count=0,s}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function x(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function R(e,t,r){return null==e?0:function e(t,r,n,s){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var l=!1;if(null===t)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return n(s,t,""===r?"."+A(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+A(i=t[u],u);l+=e(i,c,n,s)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(i=t.next()).done;)l+=e(i=i.value,c=r+A(i,u++),n,s);else if("object"===i)throw n=""+t,Error(b(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function C(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,r){var n=e.result,s=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,n,r,(function(e){return e})):null!=e&&(w(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,s+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(T,"$&/")+"/")+r)),n.push(e))}function j(e,t,r,n,s){var a="";null!=r&&(a=(""+r).replace(T,"$&/")+"/"),R(e,D,t=k(t,a,n,s)),x(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(b(321));return e}var L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:N,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return j(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;R(e,C,t=k(null,null,t,r)),x(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!w(e))throw Error(b(143));return e}},t.Component=M,t.Fragment=i,t.Profiler=u,t.PureComponent=I,t.StrictMode=l,t.Suspense=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error(b(267,e));var s=n({},e.props),o=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}return{$$typeof:a,type:e.type,key:o,ref:i,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=V,t.createFactory=function(e){var t=V.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return B().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,r){return B().useReducer(e,t,r)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(0),s=r(31),a=r(78);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));function i(e,t,r,n,s,a,o,i,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0,u=e}};function m(e,t,r,n,s,a,o,c,d){l=!1,u=null,i.apply(f,arguments)}var p=null,h=null,g=null;function b(e,t,r){var n=e.type||"unknown-event";e.currentTarget=g(r),function(e,t,r,n,s,a,i,f,p){if(m.apply(this,arguments),l){if(!l)throw Error(o(198));var h=u;l=!1,u=null,c||(c=!0,d=h)}}(n,t,void 0,e),e.currentTarget=null}var v=null,y={};function M(){if(v)for(var e in y){var t=y[e],r=v.indexOf(e);if(!(-1<r))throw Error(o(96,e));if(!I[r]){if(!t.extractEvents)throw Error(o(97,e));for(var n in I[r]=t,r=t.eventTypes){var s=void 0,a=r[n],i=t,l=n;if(P.hasOwnProperty(l))throw Error(o(99,l));P[l]=a;var u=a.phasedRegistrationNames;if(u){for(s in u)u.hasOwnProperty(s)&&_(u[s],i,l);s=!0}else a.registrationName?(_(a.registrationName,i,l),s=!0):s=!1;if(!s)throw Error(o(98,n,e))}}}}function _(e,t,r){if(N[e])throw Error(o(100,e));N[e]=t,S[e]=t.eventTypes[r].dependencies}var I=[],P={},N={},S={};function E(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!y.hasOwnProperty(t)||y[t]!==n){if(y[t])throw Error(o(102,t));y[t]=n,r=!0}}r&&M()}var V=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),w=null,T=null,O=null;function k(e){if(e=h(e)){if("function"!=typeof w)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),w(e.stateNode,e.type,t))}}function x(e){T?O?O.push(e):O=[e]:T=e}function R(){if(T){var e=T,t=O;if(O=T=null,k(e),t)for(e=0;e<t.length;e++)k(t[e])}}function A(e,t){return e(t)}function C(e,t,r,n,s){return e(t,r,n,s)}function D(){}var j=A,F=!1,B=!1;function L(){null===T&&null===O||(D(),R())}function U(e,t,r){if(B)return e(t,r);B=!0;try{return j(e,t,r)}finally{B=!1,L()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,H={},W={};function G(e,t,r,n,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,K);$[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,K);$[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,K);$[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,r,n){var s=$.hasOwnProperty(t)?$[t]:null;(null!==s?0===s.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,n)&&(r=null),n||null===s?function(e){return!!z.call(W,e)||!z.call(H,e)&&(q.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,n=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,re=Z?Symbol.for("react.fragment"):60107,ne=Z?Symbol.for("react.strict_mode"):60108,se=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ie=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,fe=Z?Symbol.for("react.lazy"):60116,me=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function he(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case se:return"Profiler";case ne:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case me:return ge(e.render);case fe:if(e=1===e._status?e._result:null)return ge(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,s=e._debugSource,a=ge(e.type);r=null,n&&(r=ge(n.type)),n=a,a="",s?a=" (at "+s.fileName.replace(Q,"")+":"+s.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Me(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ye(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Ie(e,t){var r=t.checked;return s({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Pe(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ve(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ne(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Se(e,t){Ne(e,t);var r=ve(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ve(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ve(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Ve(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function we(e,t){return e=s({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Te(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ve(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return s({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ke(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ve(r)}}function xe(e,t){var r=ve(t.value),n=ve(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Ce="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Ce||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Le(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ue(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qe={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},ze={},He={};function We(e){if(ze[e])return ze[e];if(!qe[e])return e;var t,r=qe[e];for(t in r)if(r.hasOwnProperty(t)&&t in He)return ze[e]=r[t];return e}V&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=We("animationend"),$e=We("animationiteration"),Xe=We("animationstart"),Ke=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"==typeof WeakMap?WeakMap:Map);function Qe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(o(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(n=s.return)){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return tt(s),e;if(a===n)return tt(s),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function st(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)b(e,t[n],r[n]);else t&&b(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function it(e){if(null!==e&&(at=nt(at,e)),e=at,at=null,e){if(st(e,ot),at)throw Error(o(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!V)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ft(e,t,r,n){if(ct.length){var s=ct.pop();return s.topLevelType=e,s.eventSystemFlags=n,s.nativeEvent=t,s.targetInst=r,s}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function mt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Er(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var s=lt(e.nativeEvent);n=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===r&&(o|=64);for(var i=null,l=0;l<I.length;l++){var u=I[l];u&&(u=u.extractEvents(n,t,a,s,o))&&(i=nt(i,u))}it(i)}}function pt(e,t,r){if(!r.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}r.set(e,null)}}var ht,gt,bt,vt=!1,yt=[],Mt=null,_t=null,It=null,Pt=new Map,Nt=new Map,St=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Vt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function wt(e,t,r,n,s){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:s,container:n}}function Tt(e,t){switch(e){case"focus":case"blur":Mt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ot(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e=wt(t,r,n,s,a),null!==t&&(null!==(t=Vr(t))&&gt(t)),e):(e.eventSystemFlags|=n,e)}function kt(e){var t=Er(e.target);if(null!==t){var r=Ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){bt(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Vr(t);return null!==r&&gt(r),e.blockedOn=t,!1}return!0}function Rt(e,t,r){xt(e)&&r.delete(t)}function At(){for(vt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Vr(e.blockedOn))&&ht(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==Mt&&xt(Mt)&&(Mt=null),null!==_t&&xt(_t)&&(_t=null),null!==It&&xt(It)&&(It=null),Pt.forEach(Rt),Nt.forEach(Rt)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,At)))}function Dt(e){function t(t){return Ct(t,e)}if(0<yt.length){Ct(yt[0],e);for(var r=1;r<yt.length;r++){var n=yt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Mt&&Ct(Mt,e),null!==_t&&Ct(_t,e),null!==It&&Ct(It,e),Pt.forEach(t),Nt.forEach(t),r=0;r<St.length;r++)(n=St[r]).blockedOn===e&&(n.blockedOn=null);for(;0<St.length&&null===(r=St[0]).blockedOn;)kt(r),null===r.blockedOn&&St.shift()}var jt={},Ft=new Map,Bt=new Map,Lt=["abort","abort",Ge,"animationEnd",$e,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],s=e[r+1],a="on"+(s[0].toUpperCase()+s.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[n],eventPriority:t},Bt.set(n,t),Ft.set(n,a),jt[s]=a}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Lt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<qt.length;zt++)Bt.set(qt[zt],0);var Ht=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Gt=!0;function $t(e,t){Xt(t,e,!1)}function Xt(e,t,r){var n=Bt.get(t);switch(void 0===n?2:n){case 0:n=Kt.bind(null,t,1,e);break;case 1:n=Yt.bind(null,t,1,e);break;default:n=Jt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Kt(e,t,r,n){F||D();var s=Jt,a=F;F=!0;try{C(s,e,t,r,n)}finally{(F=a)||L()}}function Yt(e,t,r,n){Wt(Ht,Jt.bind(null,e,t,r,n))}function Jt(e,t,r,n){if(Gt)if(0<yt.length&&-1<Et.indexOf(e))e=wt(null,e,t,r,n),yt.push(e);else{var s=Qt(e,t,r,n);if(null===s)Tt(e,n);else if(-1<Et.indexOf(e))e=wt(s,e,t,r,n),yt.push(e);else if(!function(e,t,r,n,s){switch(t){case"focus":return Mt=Ot(Mt,e,t,r,n,s),!0;case"dragenter":return _t=Ot(_t,e,t,r,n,s),!0;case"mouseover":return It=Ot(It,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Pt.set(a,Ot(Pt.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Nt.set(a,Ot(Nt.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n)){Tt(e,n),e=ft(e,n,null,t);try{U(mt,e)}finally{dt(e)}}}}function Qt(e,t,r,n){if(null!==(r=Er(r=lt(n)))){var s=Ze(r);if(null===s)r=null;else{var a=s.tag;if(13===a){if(null!==(r=et(s)))return r;r=null}else if(3===a){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}e=ft(e,n,r,t);try{U(mt,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),s=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}Object.keys(Zt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var nr=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sr(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62,""))}}function ar(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var or=Ae;function ir(e,t){var r=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var n=0;n<t.length;n++)pt(t[n],e,r)}function lr(){}function ur(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var r,n=cr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cr(n)}}function fr(){for(var e=window,t=ur();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=ur((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=null,hr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vr="function"==typeof setTimeout?setTimeout:void 0,yr="function"==typeof clearTimeout?clearTimeout:void 0;function Mr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function _r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),Pr="__reactInternalInstance$"+Ir,Nr="__reactEventHandlers$"+Ir,Sr="__reactContainere$"+Ir;function Er(e){var t=e[Pr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sr]||r[Pr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=_r(e);null!==e;){if(r=e[Pr])return r;e=_r(e)}return t}r=(e=r).parentNode}return null}function Vr(e){return!(e=e[Pr]||e[Sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Tr(e){return e[Nr]||null}function Or(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function kr(e,t){var r=e.stateNode;if(!r)return null;var n=p(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(o(231,t,typeof r));return r}function xr(e,t,r){(t=kr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Rr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Or(t);for(t=r.length;0<t--;)xr(r[t],"captured",e);for(t=0;t<r.length;t++)xr(r[t],"bubbled",e)}}function Ar(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=kr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Cr(e){e&&e.dispatchConfig.registrationName&&Ar(e._targetInst,null,e)}function Dr(e){st(e,Rr)}var jr=null,Fr=null,Br=null;function Lr(){if(Br)return Br;var e,t,r=Fr,n=r.length,s="value"in jr?jr.value:jr.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===s[a-t];t++);return Br=s.slice(e,1<t?1-t:void 0)}function Ur(){return!0}function qr(){return!1}function zr(e,t,r,n){for(var s in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(s)&&((t=e[s])?this[s]=t(r):"target"===s?this.target=n:this[s]=r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Ur:qr,this.isPropagationStopped=qr,this}function Hr(e,t,r,n){if(this.eventPool.length){var s=this.eventPool.pop();return this.call(s,e,t,r,n),s}return new this(e,t,r,n)}function Wr(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gr(e){e.eventPool=[],e.getPooled=Hr,e.release=Wr}s(zr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){this.isPersistent=Ur},isPersistent:qr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qr,this._dispatchInstances=this._dispatchListeners=null}}),zr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},zr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;return s(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=s({},n.Interface,e),r.extend=n.extend,Gr(r),r},Gr(zr);var $r=zr.extend({data:null}),Xr=zr.extend({data:null}),Kr=[9,13,27,32],Yr=V&&"CompositionEvent"in window,Jr=null;V&&"documentMode"in document&&(Jr=document.documentMode);var Qr=V&&"TextEvent"in window&&!Jr,Zr=V&&(!Yr||Jr&&8<Jr&&11>=Jr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==Kr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function sn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var an=!1;var on={eventTypes:tn,extractEvents:function(e,t,r,n){var s;if(Yr)e:{switch(e){case"compositionstart":var a=tn.compositionStart;break e;case"compositionend":a=tn.compositionEnd;break e;case"compositionupdate":a=tn.compositionUpdate;break e}a=void 0}else an?nn(e,r)&&(a=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(a=tn.compositionStart);return a?(Zr&&"ko"!==r.locale&&(an||a!==tn.compositionStart?a===tn.compositionEnd&&an&&(s=Lr()):(Fr="value"in(jr=n)?jr.value:jr.textContent,an=!0)),a=$r.getPooled(a,t,r,n),s?a.data=s:null!==(s=sn(r))&&(a.data=s),Dr(a),s=a):s=null,(e=Qr?function(e,t){switch(e){case"compositionend":return sn(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(an)return"compositionend"===e||!Yr&&nn(e,t)?(e=Lr(),Br=Fr=jr=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Xr.getPooled(tn.beforeInput,t,r,n)).data=e,Dr(t)):t=null,null===s?t:null===t?s:[s,t]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}var cn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dn(e,t,r){return(e=zr.getPooled(cn.change,e,t,r)).type="change",x(r),Dr(e),e}var fn=null,mn=null;function pn(e){it(e)}function hn(e){if(_e(wr(e)))return e}function gn(e,t){if("change"===e)return t}var bn=!1;function vn(){fn&&(fn.detachEvent("onpropertychange",yn),mn=fn=null)}function yn(e){if("value"===e.propertyName&&hn(mn))if(e=dn(mn,e,lt(e)),F)it(e);else{F=!0;try{A(pn,e)}finally{F=!1,L()}}}function Mn(e,t,r){"focus"===e?(vn(),mn=r,(fn=t).attachEvent("onpropertychange",yn)):"blur"===e&&vn()}function _n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return hn(mn)}function In(e,t){if("click"===e)return hn(t)}function Pn(e,t){if("input"===e||"change"===e)return hn(t)}V&&(bn=ut("input")&&(!document.documentMode||9<document.documentMode));var Nn={eventTypes:cn,_isInputEventSupported:bn,extractEvents:function(e,t,r,n){var s=t?wr(t):window,a=s.nodeName&&s.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===s.type)var o=gn;else if(un(s))if(bn)o=Pn;else{o=_n;var i=Mn}else(a=s.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(o=In);if(o&&(o=o(e,t)))return dn(o,r,n);i&&i(e,s,t),"blur"===e&&(e=s._wrapperState)&&e.controlled&&"number"===s.type&&Ve(s,"number",s.value)}},Sn=zr.extend({view:null,detail:null}),En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function wn(){return Vn}var Tn=0,On=0,kn=!1,xn=!1,Rn=Sn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:wn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Tn;return Tn=e.screenX,kn?"mousemove"===e.type?e.screenX-t:0:(kn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=On;return On=e.screenY,xn?"mousemove"===e.type?e.screenY-t:0:(xn=!0,0)}}),An=Rn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Cn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dn={eventTypes:Cn,extractEvents:function(e,t,r,n,s){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0==(32&s)&&(r.relatedTarget||r.fromElement)||!o&&!a)return null;(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=r.relatedTarget||r.toElement)?Er(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var i=Rn,l=Cn.mouseLeave,u=Cn.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(i=An,l=Cn.pointerLeave,u=Cn.pointerEnter,c="pointer");if(e=null==o?a:wr(o),a=null==t?a:wr(t),(l=i.getPooled(l,o,r,n)).type=c+"leave",l.target=e,l.relatedTarget=a,(r=i.getPooled(u,t,r,n)).type=c+"enter",r.target=a,r.relatedTarget=e,c=t,(n=o)&&c)e:{for(u=c,o=0,e=i=n;e;e=Or(e))o++;for(e=0,t=u;t;t=Or(t))e++;for(;0<o-e;)i=Or(i),o--;for(;0<e-o;)u=Or(u),e--;for(;o--;){if(i===u||i===u.alternate)break e;i=Or(i),u=Or(u)}i=null}else i=null;for(u=i,i=[];n&&n!==u&&(null===(o=n.alternate)||o!==u);)i.push(n),n=Or(n);for(n=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)n.push(c),c=Or(c);for(c=0;c<i.length;c++)Ar(i[c],"bubbled",l);for(c=n.length;0<c--;)Ar(n[c],"captured",r);return 0==(64&s)?[l]:[l,r]}};var jn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fn=Object.prototype.hasOwnProperty;function Bn(e,t){if(jn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Fn.call(t,r[n])||!jn(e[r[n]],t[r[n]]))return!1;return!0}var Ln=V&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,zn=null,Hn=null,Wn=!1;function Gn(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==qn||qn!==ur(r)?null:("selectionStart"in(r=qn)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Hn&&Bn(Hn,r)?null:(Hn=r,(e=zr.getPooled(Un.select,zn,e,t)).type="select",e.target=qn,Dr(e),e))}var $n={eventTypes:Un,extractEvents:function(e,t,r,n,s,a){if(!(a=!(s=a||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{s=Qe(s),a=S.onSelect;for(var o=0;o<a.length;o++)if(!s.has(a[o])){s=!1;break e}s=!0}a=!s}if(a)return null;switch(s=t?wr(t):window,e){case"focus":(un(s)||"true"===s.contentEditable)&&(qn=s,zn=t,Hn=null);break;case"blur":Hn=zn=qn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Gn(r,n);case"selectionchange":if(Ln)break;case"keydown":case"keyup":return Gn(r,n)}return null}},Xn=zr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kn=zr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=Sn.extend({relatedTarget:null});function Jn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},es=Sn.extend({key:function(e){if(e.key){var t=Qn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:wn,charCode:function(e){return"keypress"===e.type?Jn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ts=Rn.extend({dataTransfer:null}),rs=Sn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:wn}),ns=zr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ss=Rn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),as={eventTypes:jt,extractEvents:function(e,t,r,n){var s=Ft.get(e);if(!s)return null;switch(e){case"keypress":if(0===Jn(r))return null;case"keydown":case"keyup":e=es;break;case"blur":case"focus":e=Yn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rs;break;case Ge:case $e:case Xe:e=Xn;break;case Ke:e=ns;break;case"scroll":e=Sn;break;case"wheel":e=ss;break;case"copy":case"cut":case"paste":e=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=An;break;default:e=zr}return Dr(t=e.getPooled(s,t,r,n)),t}};if(v)throw Error(o(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),M(),p=Tr,h=Vr,g=wr,E({SimpleEventPlugin:as,EnterLeaveEventPlugin:Dn,ChangeEventPlugin:Nn,SelectEventPlugin:$n,BeforeInputEventPlugin:on});var os=[],is=-1;function ls(e){0>is||(e.current=os[is],os[is]=null,is--)}function us(e,t){is++,os[is]=e.current,e.current=t}var cs={},ds={current:cs},fs={current:!1},ms=cs;function ps(e,t){var r=e.type.contextTypes;if(!r)return cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in r)a[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hs(e){return null!=(e=e.childContextTypes)}function gs(){ls(fs),ls(ds)}function bs(e,t,r){if(ds.current!==cs)throw Error(o(168));us(ds,t),us(fs,r)}function vs(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,ge(t)||"Unknown",a));return s({},r,{},n)}function ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,ms=ds.current,us(ds,e),us(fs,fs.current),!0}function Ms(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=vs(e,t,ms),n.__reactInternalMemoizedMergedChildContext=e,ls(fs),ls(ds),us(ds,e)):ls(fs),us(fs,r)}var _s=a.unstable_runWithPriority,Is=a.unstable_scheduleCallback,Ps=a.unstable_cancelCallback,Ns=a.unstable_requestPaint,Ss=a.unstable_now,Es=a.unstable_getCurrentPriorityLevel,Vs=a.unstable_ImmediatePriority,ws=a.unstable_UserBlockingPriority,Ts=a.unstable_NormalPriority,Os=a.unstable_LowPriority,ks=a.unstable_IdlePriority,xs={},Rs=a.unstable_shouldYield,As=void 0!==Ns?Ns:function(){},Cs=null,Ds=null,js=!1,Fs=Ss(),Bs=1e4>Fs?Ss:function(){return Ss()-Fs};function Ls(){switch(Es()){case Vs:return 99;case ws:return 98;case Ts:return 97;case Os:return 96;case ks:return 95;default:throw Error(o(332))}}function Us(e){switch(e){case 99:return Vs;case 98:return ws;case 97:return Ts;case 96:return Os;case 95:return ks;default:throw Error(o(332))}}function qs(e,t){return e=Us(e),_s(e,t)}function zs(e,t,r){return e=Us(e),Is(e,t,r)}function Hs(e){return null===Cs?(Cs=[e],Ds=Is(Vs,Gs)):Cs.push(e),xs}function Ws(){if(null!==Ds){var e=Ds;Ds=null,Ps(e)}Gs()}function Gs(){if(!js&&null!==Cs){js=!0;var e=0;try{var t=Cs;qs(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Cs=null}catch(t){throw null!==Cs&&(Cs=Cs.slice(e+1)),Is(Vs,Ws),t}finally{js=!1}}}function $s(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Xs(e,t){if(e&&e.defaultProps)for(var r in t=s({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Ks={current:null},Ys=null,Js=null,Qs=null;function Zs(){Qs=Js=Ys=null}function ea(e){var t=Ks.current;ls(Ks),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ra(e,t){Ys=e,Qs=Js=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Oo=!0),e.firstContext=null)}function na(e,t){if(Qs!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qs=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Js){if(null===Ys)throw Error(o(308));Js=t,Ys.dependencies={expirationTime:0,firstContext:t,responders:null}}else Js=Js.next=t;return e._currentValue}var sa=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ia(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function la(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ua(e,t){var r=e.alternate;null!==r&&oa(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function ca(e,t,r,n){var a=e.updateQueue;sa=!1;var o=a.baseQueue,i=a.shared.pending;if(null!==i){if(null!==o){var l=o.next;o.next=i.next,i.next=l}o=i,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=i))}if(null!==o){l=o.next;var u=a.baseState,c=0,d=null,f=null,m=null;if(null!==l)for(var p=l;;){if((i=p.expirationTime)<n){var h={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===m?(f=m=h,d=u):m=m.next=h,i>c&&(c=i)}else{null!==m&&(m=m.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),al(i,p.suspenseConfig);e:{var g=e,b=p;switch(i=t,h=r,b.tag){case 1:if("function"==typeof(g=b.payload)){u=g.call(h,u,i);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(i="function"==typeof(g=b.payload)?g.call(h,u,i):g))break e;u=s({},u,i);break e;case 2:sa=!0}}null!==p.callback&&(e.effectTag|=32,null===(i=a.effects)?a.effects=[p]:i.push(p))}if(null===(p=p.next)||p===l){if(null===(i=a.shared.pending))break;p=o.next=i.next,i.next=l,a.baseQueue=o=i,a.shared.pending=null}}null===m?d=u:m.next=f,a.baseState=d,a.baseQueue=m,ol(c),e.expirationTime=c,e.memoizedState=u}}function da(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=s,s=r,"function"!=typeof n)throw Error(o(191,n));n.call(s)}}}var fa=Y.ReactCurrentBatchConfig,ma=(new n.Component).refs;function pa(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:s({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var ha={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Gi(),s=fa.suspense;(s=ia(n=$i(n,e,s),s)).payload=t,null!=r&&(s.callback=r),la(e,s),Xi(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Gi(),s=fa.suspense;(s=ia(n=$i(n,e,s),s)).tag=1,s.payload=t,null!=r&&(s.callback=r),la(e,s),Xi(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Gi(),n=fa.suspense;(n=ia(r=$i(r,e,n),n)).tag=2,null!=t&&(n.callback=t),la(e,n),Xi(e,r)}};function ga(e,t,r,n,s,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Bn(r,n)||!Bn(s,a))}function ba(e,t,r){var n=!1,s=cs,a=t.contextType;return"object"==typeof a&&null!==a?a=na(a):(s=hs(t)?ms:ds.current,a=(n=null!=(n=t.contextTypes))?ps(e,s):cs),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ya(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=ma,aa(e);var a=t.contextType;"object"==typeof a&&null!==a?s.context=na(a):(a=hs(t)?ms:ds.current,s.context=ps(e,a)),ca(e,r,s,n),s.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(pa(e,t,a,r),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ha.enqueueReplaceState(s,s.state,null),ca(e,r,s,n),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.effectTag|=4)}var Ma=Array.isArray;function _a(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=n.refs;t===ma&&(t=n.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Pa(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=El(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function i(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Tl(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=s(t,r.props)).ref=_a(e,t,r),n.return=e,n):((n=Vl(r.type,r.key,r.props,null,e.mode,n)).ref=_a(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ol(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=wl(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Tl(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Vl(t.type,t.key,t.props,null,e.mode,r)).ref=_a(e,null,t),r.return=e,r;case te:return(t=Ol(t,e.mode,r)).return=e,t}if(Ma(t)||he(t))return(t=wl(t,e.mode,r,null)).return=e,t;Ia(e,t)}return null}function m(e,t,r,n){var s=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==s?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===s?r.type===re?d(e,t,r.props.children,n,s):u(e,t,r,n):null;case te:return r.key===s?c(e,t,r,n):null}if(Ma(r)||he(r))return null!==s?null:d(e,t,r,n,null);Ia(e,r)}return null}function p(e,t,r,n,s){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?d(t,e,n.props.children,s,n.key):u(t,e,n,s);case te:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s)}if(Ma(n)||he(n))return d(t,e=e.get(r)||null,n,s,null);Ia(t,n)}return null}function h(s,o,i,l){for(var u=null,c=null,d=o,h=o=0,g=null;null!==d&&h<i.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var b=m(s,d,i[h],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(s,d),o=a(b,o,h),null===c?u=b:c.sibling=b,c=b,d=g}if(h===i.length)return r(s,d),u;if(null===d){for(;h<i.length;h++)null!==(d=f(s,i[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return u}for(d=n(s,d);h<i.length;h++)null!==(g=p(d,s,h,i[h],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),o=a(g,o,h),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(s,e)})),u}function g(s,i,l,u){var c=he(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,h=i,g=i=0,b=null,v=l.next();null!==h&&!v.done;g++,v=l.next()){h.index>g?(b=h,h=null):b=h.sibling;var y=m(s,h,v.value,u);if(null===y){null===h&&(h=b);break}e&&h&&null===y.alternate&&t(s,h),i=a(y,i,g),null===d?c=y:d.sibling=y,d=y,h=b}if(v.done)return r(s,h),c;if(null===h){for(;!v.done;g++,v=l.next())null!==(v=f(s,v.value,u))&&(i=a(v,i,g),null===d?c=v:d.sibling=v,d=v);return c}for(h=n(s,h);!v.done;g++,v=l.next())null!==(v=p(h,s,g,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),i=a(v,i,g),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach((function(e){return t(s,e)})),c}return function(e,n,a,l){var u="object"==typeof a&&null!==a&&a.type===re&&null===a.key;u&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,u=n;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===re){r(e,u.sibling),(n=s(u,a.props.children)).return=e,e=n;break e}break;default:if(u.elementType===a.type){r(e,u.sibling),(n=s(u,a.props)).ref=_a(e,u,a),n.return=e,e=n;break e}}r(e,u);break}t(e,u),u=u.sibling}a.type===re?((n=wl(a.props.children,e.mode,l,a.key)).return=e,e=n):((l=Vl(a.type,a.key,a.props,null,e.mode,l)).ref=_a(e,n,a),l.return=e,e=l)}return i(e);case te:e:{for(u=a.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=s(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Ol(a,e.mode,l)).return=e,e=n}return i(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=s(n,a)).return=e,e=n):(r(e,n),(n=Tl(a,e.mode,l)).return=e,e=n),i(e);if(Ma(a))return h(e,n,a,l);if(he(a))return g(e,n,a,l);if(c&&Ia(e,a),void 0===a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Na=Pa(!0),Sa=Pa(!1),Ea={},Va={current:Ea},wa={current:Ea},Ta={current:Ea};function Oa(e){if(e===Ea)throw Error(o(174));return e}function ka(e,t){switch(us(Ta,t),us(wa,e),us(Va,Ea),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ls(Va),us(Va,t)}function xa(){ls(Va),ls(wa),ls(Ta)}function Ra(e){Oa(Ta.current);var t=Oa(Va.current),r=je(t,e.type);t!==r&&(us(wa,e),us(Va,r))}function Aa(e){wa.current===e&&(ls(Va),ls(wa))}var Ca={current:0};function Da(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ja(e,t){return{responder:e,props:t}}var Fa=Y.ReactCurrentDispatcher,Ba=Y.ReactCurrentBatchConfig,La=0,Ua=null,qa=null,za=null,Ha=!1;function Wa(){throw Error(o(321))}function Ga(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jn(e[r],t[r]))return!1;return!0}function $a(e,t,r,n,s,a){if(La=a,Ua=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fa.current=null===e||null===e.memoizedState?bo:vo,e=r(n,s),t.expirationTime===La){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,za=qa=null,t.updateQueue=null,Fa.current=yo,e=r(n,s)}while(t.expirationTime===La)}if(Fa.current=go,t=null!==qa&&null!==qa.next,La=0,za=qa=Ua=null,Ha=!1,t)throw Error(o(300));return e}function Xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===za?Ua.memoizedState=za=e:za=za.next=e,za}function Ka(){if(null===qa){var e=Ua.alternate;e=null!==e?e.memoizedState:null}else e=qa.next;var t=null===za?Ua.memoizedState:za.next;if(null!==t)za=t,qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(qa=e).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===za?Ua.memoizedState=za=e:za=za.next=e}return za}function Ya(e,t){return"function"==typeof t?t(e):t}function Ja(e){var t=Ka(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=qa,s=n.baseQueue,a=r.pending;if(null!==a){if(null!==s){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(null!==s){s=s.next,n=n.baseState;var l=i=a=null,u=s;do{var c=u.expirationTime;if(c<La){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(i=l=d,a=n):l=l.next=d,c>Ua.expirationTime&&(Ua.expirationTime=c,ol(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),al(c,u.suspenseConfig),n=u.eagerReducer===e?u.eagerState:e(n,u.action);u=u.next}while(null!==u&&u!==s);null===l?a=n:l.next=i,jn(n,t.memoizedState)||(Oo=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qa(e){var t=Ka(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(null!==s){r.pending=null;var i=s=s.next;do{a=e(a,i.action),i=i.next}while(i!==s);jn(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Za(e){var t=Xa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e}).dispatch=ho.bind(null,Ua,e),[t.memoizedState,e]}function eo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Ua.updateQueue)?(t={lastEffect:null},Ua.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function to(){return Ka().memoizedState}function ro(e,t,r,n){var s=Xa();Ua.effectTag|=e,s.memoizedState=eo(1|t,r,void 0,void 0===n?null:n)}function no(e,t,r,n){var s=Ka();n=void 0===n?null:n;var a=void 0;if(null!==qa){var o=qa.memoizedState;if(a=o.destroy,null!==n&&Ga(n,o.deps))return void eo(t,r,a,n)}Ua.effectTag|=e,s.memoizedState=eo(1|t,r,a,n)}function so(e,t){return ro(516,4,e,t)}function ao(e,t){return no(516,4,e,t)}function oo(e,t){return no(4,2,e,t)}function io(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function lo(e,t,r){return r=null!=r?r.concat([e]):null,no(4,2,io.bind(null,t,e),r)}function uo(){}function co(e,t){return Xa().memoizedState=[e,void 0===t?null:t],e}function fo(e,t){var r=Ka();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ga(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mo(e,t){var r=Ka();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Ga(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function po(e,t,r){var n=Ls();qs(98>n?98:n,(function(){e(!0)})),qs(97<n?97:n,(function(){var n=Ba.suspense;Ba.suspense=void 0===t?null:t;try{e(!1),r()}finally{Ba.suspense=n}}))}function ho(e,t,r){var n=Gi(),s=fa.suspense;s={expirationTime:n=$i(n,e,s),suspenseConfig:s,action:r,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?s.next=s:(s.next=a.next,a.next=s),t.pending=s,a=e.alternate,e===Ua||null!==a&&a===Ua)Ha=!0,s.expirationTime=La,Ua.expirationTime=La;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,r);if(s.eagerReducer=a,s.eagerState=i,jn(i,o))return}catch(e){}Xi(e,n)}}var go={readContext:na,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useResponder:Wa,useDeferredValue:Wa,useTransition:Wa},bo={readContext:na,useCallback:co,useContext:na,useEffect:so,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ro(4,2,io.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var r=Xa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ho.bind(null,Ua,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Xa().memoizedState=e},useState:Za,useDebugValue:uo,useResponder:ja,useDeferredValue:function(e,t){var r=Za(e),n=r[0],s=r[1];return so((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{s(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Za(!1),r=t[0];return t=t[1],[co(po.bind(null,t,e),[t,e]),r]}},vo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:mo,useReducer:Ja,useRef:to,useState:function(){return Ja(Ya)},useDebugValue:uo,useResponder:ja,useDeferredValue:function(e,t){var r=Ja(Ya),n=r[0],s=r[1];return ao((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{s(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Ja(Ya),r=t[0];return t=t[1],[fo(po.bind(null,t,e),[t,e]),r]}},yo={readContext:na,useCallback:fo,useContext:na,useEffect:ao,useImperativeHandle:lo,useLayoutEffect:oo,useMemo:mo,useReducer:Qa,useRef:to,useState:function(){return Qa(Ya)},useDebugValue:uo,useResponder:ja,useDeferredValue:function(e,t){var r=Qa(Ya),n=r[0],s=r[1];return ao((function(){var r=Ba.suspense;Ba.suspense=void 0===t?null:t;try{s(e)}finally{Ba.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qa(Ya),r=t[0];return t=t[1],[fo(po.bind(null,t,e),[t,e]),r]}},Mo=null,_o=null,Io=!1;function Po(e,t){var r=Nl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function No(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function So(e){if(Io){var t=_o;if(t){var r=t;if(!No(e,t)){if(!(t=Mr(r.nextSibling))||!No(e,t))return e.effectTag=-1025&e.effectTag|2,Io=!1,void(Mo=e);Po(Mo,r)}Mo=e,_o=Mr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Io=!1,Mo=e}}function Eo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Vo(e){if(e!==Mo)return!1;if(!Io)return Eo(e),Io=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!br(t,e.memoizedProps))for(t=_o;t;)Po(e,t),t=Mr(t.nextSibling);if(Eo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){_o=Mr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}_o=null}}else _o=Mo?Mr(e.stateNode.nextSibling):null;return!0}function wo(){_o=Mo=null,Io=!1}var To=Y.ReactCurrentOwner,Oo=!1;function ko(e,t,r,n){t.child=null===e?Sa(t,null,r,n):Na(t,e.child,r,n)}function xo(e,t,r,n,s){r=r.render;var a=t.ref;return ra(t,s),n=$a(e,t,r,n,a,s),null===e||Oo?(t.effectTag|=1,ko(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=s&&(e.expirationTime=0),Xo(e,t,s))}function Ro(e,t,r,n,s,a){if(null===e){var o=r.type;return"function"!=typeof o||Sl(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Vl(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ao(e,t,o,n,s,a))}return o=e.child,s<a&&(s=o.memoizedProps,(r=null!==(r=r.compare)?r:Bn)(s,n)&&e.ref===t.ref)?Xo(e,t,a):(t.effectTag|=1,(e=El(o,n)).ref=t.ref,e.return=t,t.child=e)}function Ao(e,t,r,n,s,a){return null!==e&&Bn(e.memoizedProps,n)&&e.ref===t.ref&&(Oo=!1,s<a)?(t.expirationTime=e.expirationTime,Xo(e,t,a)):Do(e,t,r,n,a)}function Co(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Do(e,t,r,n,s){var a=hs(r)?ms:ds.current;return a=ps(t,a),ra(t,s),r=$a(e,t,r,n,a,s),null===e||Oo?(t.effectTag|=1,ko(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=s&&(e.expirationTime=0),Xo(e,t,s))}function jo(e,t,r,n,s){if(hs(r)){var a=!0;ys(t)}else a=!1;if(ra(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ba(t,r,n),ya(t,r,n,s),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,u=r.contextType;"object"==typeof u&&null!==u?u=na(u):u=ps(t,u=hs(r)?ms:ds.current);var c=r.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||l!==u)&&va(t,o,n,u),sa=!1;var f=t.memoizedState;o.state=f,ca(t,n,o,s),l=t.memoizedState,i!==n||f!==l||fs.current||sa?("function"==typeof c&&(pa(t,r,c,n),l=t.memoizedState),(i=sa||ga(t,r,i,n,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=i):("function"==typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,oa(e,t),i=t.memoizedProps,o.props=t.type===t.elementType?i:Xs(t.type,i),l=o.context,"object"==typeof(u=r.contextType)&&null!==u?u=na(u):u=ps(t,u=hs(r)?ms:ds.current),(d="function"==typeof(c=r.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||l!==u)&&va(t,o,n,u),sa=!1,l=t.memoizedState,o.state=l,ca(t,n,o,s),f=t.memoizedState,i!==n||l!==f||fs.current||sa?("function"==typeof c&&(pa(t,r,c,n),f=t.memoizedState),(c=sa||ga(t,r,i,n,l,f,u))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,f,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,f,u)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=f),o.props=n,o.state=f,o.context=u,n=c):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Fo(e,t,r,n,a,s)}function Fo(e,t,r,n,s,a){Co(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return s&&Ms(t,r,!1),Xo(e,t,a);n=t.stateNode,To.current=t;var i=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,i,a)):ko(e,t,i,a),t.memoizedState=n.state,s&&Ms(t,r,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?bs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bs(0,t.context,!1),ka(e,t.containerInfo)}var Lo,Uo,qo,zo={dehydrated:null,retryTime:0};function Ho(e,t,r){var n,s=t.mode,a=t.pendingProps,o=Ca.current,i=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&o)&&(null===e||null!==e.memoizedState)),n?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),us(Ca,1&o),null===e){if(void 0!==a.fallback&&So(t),i){if(i=a.fallback,(a=wl(null,s,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=wl(i,s,r,null)).return=t,a.sibling=r,t.memoizedState=zo,t.child=a,r}return s=a.children,t.memoizedState=null,t.child=Sa(t,null,s,r)}if(null!==e.memoizedState){if(s=(e=e.child).sibling,i){if(a=a.fallback,(r=El(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=i;null!==i;)i.return=r,i=i.sibling;return(s=El(s,a)).return=t,r.sibling=s,r.childExpirationTime=0,t.memoizedState=zo,t.child=r,s}return r=Na(t,e.child,a.children,r),t.memoizedState=null,t.child=r}if(e=e.child,i){if(i=a.fallback,(a=wl(null,s,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(r=wl(i,s,r,null)).return=t,a.sibling=r,r.effectTag|=2,a.childExpirationTime=0,t.memoizedState=zo,t.child=a,r}return t.memoizedState=null,t.child=Na(t,e,a.children,r)}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),ta(e.return,t)}function Go(e,t,r,n,s,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:s,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailExpiration=0,o.tailMode=s,o.lastEffect=a)}function $o(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ko(e,t,n.children,r),0!=(2&(n=Ca.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,r);else if(19===e.tag)Wo(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(us(Ca,n),0==(2&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===Da(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Go(t,!1,s,r,a,t.lastEffect);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Da(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Go(t,!0,r,null,a,t.lastEffect);break;case"together":Go(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xo(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&ol(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=El(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=El(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ko(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yo(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hs(t.type)&&gs(),null;case 3:return xa(),ls(fs),ls(ds),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Vo(t)||(t.effectTag|=4),null;case 5:Aa(t),r=Oa(Ta.current);var a=t.type;if(null!==e&&null!=t.stateNode)Uo(e,t,a,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Va.current),Vo(t)){n=t.stateNode,a=t.type;var i=t.memoizedProps;switch(n[Pr]=t,n[Nr]=i,a){case"iframe":case"object":case"embed":$t("load",n);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],n);break;case"source":$t("error",n);break;case"img":case"image":case"link":$t("error",n),$t("load",n);break;case"form":$t("reset",n),$t("submit",n);break;case"details":$t("toggle",n);break;case"input":Pe(n,i),$t("invalid",n),ir(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!i.multiple},$t("invalid",n),ir(r,"onChange");break;case"textarea":ke(n,i),$t("invalid",n),ir(r,"onChange")}for(var l in sr(a,i),e=null,i)if(i.hasOwnProperty(l)){var u=i[l];"children"===l?"string"==typeof u?n.textContent!==u&&(e=["children",u]):"number"==typeof u&&n.textContent!==""+u&&(e=["children",""+u]):N.hasOwnProperty(l)&&null!=u&&ir(r,l)}switch(a){case"input":Me(n),Ee(n,i,!0);break;case"textarea":Me(n),Re(n);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(n.onclick=lr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===or&&(e=De(a)),e===or?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(a,{is:n.is}):(e=l.createElement(a),"select"===a&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,a),e[Pr]=t,e[Nr]=n,Lo(e,t),t.stateNode=e,l=ar(a,n),a){case"iframe":case"object":case"embed":$t("load",e),u=n;break;case"video":case"audio":for(u=0;u<Ye.length;u++)$t(Ye[u],e);u=n;break;case"source":$t("error",e),u=n;break;case"img":case"image":case"link":$t("error",e),$t("load",e),u=n;break;case"form":$t("reset",e),$t("submit",e),u=n;break;case"details":$t("toggle",e),u=n;break;case"input":Pe(e,n),u=Ie(e,n),$t("invalid",e),ir(r,"onChange");break;case"option":u=we(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},u=s({},n,{value:void 0}),$t("invalid",e),ir(r,"onChange");break;case"textarea":ke(e,n),u=Oe(e,n),$t("invalid",e),ir(r,"onChange");break;default:u=n}sr(a,u);var c=u;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?rr(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===i?"string"==typeof d?("textarea"!==a||""!==d)&&Le(e,d):"number"==typeof d&&Le(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(N.hasOwnProperty(i)?null!=d&&ir(r,i):null!=d&&J(e,i,d,l))}switch(a){case"input":Me(e),Ee(e,n,!1);break;case"textarea":Me(e),Re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ve(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Te(e,!!n.multiple,r,!1):null!=n.defaultValue&&Te(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=lr)}gr(a,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qo(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(o(166));r=Oa(Ta.current),Oa(Va.current),Vo(t)?(r=t.stateNode,n=t.memoizedProps,r[Pr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Pr]=t,t.stateNode=r)}return null;case 13:return ls(Ca),n=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Vo(t):(n=null!==(a=e.memoizedState),r||null===a||null!==(a=e.child.sibling)&&(null!==(i=t.firstEffect)?(t.firstEffect=a,a.nextEffect=i):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ca.current)?Vi===Mi&&(Vi=_i):(Vi!==Mi&&Vi!==_i||(Vi=Ii),0!==xi&&null!==Ni&&(Rl(Ni,Ei),Al(Ni,xi)))),(r||n)&&(t.effectTag|=4),null);case 4:return xa(),null;case 10:return ea(t),null;case 17:return hs(t.type)&&gs(),null;case 19:if(ls(Ca),null===(n=t.memoizedState))return null;if(a=0!=(64&t.effectTag),null===(i=n.rendering)){if(a)Ko(n,!1);else if(Vi!==Mi||null!==e&&0!=(64&e.effectTag))for(i=t.child;null!==i;){if(null!==(e=Da(i))){for(t.effectTag|=64,Ko(n,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)i=r,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=i,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=null===i?null:{expirationTime:i.expirationTime,firstContext:i.firstContext,responders:i.responders}),n=n.sibling;return us(Ca,1&Ca.current|2),t.child}i=i.sibling}}else{if(!a)if(null!==(e=Da(i))){if(t.effectTag|=64,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Ko(n,!0),null===n.tail&&"hidden"===n.tailMode&&!i.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Bs()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,a=!0,Ko(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(i.sibling=t.child,t.child=i):(null!==(r=n.last)?r.sibling=i:t.child=i,n.last=i)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=Bs()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Bs(),r.sibling=null,t=Ca.current,us(Ca,a?1&t|2:1&t),r):null}throw Error(o(156,t.tag))}function Jo(e){switch(e.tag){case 1:hs(e.type)&&gs();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(xa(),ls(fs),ls(ds),0!=(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Aa(e),null;case 13:return ls(Ca),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ls(Ca),null;case 4:return xa(),null;case 10:return ea(e),null;default:return null}}function Qo(e,t){return{value:e,source:t,stack:be(t)}}Lo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Uo=function(e,t,r,n,a){var o=e.memoizedProps;if(o!==n){var i,l,u=t.stateNode;switch(Oa(Va.current),e=null,r){case"input":o=Ie(u,o),n=Ie(u,n),e=[];break;case"option":o=we(u,o),n=we(u,n),e=[];break;case"select":o=s({},o,{value:void 0}),n=s({},n,{value:void 0}),e=[];break;case"textarea":o=Oe(u,o),n=Oe(u,n),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(u.onclick=lr)}for(i in sr(r,n),r=null,o)if(!n.hasOwnProperty(i)&&o.hasOwnProperty(i)&&null!=o[i])if("style"===i)for(l in u=o[i])u.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(N.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in n){var c=n[i];if(u=null!=o?o[i]:void 0,n.hasOwnProperty(i)&&c!==u&&(null!=c||null!=u))if("style"===i)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(e||(e=[]),e.push(i,r)),r=c;else"dangerouslySetInnerHTML"===i?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(i,c)):"children"===i?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(i,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(N.hasOwnProperty(i)?(null!=c&&ir(a,i),e||u===c||(e=[])):(e=e||[]).push(i,c))}r&&(e=e||[]).push("style",r),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},qo=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Zo="function"==typeof WeakSet?WeakSet:Set;function ei(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=be(r)),null!==r&&ge(r.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ti(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){vl(e,t)}else t.current=null}function ri(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Xs(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ni(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function si(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ai(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void si(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Xs(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&da(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}da(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&gr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Dt(r)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function oi(e,t,r){switch("function"==typeof Il&&Il(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;qs(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var s=t;try{r()}catch(e){vl(s,e)}}e=e.next}while(e!==n)}))}break;case 1:ti(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){vl(e,t)}}(t,r);break;case 5:ti(t);break;case 4:ci(e,t,r)}}function ii(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ii(t)}function li(e){return 5===e.tag||3===e.tag||4===e.tag}function ui(e){e:{for(var t=e.return;null!==t;){if(li(t)){var r=t;break e}t=t.return}throw Error(o(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.effectTag&&(Le(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||li(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var s=t.tag,a=5===s||6===s;if(a)t=a?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==s&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var s=t.tag,a=5===s||6===s;if(a)t=a?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==s&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function ci(e,t,r){for(var n,s,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:s=!1;break e;case 3:case 4:n=n.containerInfo,s=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var l=e,u=a,c=r,d=u;;)if(oi(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s?(l=n,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,s=!0,a.child.return=a,a=a.child;continue}}else if(oi(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function di(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ni(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,s=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[Nr]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Ne(r,n),ar(e,s),t=ar(e,n),s=0;s<a.length;s+=2){var i=a[s],l=a[s+1];"style"===i?rr(r,l):"dangerouslySetInnerHTML"===i?Be(r,l):"children"===i?Le(r,l):J(r,i,l,t)}switch(e){case"input":Se(r,n);break;case"textarea":xe(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Te(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Te(r,!!n.multiple,n.defaultValue,!0):Te(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Ai=Bs()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,n?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,s=null!=(s=e.memoizedProps.style)&&s.hasOwnProperty("display")?s.display:null,a.style.display=tr("display",s));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fi(t);case 19:return void fi(t);case 17:return}throw Error(o(163))}function fi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zo),t.forEach((function(t){var n=Ml.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var mi="function"==typeof WeakMap?WeakMap:Map;function pi(e,t,r){(r=ia(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Di||(Di=!0,ji=n),ei(e,t)},r}function hi(e,t,r){(r=ia(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var s=t.value;r.payload=function(){return ei(e,t),n(s)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Fi?Fi=new Set([this]):Fi.add(this),ei(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var gi,bi=Math.ceil,vi=Y.ReactCurrentDispatcher,yi=Y.ReactCurrentOwner,Mi=0,_i=3,Ii=4,Pi=0,Ni=null,Si=null,Ei=0,Vi=Mi,wi=null,Ti=1073741823,Oi=1073741823,ki=null,xi=0,Ri=!1,Ai=0,Ci=null,Di=!1,ji=null,Fi=null,Bi=!1,Li=null,Ui=90,qi=null,zi=0,Hi=null,Wi=0;function Gi(){return 0!=(48&Pi)?1073741821-(Bs()/10|0):0!==Wi?Wi:Wi=1073741821-(Bs()/10|0)}function $i(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=Ls();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&Pi))return Ei;if(null!==r)e=$s(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=$s(e,150,100);break;case 97:case 96:e=$s(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ni&&e===Ei&&--e,e}function Xi(e,t){if(50<zi)throw zi=0,Hi=null,Error(o(185));if(null!==(e=Ki(e,t))){var r=Ls();1073741823===t?0!=(8&Pi)&&0==(48&Pi)?Zi(e):(Ji(e),0===Pi&&Ws()):Ji(e),0==(4&Pi)||98!==r&&99!==r||(null===qi?qi=new Map([[e,t]]):(void 0===(r=qi.get(e))||r>t)&&qi.set(e,t))}}function Ki(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,s=null;if(null===n&&3===e.tag)s=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){s=n.stateNode;break}n=n.return}return null!==s&&(Ni===s&&(ol(t),Vi===Ii&&Rl(s,Ei)),Al(s,t)),s}function Yi(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!xl(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Ji(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hs(Zi.bind(null,e));else{var t=Yi(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Gi();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var s=e.callbackPriority;if(e.callbackExpirationTime===t&&s>=n)return;r!==xs&&Ps(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Hs(Zi.bind(null,e)):zs(n,Qi.bind(null,e),{timeout:10*(1073741821-t)-Bs()}),e.callbackNode=t}}}function Qi(e,t){if(Wi=0,t)return Cl(e,t=Gi()),Ji(e),null;var r=Yi(e);if(0!==r){if(t=e.callbackNode,0!=(48&Pi))throw Error(o(327));if(hl(),e===Ni&&r===Ei||rl(e,r),null!==Si){var n=Pi;Pi|=16;for(var s=sl();;)try{ll();break}catch(t){nl(e,t)}if(Zs(),Pi=n,vi.current=s,1===Vi)throw t=wi,rl(e,r),Rl(e,r),Ji(e),t;if(null===Si)switch(s=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Vi,Ni=null,n){case Mi:case 1:throw Error(o(345));case 2:Cl(e,2<r?2:r);break;case _i:if(Rl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(s)),1073741823===Ti&&10<(s=Ai+500-Bs())){if(Ri){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,rl(e,r);break}}if(0!==(a=Yi(e))&&a!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=vr(fl.bind(null,e),s);break}fl(e);break;case Ii:if(Rl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(s)),Ri&&(0===(s=e.lastPingedTime)||s>=r)){e.lastPingedTime=r,rl(e,r);break}if(0!==(s=Yi(e))&&s!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Oi?n=10*(1073741821-Oi)-Bs():1073741823===Ti?n=0:(n=10*(1073741821-Ti)-5e3,0>(n=(s=Bs())-n)&&(n=0),(r=10*(1073741821-r)-s)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bi(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=vr(fl.bind(null,e),n);break}fl(e);break;case 5:if(1073741823!==Ti&&null!==ki){a=Ti;var i=ki;if(0>=(n=0|i.busyMinDurationMs)?n=0:(s=0|i.busyDelayMs,n=(a=Bs()-(10*(1073741821-a)-(0|i.timeoutMs||5e3)))<=s?0:s+n-a),10<n){Rl(e,r),e.timeoutHandle=vr(fl.bind(null,e),n);break}}fl(e);break;default:throw Error(o(329))}if(Ji(e),e.callbackNode===t)return Qi.bind(null,e)}}return null}function Zi(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Pi))throw Error(o(327));if(hl(),e===Ni&&t===Ei||rl(e,t),null!==Si){var r=Pi;Pi|=16;for(var n=sl();;)try{il();break}catch(t){nl(e,t)}if(Zs(),Pi=r,vi.current=n,1===Vi)throw r=wi,rl(e,t),Rl(e,t),Ji(e),r;if(null!==Si)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ni=null,fl(e),Ji(e)}return null}function el(e,t){var r=Pi;Pi|=1;try{return e(t)}finally{0===(Pi=r)&&Ws()}}function tl(e,t){var r=Pi;Pi&=-2,Pi|=8;try{return e(t)}finally{0===(Pi=r)&&Ws()}}function rl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,yr(r)),null!==Si)for(r=Si.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&gs();break;case 3:xa(),ls(fs),ls(ds);break;case 5:Aa(n);break;case 4:xa();break;case 13:case 19:ls(Ca);break;case 10:ea(n)}r=r.return}Ni=e,Si=El(e.current,null),Ei=t,Vi=Mi,wi=null,Oi=Ti=1073741823,ki=null,xi=0,Ri=!1}function nl(e,t){for(;;){try{if(Zs(),Fa.current=go,Ha)for(var r=Ua.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(La=0,za=qa=Ua=null,Ha=!1,null===Si||null===Si.return)return Vi=1,wi=t,Si=null;e:{var s=e,a=Si.return,o=Si,i=t;if(t=Ei,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var l=i;if(0==(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!=(1&Ca.current),d=a;do{var f;if(f=13===d.tag){var m=d.memoizedState;if(null!==m)f=null!==m.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var h=d.updateQueue;if(null===h){var g=new Set;g.add(l),d.updateQueue=g}else h.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var b=ia(1073741823,null);b.tag=2,la(o,b)}o.expirationTime=1073741823;break e}i=void 0,o=t;var v=s.pingCache;if(null===v?(v=s.pingCache=new mi,i=new Set,v.set(l,i)):void 0===(i=v.get(l))&&(i=new Set,v.set(l,i)),!i.has(o)){i.add(o);var y=yl.bind(null,s,l,o);l.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);i=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(o))}5!==Vi&&(Vi=2),i=Qo(i,o),d=a;do{switch(d.tag){case 3:l=i,d.effectTag|=4096,d.expirationTime=t,ua(d,pi(d,l,t));break e;case 1:l=i;var M=d.type,_=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof M.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Fi||!Fi.has(_)))){d.effectTag|=4096,d.expirationTime=t,ua(d,hi(d,l,t));break e}}d=d.return}while(null!==d)}Si=cl(Si)}catch(e){t=e;continue}break}}function sl(){var e=vi.current;return vi.current=go,null===e?go:e}function al(e,t){e<Ti&&2<e&&(Ti=e),null!==t&&e<Oi&&2<e&&(Oi=e,ki=t)}function ol(e){e>xi&&(xi=e)}function il(){for(;null!==Si;)Si=ul(Si)}function ll(){for(;null!==Si&&!Rs();)Si=ul(Si)}function ul(e){var t=gi(e.alternate,e,Ei);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),yi.current=null,t}function cl(e){Si=e;do{var t=Si.alternate;if(e=Si.return,0==(2048&Si.effectTag)){if(t=Yo(t,Si,Ei),1===Ei||1!==Si.childExpirationTime){for(var r=0,n=Si.child;null!==n;){var s=n.expirationTime,a=n.childExpirationTime;s>r&&(r=s),a>r&&(r=a),n=n.sibling}Si.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Si.firstEffect),null!==Si.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Si.firstEffect),e.lastEffect=Si.lastEffect),1<Si.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Si:e.firstEffect=Si,e.lastEffect=Si))}else{if(null!==(t=Jo(Si)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Si.sibling))return t;Si=e}while(null!==Si);return Vi===Mi&&(Vi=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fl(e){var t=Ls();return qs(99,ml.bind(null,e,t)),null}function ml(e,t){do{hl()}while(null!==Li);if(0!=(48&Pi))throw Error(o(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var s=dl(r);if(e.firstPendingTime=s,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ni&&(Si=Ni=null,Ei=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,s=r.firstEffect):s=r:s=r.firstEffect,null!==s){var a=Pi;Pi|=32,yi.current=null,pr=Gt;var i=fr();if(mr(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{var u=(l=(l=i.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,m=-1,p=-1,h=0,g=0,b=i,v=null;t:for(;;){for(var y;b!==l||0!==c&&3!==b.nodeType||(m=f+c),b!==d||0!==u&&3!==b.nodeType||(p=f+u),3===b.nodeType&&(f+=b.nodeValue.length),null!==(y=b.firstChild);)v=b,b=y;for(;;){if(b===i)break t;if(v===l&&++h===c&&(m=f),v===d&&++g===u&&(p=f),null!==(y=b.nextSibling))break;v=(b=v).parentNode}b=y}l=-1===m||-1===p?null:{start:m,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;hr={activeElementDetached:null,focusedElem:i,selectionRange:l},Gt=!1,Ci=s;do{try{pl()}catch(e){if(null===Ci)throw Error(o(330));vl(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);Ci=s;do{try{for(i=e,l=t;null!==Ci;){var M=Ci.effectTag;if(16&M&&Le(Ci.stateNode,""),128&M){var _=Ci.alternate;if(null!==_){var I=_.ref;null!==I&&("function"==typeof I?I(null):I.current=null)}}switch(1038&M){case 2:ui(Ci),Ci.effectTag&=-3;break;case 6:ui(Ci),Ci.effectTag&=-3,di(Ci.alternate,Ci);break;case 1024:Ci.effectTag&=-1025;break;case 1028:Ci.effectTag&=-1025,di(Ci.alternate,Ci);break;case 4:di(Ci.alternate,Ci);break;case 8:ci(i,c=Ci,l),ii(c)}Ci=Ci.nextEffect}}catch(e){if(null===Ci)throw Error(o(330));vl(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);if(I=hr,_=fr(),M=I.focusedElem,l=I.selectionRange,_!==M&&M&&M.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(M.ownerDocument.documentElement,M)){null!==l&&mr(M)&&(_=l.start,void 0===(I=l.end)&&(I=_),"selectionStart"in M?(M.selectionStart=_,M.selectionEnd=Math.min(I,M.value.length)):(I=(_=M.ownerDocument||document)&&_.defaultView||window).getSelection&&(I=I.getSelection(),c=M.textContent.length,i=Math.min(l.start,c),l=void 0===l.end?i:Math.min(l.end,c),!I.extend&&i>l&&(c=l,l=i,i=c),c=dr(M,i),d=dr(M,l),c&&d&&(1!==I.rangeCount||I.anchorNode!==c.node||I.anchorOffset!==c.offset||I.focusNode!==d.node||I.focusOffset!==d.offset)&&((_=_.createRange()).setStart(c.node,c.offset),I.removeAllRanges(),i>l?(I.addRange(_),I.extend(d.node,d.offset)):(_.setEnd(d.node,d.offset),I.addRange(_))))),_=[];for(I=M;I=I.parentNode;)1===I.nodeType&&_.push({element:I,left:I.scrollLeft,top:I.scrollTop});for("function"==typeof M.focus&&M.focus(),M=0;M<_.length;M++)(I=_[M]).element.scrollLeft=I.left,I.element.scrollTop=I.top}Gt=!!pr,hr=pr=null,e.current=r,Ci=s;do{try{for(M=e;null!==Ci;){var P=Ci.effectTag;if(36&P&&ai(M,Ci.alternate,Ci),128&P){_=void 0;var N=Ci.ref;if(null!==N){var S=Ci.stateNode;switch(Ci.tag){case 5:_=S;break;default:_=S}"function"==typeof N?N(_):N.current=_}}Ci=Ci.nextEffect}}catch(e){if(null===Ci)throw Error(o(330));vl(Ci,e),Ci=Ci.nextEffect}}while(null!==Ci);Ci=null,As(),Pi=a}else e.current=r;if(Bi)Bi=!1,Li=e,Ui=t;else for(Ci=s;null!==Ci;)t=Ci.nextEffect,Ci.nextEffect=null,Ci=t;if(0===(t=e.firstPendingTime)&&(Fi=null),1073741823===t?e===Hi?zi++:(zi=0,Hi=e):zi=0,"function"==typeof _l&&_l(r.stateNode,n),Ji(e),Di)throw Di=!1,e=ji,ji=null,e;return 0!=(8&Pi)||Ws(),null}function pl(){for(;null!==Ci;){var e=Ci.effectTag;0!=(256&e)&&ri(Ci.alternate,Ci),0==(512&e)||Bi||(Bi=!0,zs(97,(function(){return hl(),null}))),Ci=Ci.nextEffect}}function hl(){if(90!==Ui){var e=97<Ui?97:Ui;return Ui=90,qs(e,gl)}}function gl(){if(null===Li)return!1;var e=Li;if(Li=null,0!=(48&Pi))throw Error(o(331));var t=Pi;for(Pi|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ni(5,r),si(5,r)}}catch(t){if(null===e)throw Error(o(330));vl(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Pi=t,Ws(),!0}function bl(e,t,r){la(e,t=pi(e,t=Qo(r,t),1073741823)),null!==(e=Ki(e,1073741823))&&Ji(e)}function vl(e,t){if(3===e.tag)bl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){bl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Fi||!Fi.has(n))){la(r,e=hi(r,e=Qo(t,e),1073741823)),null!==(r=Ki(r,1073741823))&&Ji(r);break}}r=r.return}}function yl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ni===e&&Ei===r?Vi===Ii||Vi===_i&&1073741823===Ti&&Bs()-Ai<500?rl(e,Ei):Ri=!0:xl(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Ji(e)))}function Ml(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=$i(t=Gi(),e,null)),null!==(e=Ki(e,t))&&Ji(e)}gi=function(e,t,r){var n=t.expirationTime;if(null!==e){var s=t.pendingProps;if(e.memoizedProps!==s||fs.current)Oo=!0;else{if(n<r){switch(Oo=!1,t.tag){case 3:Bo(t),wo();break;case 5:if(Ra(t),4&t.mode&&1!==r&&s.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:hs(t.type)&&ys(t);break;case 4:ka(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,s=t.type._context,us(Ks,s._currentValue),s._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Ho(e,t,r):(us(Ca,1&Ca.current),null!==(t=Xo(e,t,r))?t.sibling:null);us(Ca,1&Ca.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return $o(e,t,r);t.effectTag|=64}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null),us(Ca,Ca.current),!n)return null}return Xo(e,t,r)}Oo=!1}}else Oo=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,s=ps(t,ds.current),ra(t,r),s=$a(null,t,n,e,s,r),t.effectTag|=1,"object"==typeof s&&null!==s&&"function"==typeof s.render&&void 0===s.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hs(n)){var a=!0;ys(t)}else a=!1;t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,aa(t);var i=n.getDerivedStateFromProps;"function"==typeof i&&pa(t,n,i,e),s.updater=ha,t.stateNode=s,s._reactInternalFiber=t,ya(t,n,e,r),t=Fo(null,t,n,!0,a,r)}else t.tag=0,ko(null,t,s,r),t=t.child;return t;case 16:e:{if(s=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(s),1!==s._status)throw s._result;switch(s=s._result,t.type=s,a=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(s),e=Xs(s,e),a){case 0:t=Do(null,t,s,e,r);break e;case 1:t=jo(null,t,s,e,r);break e;case 11:t=xo(null,t,s,e,r);break e;case 14:t=Ro(null,t,s,Xs(s.type,e),n,r);break e}throw Error(o(306,s,""))}return t;case 0:return n=t.type,s=t.pendingProps,Do(e,t,n,s=t.elementType===n?s:Xs(n,s),r);case 1:return n=t.type,s=t.pendingProps,jo(e,t,n,s=t.elementType===n?s:Xs(n,s),r);case 3:if(Bo(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,s=null!==(s=t.memoizedState)?s.element:null,oa(e,t),ca(t,n,null,r),(n=t.memoizedState.element)===s)wo(),t=Xo(e,t,r);else{if((s=t.stateNode.hydrate)&&(_o=Mr(t.stateNode.containerInfo.firstChild),Mo=t,s=Io=!0),s)for(r=Sa(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else ko(e,t,n,r),wo();t=t.child}return t;case 5:return Ra(t),null===e&&So(t),n=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,br(n,s)?i=null:null!==a&&br(n,a)&&(t.effectTag|=16),Co(e,t),4&t.mode&&1!==r&&s.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ko(e,t,i,r),t=t.child),t;case 6:return null===e&&So(t),null;case 13:return Ho(e,t,r);case 4:return ka(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Na(t,null,n,r):ko(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,xo(e,t,n,s=t.elementType===n?s:Xs(n,s),r);case 7:return ko(e,t,t.pendingProps,r),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value;var l=t.type._context;if(us(Ks,l._currentValue),l._currentValue=a,null!==i)if(l=i.value,0===(a=jn(l,a)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,a):1073741823))){if(i.children===s.children&&!fs.current){t=Xo(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){i=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!=(c.observedBits&a)){1===l.tag&&((c=ia(r,null)).tag=2,la(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),ta(l.return,r),u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else i=10===l.tag&&l.type===t.type?null:l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}ko(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=(a=t.pendingProps).children,ra(t,r),n=n(s=na(s,a.unstable_observedBits)),t.effectTag|=1,ko(e,t,n,r),t.child;case 14:return a=Xs(s=t.type,t.pendingProps),Ro(e,t,s,a=Xs(s.type,a),n,r);case 15:return Ao(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xs(n,s),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,hs(n)?(e=!0,ys(t)):e=!1,ra(t,r),ba(t,n,s),ya(t,n,s,r),Fo(null,t,n,!0,e,r);case 19:return $o(e,t,r)}throw Error(o(156,t.tag))};var _l=null,Il=null;function Pl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nl(e,t,r,n){return new Pl(e,t,r,n)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function El(e,t){var r=e.alternate;return null===r?((r=Nl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vl(e,t,r,n,s,a){var i=2;if(n=e,"function"==typeof e)Sl(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case re:return wl(r.children,s,a,t);case ie:i=8,s|=7;break;case ne:i=8,s|=1;break;case se:return(e=Nl(12,r,t,8|s)).elementType=se,e.type=se,e.expirationTime=a,e;case ue:return(e=Nl(13,r,t,s)).type=ue,e.elementType=ue,e.expirationTime=a,e;case ce:return(e=Nl(19,r,t,s)).elementType=ce,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ae:i=10;break e;case oe:i=9;break e;case le:i=11;break e;case de:i=14;break e;case fe:i=16,n=null;break e;case me:i=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nl(i,r,t,s)).elementType=e,t.type=n,t.expirationTime=a,t}function wl(e,t,r,n){return(e=Nl(7,e,n,t)).expirationTime=r,e}function Tl(e,t,r){return(e=Nl(6,e,null,t)).expirationTime=r,e}function Ol(e,t,r){return(t=Nl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kl(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function xl(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Rl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Al(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Cl(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Dl(e,t,r,n){var s=t.current,a=Gi(),i=fa.suspense;a=$i(a,s,i);e:if(r){t:{if(Ze(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(o(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(hs(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===r.tag){var u=r.type;if(hs(u)){r=vs(r,u,l);break e}}r=l}else r=cs;return null===t.context?t.context=r:t.pendingContext=r,(t=ia(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),la(s,t),Xi(s,a),a}function jl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Ll(e,t,r){var n=new kl(e,t,r=null!=r&&!0===r.hydrate),s=Nl(3,null,null,2===t?7:1===t?3:0);n.current=s,s.stateNode=n,aa(s),e[Sr]=n.current,r&&0!==t&&function(e,t){var r=Qe(t);Et.forEach((function(e){pt(e,t,r)})),Vt.forEach((function(e){pt(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ql(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof s){var i=s;s=function(){var e=jl(o);i.call(e)}}Dl(t,o,e,s)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Ll(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"==typeof s){var l=s;s=function(){var e=jl(o);l.call(e)}}tl((function(){Dl(t,o,e,s)}))}return jl(o)}function zl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Hl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(o(200));return zl(e,t,null,r)}Ll.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},Ll.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dl(null,e,null,(function(){t[Sr]=null}))},ht=function(e){if(13===e.tag){var t=$s(Gi(),150,100);Xi(e,t),Bl(e,t)}},gt=function(e){13===e.tag&&(Xi(e,3),Bl(e,3))},bt=function(e){if(13===e.tag){var t=Gi();Xi(e,t=$i(t,e,null)),Bl(e,t)}},w=function(e,t,r){switch(t){case"input":if(Se(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Tr(n);if(!s)throw Error(o(90));_e(n),Se(n,s)}}}break;case"textarea":xe(e,r);break;case"select":null!=(t=r.value)&&Te(e,!!r.multiple,t,!1)}},A=el,C=function(e,t,r,n,s){var a=Pi;Pi|=4;try{return qs(98,e.bind(null,t,r,n,s))}finally{0===(Pi=a)&&Ws()}},D=function(){0==(49&Pi)&&(function(){if(null!==qi){var e=qi;qi=null,e.forEach((function(e,t){Cl(t,e),Ji(t)})),Ws()}}(),hl())},j=function(e,t){var r=Pi;Pi|=2;try{return e(t)}finally{0===(Pi=r)&&Ws()}};var Wl,Gl,$l={Events:[Vr,wr,Tr,E,P,Dr,function(e){st(e,Cr)},x,R,Jt,it,hl,{current:!1}]};Gl=(Wl={findFiberByHostInstance:Er,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);_l=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Il=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}}(s({},Wl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gl?Gl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$l,t.createPortal=Hl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Pi))throw Error(o(187));var r=Pi;Pi|=1;try{return qs(99,e.bind(null,t))}finally{Pi=r,Ws()}},t.hydrate=function(e,t,r){if(!Ul(t))throw Error(o(200));return ql(null,e,t,!0,r)},t.render=function(e,t,r){if(!Ul(t))throw Error(o(200));return ql(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(o(40));return!!e._reactRootContainer&&(tl((function(){ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sr]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Hl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ul(r))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return ql(e,t,r,!1,n)},t.version="16.14.0"},function(e,t,r){"use strict";e.exports=r(79)},function(e,t,r){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,s,a,o,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},s=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},o=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,m=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var b=m.now();t.unstable_now=function(){return m.now()-b}}var v=!1,y=null,M=-1,_=5,I=0;o=function(){return t.unstable_now()>=I},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var P=new MessageChannel,N=P.port2;P.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();I=e+_;try{y(!0,e)?N.postMessage(null):(v=!1,y=null)}catch(e){throw N.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,N.postMessage(null))},s=function(e,r){M=p((function(){e(t.unstable_now())}),r)},a=function(){h(M),M=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,s=e[n];if(!(void 0!==s&&0<w(s,t)))break e;e[n]=t,e[r]=s,r=n}}function E(e){return void 0===(e=e[0])?null:e}function V(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length;n<s;){var a=2*(n+1)-1,o=e[a],i=a+1,l=e[i];if(void 0!==o&&0>w(o,r))void 0!==l&&0>w(l,o)?(e[n]=l,e[i]=r,n=i):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==l&&0>w(l,r)))break e;e[n]=l,e[i]=r,n=i}}}return t}return null}function w(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var T=[],O=[],k=1,x=null,R=3,A=!1,C=!1,D=!1;function j(e){for(var t=E(O);null!==t;){if(null===t.callback)V(O);else{if(!(t.startTime<=e))break;V(O),t.sortIndex=t.expirationTime,S(T,t)}t=E(O)}}function F(e){if(D=!1,j(e),!C)if(null!==E(T))C=!0,n(B);else{var t=E(O);null!==t&&s(F,t.startTime-e)}}function B(e,r){C=!1,D&&(D=!1,a()),A=!0;var n=R;try{for(j(r),x=E(T);null!==x&&(!(x.expirationTime>r)||e&&!o());){var i=x.callback;if(null!==i){x.callback=null,R=x.priorityLevel;var l=i(x.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?x.callback=l:x===E(T)&&V(T),j(r)}else V(T);x=E(T)}if(null!==x)var u=!0;else{var c=E(O);null!==c&&s(F,c.startTime-r),u=!1}return u}finally{x=null,R=n,A=!1}}function L(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){C||A||(C=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var r=R;R=t;try{return e()}finally{R=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=R;R=e;try{return t()}finally{R=r}},t.unstable_scheduleCallback=function(e,r,o){var i=t.unstable_now();if("object"==typeof o&&null!==o){var l=o.delay;l="number"==typeof l&&0<l?i+l:i,o="number"==typeof o.timeout?o.timeout:L(e)}else o=L(e),l=i;return e={id:k++,callback:r,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>i?(e.sortIndex=l,S(O,e),null===E(T)&&e===E(O)&&(D?a():D=!0,s(F,l-i))):(e.sortIndex=o,S(T,e),C||A||(C=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var r=E(T);return r!==x&&null!==x&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<x.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var r=R;R=t;try{return e.apply(this,arguments)}finally{R=r}}}},function(e,t,r){},function(e,t){e.exports=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,r){var n=r(45),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},function(e,t,r){var n=r(33),s=Object.prototype,a=s.hasOwnProperty,o=s.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),r=e[i];try{e[i]=void 0;var n=!0}catch(e){}var s=o.call(e);return n&&(t?e[i]=r:delete e[i]),s}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(86),s=r(48);e.exports=function(e){return s(n(e))}},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t){var r=Math.floor,n=Math.random;e.exports=function(e,t){return e+r(n()*(t-e+1))}},function(e,t,r){var n=r(48),s=r(89);e.exports=function(e){return n(s(e))}},function(e,t,r){var n=r(90),s=r(91);e.exports=function(e){return null==e?[]:n(e,s(e))}},function(e,t,r){var n=r(49);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},function(e,t,r){var n=r(92),s=r(102),a=r(52);e.exports=function(e){return a(e)?n(e):s(e)}},function(e,t,r){var n=r(93),s=r(94),a=r(35),o=r(96),i=r(50),l=r(98),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),c=!r&&s(e),d=!r&&!c&&o(e),f=!r&&!c&&!d&&l(e),m=r||c||d||f,p=m?n(e.length,String):[],h=p.length;for(var g in e)!t&&!u.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,h))||p.push(g);return p}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(95),s=r(27),a=Object.prototype,o=a.hasOwnProperty,i=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return s(e)&&o.call(e,"callee")&&!i.call(e,"callee")};e.exports=l},function(e,t,r){var n=r(26),s=r(27);e.exports=function(e){return s(e)&&"[object Arguments]"==n(e)}},function(e,t,r){(function(e){var n=r(34),s=r(97),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?n.Buffer:void 0,l=(i?i.isBuffer:void 0)||s;e.exports=l}).call(this,r(36)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(99),s=r(100),a=r(101),o=a&&a.isTypedArray,i=o?s(o):n;e.exports=i},function(e,t,r){var n=r(26),s=r(51),a=r(27),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&s(e.length)&&!!o[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(47),s=t&&!t.nodeType&&t,a=s&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===s&&n.process,i=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}).call(this,r(36)(e))},function(e,t,r){var n=r(103),s=r(104),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return s(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(105)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(26),s=r(25);e.exports=function(e){if(!s(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d,f,m,p,h=e[c].replace(i,"%20"),g=h.indexOf(r);g>=0?(d=h.substr(0,g),f=h.substr(g+1)):(d=h,f=""),m=decodeURIComponent(d),p=decodeURIComponent(f),n(o,m)?s(o[m])?o[m].push(p):o[m]=[o[m],p]:o[m]=p}return o};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?a(o(e),(function(o){var i=encodeURIComponent(n(o))+r;return s(e[o])?a(e[o],(function(e){return i+encodeURIComponent(n(e))})).join(t):i+encodeURIComponent(n(e[o]))})).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(110);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,a,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,s=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,M=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case f:case o:case l:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case b:case g:case u:return e;default:return t}}case a:return t}}}function P(e){return I(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=s,t.ForwardRef=m,t.Fragment=o,t.Lazy=b,t.Memo=g,t.Portal=a,t.Profiler=l,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return P(e)||I(e)===d},t.isConcurrentMode=P,t.isContextConsumer=function(e){return I(e)===c},t.isContextProvider=function(e){return I(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return I(e)===m},t.isFragment=function(e){return I(e)===o},t.isLazy=function(e){return I(e)===b},t.isMemo=function(e){return I(e)===g},t.isPortal=function(e){return I(e)===a},t.isProfiler=function(e){return I(e)===l},t.isStrictMode=function(e){return I(e)===i},t.isSuspense=function(e){return I(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===l||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===y||e.$$typeof===M||e.$$typeof===_||e.$$typeof===v)},t.typeOf=I},function(e,t,r){var n=r(53);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(28).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!==n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(116),s=r(117),a=r(55),o=r(118);e.exports=function(e,t){return n(e)||s(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,o,i=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(120);e.exports=function(e,t){if(null==e)return{};var r,s,a=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(54);function s(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,n(s.key),s)}}e.exports=function(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(124);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(126),s=r(127),a=r(128);e.exports=function(e){var t=s();return function(){var r,s=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(s,arguments,o)}else r=s.apply(this,arguments);return a(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(28).default,s=r(129);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(131),s=r(132),a=r(55),o=r(133);e.exports=function(e){return n(e)||s(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(56);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(34);e.exports=function(){return n.Date.now()}},function(e,t,r){"use strict";function n(e){let t;if(e){if(!(e instanceof ArrayBuffer))throw Error("Invalid buffer received.");if(this.datas=new DataView(e,0,n.HEADER_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"h"!==String.fromCharCode(this.datas.getUint8(2))||"d"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileHeader : MThd prefix not found");if(6!==this.datas.getUint32(4))throw new Error("Invalid MIDIFileHeader : Chunk length must be 6")}else t=new Uint8Array(n.HEADER_LENGTH),t[0]=77,t[1]=84,t[2]=104,t[3]=100,t[4]=0,t[5]=0,t[6]=0,t[7]=6,t[8]=0,t[9]=1,t[10]=0,t[11]=1,t[12]=0,t[13]=192,this.datas=new DataView(t.buffer,0,n.HEADER_LENGTH)}n.HEADER_LENGTH=14,n.FRAMES_PER_SECONDS=1,n.TICKS_PER_BEAT=2,n.prototype.getFormat=function(){const e=this.datas.getUint16(8);if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI file : MIDI format ("+e+"), format can be 0, 1 or 2 only.");return e},n.prototype.setFormat=function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid MIDI format given ("+e+"), format can be 0, 1 or 2 only.");this.datas.setUint16(8,e)},n.prototype.getTracksCount=function(){return this.datas.getUint16(10)},n.prototype.setTracksCount=function(e){return this.datas.setUint16(10,e)},n.prototype.getTickResolution=function(e){return 32768&this.datas.getUint16(12)?1e6/(this.getSMPTEFrames()*this.getTicksPerFrame()):(e=e||5e5)/this.getTicksPerBeat()},n.prototype.getTimeDivision=function(){return 32768&this.datas.getUint16(12)?n.FRAMES_PER_SECONDS:n.TICKS_PER_BEAT},n.prototype.getTicksPerBeat=function(){var e=this.datas.getUint16(12);if(32768&e)throw new Error("Time division is not expressed as ticks per beat.");return e},n.prototype.setTicksPerBeat=function(e){this.datas.setUint16(12,32767&e)},n.prototype.getSMPTEFrames=function(){const e=this.datas.getUint16(12);let t;if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");if(t=32512&e,-1===[24,25,29,30].indexOf(t))throw new Error("Invalid SMPTE frames value ("+t+").");return 29===t?29.97:t},n.prototype.getTicksPerFrame=function(){const e=this.datas.getUint16(12);if(!(32768&e))throw new Error("Time division is not expressed as frames per seconds.");return 255&e},n.prototype.setSMTPEDivision=function(e,t){if(29.97===e&&(e=29),-1===[24,25,29,30].indexOf(e))throw new Error("Invalid SMPTE frames value given ("+e+").");if(0>t||255<t)throw new Error("Invalid ticks per frame value given ("+e+").");this.datas.setUint8(12,128|e),this.datas.setUint8(13,t)},e.exports=n},function(e,t,r){"use strict";function n(e,t){let r,s;if(e){if(!(e instanceof ArrayBuffer))throw new Error("Invalid buffer received.");if(12>e.byteLength-t)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : Buffer length must size at least 12bytes");if(this.datas=new DataView(e,t,n.HDR_LENGTH),"M"!==String.fromCharCode(this.datas.getUint8(0))||"T"!==String.fromCharCode(this.datas.getUint8(1))||"r"!==String.fromCharCode(this.datas.getUint8(2))||"k"!==String.fromCharCode(this.datas.getUint8(3)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : MTrk prefix not found");if(s=this.getTrackLength(),e.byteLength-t<s)throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : The track size exceed the buffer length.");if(this.datas=new DataView(e,t,n.HDR_LENGTH+s),255!==this.datas.getUint8(n.HDR_LENGTH+(s-3))||47!==this.datas.getUint8(n.HDR_LENGTH+(s-2))||0!==this.datas.getUint8(n.HDR_LENGTH+(s-1)))throw new Error("Invalid MIDIFileTrack (0x"+t.toString(16)+") : No track end event found at the expected index ("+(n.HDR_LENGTH+(s-1)).toString(16)+").")}else r=new Uint8Array(12),r[0]=77,r[1]=84,r[2]=114,r[3]=107,r[4]=0,r[5]=0,r[6]=0,r[7]=4,r[8]=0,r[9]=255,r[10]=47,r[11]=0,this.datas=new DataView(r.buffer,0,n.HDR_LENGTH+4)}n.HDR_LENGTH=8,n.prototype.getTrackLength=function(){return this.datas.getUint32(4)},n.prototype.setTrackLength=function(e){return this.datas.setUint32(4,e)},n.prototype.getTrackContent=function(){return new DataView(this.datas.buffer,this.datas.byteOffset+n.HDR_LENGTH,this.datas.byteLength-n.HDR_LENGTH)},n.prototype.setTrackContent=function(e){let t,r,s,a;const o=e.byteLength-e.byteOffset;if(4>o)throw new Error("Invalid track length, must size at least 4bytes");for(this.datas=new DataView(new Uint8Array(n.HDR_LENGTH+o).buffer),this.datas.setUint8(0,77),this.datas.setUint8(1,84),this.datas.setUint8(2,114),this.datas.setUint8(3,107),this.datas.setUint32(4,o),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r=new Uint8Array(this.datas.buffer,n.HDR_LENGTH,o),s=0,a=t.length;s<a;s++)r[s]=t[s]},e.exports=n},function(e,t){function r(e){return 240==(240&e)?4:224==(224&e)?3:192==(192&e)?2:e==(127&e)?1:0}function n(e,t,n){var s=0,a="";if(t=t||0,e.length-t<=0)throw new Error("No more characters remaining in array.");if(0==(n=n||r(e[t])))throw new Error(e[t].toString(2)+" is not a significative byte (offset:"+t+").");if(1===n)return e[t];if(e.length-t<n)throw new Error("Expected at least "+n+" bytes remaining in array.");if(a="00000000".slice(0,n)+1+"00000000".slice(n+1),e[t]&parseInt(a,2))throw Error("Index "+t+": A "+n+" bytes encoded char cannot encode the "+(n+1)+"th rank bit to 1.");for(a="0000".slice(0,n+1)+"11111111".slice(n+1),s+=(e[t]&parseInt(a,2))<<6*--n;n;){if(128!=(128&e[t+1])||64==(64&e[t+1]))throw Error("Index "+(t+1)+': Next bytes of encoded char must begin with a "10" bit sequence.');s+=(63&e[++t])<<6*--n}return s}function s(e,t,s,a){var o,i=[];for(t|=0,s="number"==typeof s?s:e.byteLength||e.length;t<s;t++){if(t+(o=r(e[t]))>s){if(a)throw Error("Index "+t+": Found a "+o+" bytes encoded char declaration but only "+(s-t)+" bytes are available.")}else i.push(String.fromCodePoint(n(e,t,o)));t+=o-1}return i.join("")}function a(e){if(e<128)return 1;if(e<2048)return 2;if(e<65536)return 3;if(e<2097152)return 4;throw new Error("CharCode "+e+" cannot be encoded with UTF8.")}function o(e,t,r,n){if(e|=0,t=t||[],r|=0,1==(n=n||a(e)))t[r]=e;else for(t[r++]=(parseInt("1111".slice(0,n),2)<<8-n)+(e>>>6*--n);n>0;)t[r++]=e>>>6*--n&63|128;return t}e.exports={isNotUTF8:function(e,t,r){try{s(e,t,r,!0)}catch(e){return!0}return!1},getCharLength:r,getCharCode:n,getStringFromBytes:s,getBytesForCharCode:a,setBytesFromCharCode:o,setBytesFromString:function(e,t,r,n,s){e=e||"",t=t||[],r|=0,n="number"==typeof n?n:t.byteLength||1/0;for(var i=0,l=e.length;i<l;i++){var u=a(e[i].codePointAt(0));if(s&&r+u>n)throw new Error('Not enought bytes to encode the char "'+e[i]+'" at the offset "'+r+'".');o(e[i].codePointAt(0),t,r,u),r+=u}return t}}},function(e,t,r){var n=r(141),s=r(142),a=r(144);e.exports=function(e){return function(t,r,o){return o&&"number"!=typeof o&&s(t,r,o)&&(r=o=void 0),t=a(t),void 0===r?(r=t,t=0):r=a(r),o=void 0===o?t<r?1:-1:a(o),n(t,r,o,e)}}},function(e,t){var r=Math.ceil,n=Math.max;e.exports=function(e,t,s,a){for(var o=-1,i=n(r((t-e)/(s||1)),0),l=Array(i);i--;)l[a?i:++o]=e,e+=s;return l}},function(e,t,r){var n=r(143),s=r(52),a=r(50),o=r(25);e.exports=function(e,t,r){if(!o(r))return!1;var i=typeof t;return!!("number"==i?s(r)&&a(t,r.length):"string"==i&&t in r)&&n(r[t],e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(32);e.exports=function(e){return e?(e=n(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,r){"use strict";r.r(t);var n=r(4),s=r.n(n),a=r(23),o=r.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=t,this.curEvent=t[0],this.pos=0,this.loopStartPos=null,this.elapsedLoops=0,this.curTick=0}var t,r,s;return t=e,(r=[{key:"loop",value:function(){this.curTick<1e6&&this.elapsedLoops<1e3&&(this.pos=this.loopStartPos,console.debug("Channel %d looped at tick %d (loop %d completed)",this.curEvent.channel,this.curTick,this.elapsedLoops),this.elapsedLoops++)}},{key:"next",value:function(){var e=this.events[this.pos++];return e?(this.curTick+=e.delta,e.type===n.EVENT_MIDI&&e.subtype===n.EVENT_MIDI_CONTROLLER&&(102===e.param1&&(this.loopStartPos=this.pos),103===e.param1&&this.loop()),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)):null}}])&&c(t.prototype,r),s&&c(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return 102===e.param1&&e.subtype===n.EVENT_MIDI_CONTROLLER&&e.type===n.EVENT_MIDI}function p(e){return 103===e.param1&&e.subtype===n.EVENT_MIDI_CONTROLLER&&e.type===n.EVENT_MIDI}function h(e){return 123===e.param1&&e.subtype===n.EVENT_MIDI_CONTROLLER&&e.type===n.EVENT_MIDI}function g(e,t,r){return{channel:t,track:e,playTime:r,type:n.EVENT_MIDI,subtype:n.EVENT_MIDI_CONTROLLER,param1:123,delta:0}}function b(e,t){for(var r=[],n=0,s=0;s<t.length;s++){var a=t[s];n+=a.delta;var o=Math.floor(n/1e3);h(a)?(r[o]="X",n+=1e3):m(a)?r[o]=">":p(a)?r[o]="<":null==r[o]?r[o]="·":"·"===r[o]?r[o]="-":"-"===r[o]&&(r[o]="=")}e=(""+e).padStart(2,"0");for(var i=[],l=0;l<r.length;l++)i[l]=r[l]||" ";console.debug("Track ".concat(e," |").concat(i.join(""),"|"))}o.a.prototype.getLoopedEvents=function(e){var t,r,n,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=0,l=[],u=this.header.getFormat(),c=this.header.getTickResolution(),d=!1,m=null,p=null;if(1!==u||1===this.tracks.length)for(r=0,n=this.tracks.length;r<n;r++){i=2===u&&i?i:0;var h=new f(e[r]);for(t=h.next();t;)i+=t.delta?t.delta*c/1e3:0,t.type===s.a.EVENT_META&&t.subtype===s.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),m&&t.type!==m||p&&(!t.subtype||t.subtype!==p)||(t.playTime=i,l.push(t)),t=h.next()}else{a=-1;var v=[];for(r=0,n=e.length;r<n;r++)b(r,e[r]),v[r]=new f(e[r]),v[r].curEvent=v[r].next();do{for(a=-1,r=0,n=v.length;r<n;r++)v[r].curEvent&&(-1===a||v[r].curEvent.delta<v[a].curEvent.delta||v[r].curEvent.delta===v[a].curEvent.delta&&v[r].elapsedLoops<v[a].elapsedLoops)&&(a=r);if(-1!==a){for(r=0,n=v.length;r<n;r++)r!==a&&v[r].curEvent&&(v[r].curEvent.delta-=v[a].curEvent.delta);i+=(t=v[a].curEvent).delta?t.delta*c/1e3:0,t.type===s.a.EVENT_META&&t.subtype===s.a.EVENT_META_SET_TEMPO&&(c=this.header.getTickResolution(t.tempo)),m&&t.type!==m||p&&(!t.subtype||t.subtype!==p)||(t.playTime=i,t.track=a,l.push(t)),v[a].curEvent=v[a].next(),d=v.every((function(e){return null==e.curEvent||e.elapsedLoops>=o}))}}while(-1!==a&&!1===d);for(var y=0;y<v.length;y++){var M;null!==(M=v[y])&&void 0!==M&&M.curEvent&&l.push(g(y,v[y].curEvent.channel,i))}}return console.debug(l),l},o.a.prototype.getTimeEvents=function(e){var t,r,n,a,o=0,i=[],l=this.header.getFormat(),u=this.header.getTickResolution(),c=[],d=0;if(console.log("MIDI format",l),1!==l||1===this.tracks.length)for(r=0,n=this.tracks.length;r<n;r++){o=2===l&&o?o:0;var m=new f(e[r]);for(t=m.next();t;)o+=t.delta?t.delta*u/1e3:0,t.type===s.a.EVENT_META&&(t.subtype===s.a.EVENT_META_SET_TEMPO&&(c.push({type:"bpm",bpm:t.tempoBPM,playTime:o}),u=this.header.getTickResolution(t.tempo)),t.subtype===s.a.EVENT_META_TIME_SIGNATURE&&c.push({type:"timeSignature",numerator:t.param1,denominatorPower:t.param2,playTime:o})),t.playTime=o,i.push(t),t=m.next()}else{a=-1;var p=[];for(r=0,n=e.length;r<n;r++)b(r,e[r]),p[r]=new f(e[r]),p[r].curEvent=p[r].next();do{for(a=-1,r=0,n=p.length;r<n;r++)p[r].curEvent&&(-1===a||p[r].curEvent.delta<p[a].curEvent.delta||p[r].curEvent.delta===p[a].curEvent.delta&&p[r].elapsedLoops<p[a].elapsedLoops)&&(a=r);if(-1!==a){for(r=0,n=p.length;r<n;r++)r!==a&&p[r].curEvent&&(p[r].curEvent.delta-=p[a].curEvent.delta);o+=(t=p[a].curEvent).delta?t.delta*u/1e3:0,t.type===s.a.EVENT_META&&(t.subtype===s.a.EVENT_META_SET_TEMPO&&(c.push({type:"bpm",bpm:t.tempoBPM,playTime:o}),u=this.header.getTickResolution(t.tempo)),t.subtype===s.a.EVENT_META_TIME_SIGNATURE&&c.push({type:"timeSignature",numerator:t.param1,denominatorPower:t.param2,playTime:o})),t.playTime=o,t.track=a,i.push(t),p[a].curEvent=p[a].next()}}while(-1!==a);for(var h=0;h<p.length;h++){var v;null!==(v=p[h])&&void 0!==v&&v.curEvent&&i.push(g(h,p[h].curEvent.channel,o))}}return i.forEach((function(e){var t=e.playTime;t&&(d=Math.max(t,d))})),c.push({type:"bpm",bpm:120,playTime:d}),c.sort((function(e,t){return e.playTime-t.playTime}))}},function(e,t,r){var n=r(147);e.exports=function(e,t,r){var s=e.length;return r=void 0===r?s:r,!t&&r>=s?e:n(e,t,r)}},function(e,t){e.exports=function(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}},function(e,t,r){var n=r(149);e.exports=function(e,t){for(var r=e.length;r--&&n(t,e[r],0)>-1;);return r}},function(e,t,r){var n=r(150),s=r(151),a=r(152);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,s,r)}},function(e,t){e.exports=function(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(154),s=r(155),a=r(156);e.exports=function(e){return s(e)?a(e):n(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+n+"|"+s+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,o,i].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[a+n+"?",n,o,i,r].join("|")+")",d=RegExp(s+"(?="+s+")|"+c+u,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,r){var n=r(57);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(20),o=r.n(a),i=(r(80),r(6));const l=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];function u(e,{exclude:t=[],...r}={}){return r.exclude=[...t,...l],Object(i.a)(e,r)}var c=r(58);class d{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class f{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new c.a;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(e)&&t.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&e(a,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,"[DEFAULT]"===n?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}var n;return r||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p=[];var h;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(h||(h={}));const g={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},b=h.INFO,v={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},y=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),s=v[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${n}]  ${e.name}:`,...r)};class M{constructor(e){this.name=e,this._logLevel=b,this._logHandler=y,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?g[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}}var _=r(11);let I,P;const N=new WeakMap,S=new WeakMap,E=new WeakMap,V=new WeakMap,w=new WeakMap;let T={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return S.get(e);if("objectStoreNames"===t)return e.objectStoreNames||E.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return x(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function O(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(R(this),t),x(N.get(this))}:function(...t){return x(e.apply(R(this),t))}:function(t,...r){const n=e.call(R(this),t,...r);return E.set(n,t.sort?t.sort():[t]),x(n)}}function k(e){return"function"==typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(S.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});S.set(e,t)}(e),t=e,(I||(I=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,T):e);var t}function x(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{t(x(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&N.set(t,e)}).catch(()=>{}),w.set(t,e),t}(e);if(V.has(e))return V.get(e);const t=k(e);return t!==e&&(V.set(e,t),w.set(t,e)),t}const R=e=>w.get(e);const A=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],D=new Map;function j(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(D.get(t))return D.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=C.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!s&&!A.includes(r))return;const a=async function(e,...t){const a=this.transaction(e,s?"readwrite":"readonly");let o=a.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),s&&a.done]))[0]};return D.set(t,a),a}T=(e=>({...e,get:(t,r,n)=>j(t,r)||e.get(t,r,n),has:(t,r)=>!!j(t,r)||e.has(t,r)}))(T);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class F{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const B="@firebase/app",L=new M("@firebase/app"),U={[B]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},q=new Map,z=new Map;function H(e,t){try{e.container.addComponent(t)}catch(r){L.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function W(e){const t=e.name;if(z.has(t))return L.debug(`There were multiple attempts to register component ${t}.`),!1;z.set(t,e);for(const t of q.values())H(t,e);return!0}function G(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},X=new _.a("app","Firebase",$);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class K{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new d("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw X.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t={}){let r=e;if("object"!=typeof t){t={name:t}}const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),s=n.name;if("string"!=typeof s||!s)throw X.create("bad-app-name",{appName:String(s)});if(r||(r=Object(_.e)()),!r)throw X.create("no-options");const a=q.get(s);if(a){if(Object(_.d)(r,a.options)&&Object(_.d)(n,a.config))return a;throw X.create("duplicate-app",{appName:s})}const o=new m(s);for(const e of z.values())o.addComponent(e);const i=new K(r,n,o);return q.set(s,i),i}function J(e="[DEFAULT]"){const t=q.get(e);if(!t&&"[DEFAULT]"===e&&Object(_.e)())return Y();if(!t)throw X.create("no-app",{appName:e});return t}function Q(e,t,r){var n;let s=null!==(n=U[e])&&void 0!==n?n:e;r&&(s+="-"+r);const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${s}" with version "${t}":`];return a&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void L.warn(e.join(" "))}W(new d(s+"-version",()=>({library:s,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=function(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(e,t),i=x(o);return n&&o.addEventListener("upgradeneeded",e=>{n(x(o.result),e.oldVersion,e.newVersion,x(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),i.then(e=>{a&&e.addEventListener("close",()=>a()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),i}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Z)}}}).catch(e=>{throw X.create("idb-open",{originalErrorMessage:e.message})})),ee}async function re(e,t){try{const r=(await te()).transaction(Z,"readwrite"),n=r.objectStore(Z);await n.put(t,ne(e)),await r.done}catch(e){if(e instanceof _.b)L.warn(e.message);else{const t=X.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});L.warn(t.message)}}}function ne(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ae();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ae(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){const r=[];let n=e.slice();for(const s of e){const e=r.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),ie(r)>t){e.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),ie(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=Object(_.c)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function ae(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Object(_.f)()&&Object(_.g)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){return await async function(e){try{const t=await te();return await t.transaction(Z).objectStore(Z).get(ne(e))}catch(e){if(e instanceof _.b)L.warn(e.message);else{const t=X.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});L.warn(t.message)}}}(this.app)||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function ie(e){return Object(_.c)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;le="",W(new d("platform-logger",e=>new F(e),"PRIVATE")),W(new d("heartbeat",e=>new se(e),"PRIVATE")),Q(B,"0.9.12",le),Q(B,"0.9.12","esm2017"),Q("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Q("firebase","9.22.2","app");var ue=r(1);function ce(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}Object.create;Object.create;function de(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fe=de,me=new ue.a("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new M("@firebase/auth");function he(e,...t){pe.logLevel<=h.ERROR&&pe.error("Auth (9.22.2): "+e,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e,...t){throw Me(e,...t)}function be(e,...t){return Me(e,...t)}function ve(e,t,r){const n=Object.assign(Object.assign({},fe()),{[t]:r});return new ue.a("auth","Firebase",n).create(t,{appName:e.name})}function ye(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&ge(e,"argument-error"),ve(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(e,...t){if("string"!=typeof e){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return me.create(e,...t)}function _e(e,t,...r){if(!e)throw Me(t,...r)}function Ie(e){const t="INTERNAL ASSERTION FAILED: "+e;throw he(t),new Error(t)}function Pe(e,t){e||Ie(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Se(){return"http:"===Ee()||"https:"===Ee()}function Ee(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ve{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pe(t>e,"Short delay should be less than long delay!"),this.isMobile=Object(ue.n)()||Object(ue.o)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Se()||Object(ue.k)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e,t){Pe(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new Ve(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Re(e,t,r,n,s={}){return Ae(e,s,async()=>{let s={},a={};n&&("GET"===t?a=n:s={body:JSON.stringify(n)});const o=Object(ue.p)(Object.assign({key:e.config.apiKey},a)).slice(1),i=await e._getAdditionalHeaders();return i["Content-Type"]="application/json",e.languageCode&&(i["X-Firebase-Locale"]=e.languageCode),Te.fetch()(De(e,e.config.apiHost,r,o),Object.assign({method:t,headers:i,referrerPolicy:"no-referrer"},s))})}async function Ae(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},Oe),t);try{const t=new je(e),s=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Fe(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const t=s.ok?a.errorMessage:a.error.message,[r,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw Fe(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===r)throw Fe(e,"email-already-in-use",a);if("USER_DISABLED"===r)throw Fe(e,"user-disabled",a);const i=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ve(e,i,o);ge(e,i)}}catch(t){if(t instanceof ue.b)throw t;ge(e,"network-request-failed",{message:String(t)})}}async function Ce(e,t,r,n,s={}){const a=await Re(e,t,r,n,s);return"mfaPendingCredential"in a&&ge(e,"multi-factor-auth-required",{_serverResponse:a}),a}function De(e,t,r,n){const s=`${t}${r}?${n}`;return e.config.emulator?we(e.config,s):`${e.config.apiScheme}://${s}`}class je{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(be(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fe(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=be(e,t,n);return s.customData._tokenResponse=r,s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Be(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return 1e3*Number(e)}function Ue(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return he("JWT malformed, contained fewer than 3 sections"),null;try{const e=Object(ue.c)(r);return e?JSON.parse(e):(he("Failed to decode base64 JWT payload"),null)}catch(e){return he("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function qe(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof ue.b&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ze{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Be(this.lastLoginAt),this.creationTime=Be(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function We(e){var t;const r=e.auth,n=await e.getIdToken(),s=await qe(e,async function(e,t){return Re(e,"POST","/v1/accounts:lookup",t)}(r,{idToken:n}));_e(null==s?void 0:s.users.length,r,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map(e=>{var{providerId:t}=e,r=ce(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}):[];const i=(l=e.providerData,u=o,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&a.passwordHash||(null==i?void 0:i.length)),f=!!c&&d,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new He(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(e,m)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(void 0!==e.idToken,"internal-error"),_e(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ue(e);return _e(t,"internal-error"),_e(void 0!==t.exp,"internal-error"),_e(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:s}=await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){const r=await Ae(e,{},async()=>{const r=Object(ue.p)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:s}=e.config,a=De(e,n,"/v1/token","key="+s),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Te.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:s}=t,a=new Ge;return r&&(_e("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),n&&(_e("string"==typeof n,"internal-error",{appName:e}),a.accessToken=n),s&&(_e("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return Ie("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e,t){_e("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Xe{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,s=ce(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ze(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new He(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await qe(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const r=Object(ue.i)(e),n=await r.getIdToken(t),s=Ue(n);_e(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a="object"==typeof s.firebase?s.firebase:void 0,o=null==a?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:Be(Le(s.auth_time)),issuedAtTime:Be(Le(s.iat)),expirationTime:Be(Le(s.exp)),signInProvider:o||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Object(ue.i)(e);await We(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xe(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await We(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qe(this,async function(e,t){return Re(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,s,a,o,i,l,u;const c=null!==(r=t.displayName)&&void 0!==r?r:void 0,d=null!==(n=t.email)&&void 0!==n?n:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,m=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,h=null!==(i=t._redirectEventId)&&void 0!==i?i:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:y,isAnonymous:M,providerData:_,stsTokenManager:I}=t;_e(v&&I,e,"internal-error");const P=Ge.fromJSON(this.name,I);_e("string"==typeof v,e,"internal-error"),$e(c,e.name),$e(d,e.name),_e("boolean"==typeof y,e,"internal-error"),_e("boolean"==typeof M,e,"internal-error"),$e(f,e.name),$e(m,e.name),$e(p,e.name),$e(h,e.name),$e(g,e.name),$e(b,e.name);const N=new Xe({uid:v,auth:e,email:d,emailVerified:y,displayName:c,isAnonymous:M,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:P,createdAt:g,lastLoginAt:b});return _&&Array.isArray(_)&&(N.providerData=_.map(e=>Object.assign({},e))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,t,r=!1){const n=new Ge;n.updateFromServerResponse(t);const s=new Xe({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await We(s),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke=new Map;function Ye(e){Pe(e instanceof Function,"Expected a class definition");let t=Ke.get(e);return t?(Pe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ke.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Je.type="NONE";const Qe=Je;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e,t,r){return`firebase:${e}:${t}:${r}`}class et{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:s}=this.auth;this.fullUserKey=Ze(this.userKey,n.apiKey,s),this.fullPersistenceKey=Ze("persistence",n.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xe._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new et(Ye(Qe),e,r);const n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=n[0]||Ye(Qe);const a=Ze(r,e.config.apiKey,e.name);let o=null;for(const r of t)try{const t=await r._get(a);if(t){const n=Xe._fromJSON(e,t);r!==s&&(o=n),s=r;break}}catch(e){}const i=n.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&i.length?(s=i[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(a)}catch(e){}})),new et(s,e,r)):new et(s,e,r)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(at(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(it(t))return"Blackberry";if(lt(t))return"Webos";if(nt(t))return"Safari";if((t.includes("chrome/")||st(t))&&!t.includes("edge/"))return"Chrome";if(ot(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function rt(e=Object(ue.j)()){return/firefox\//i.test(e)}function nt(e=Object(ue.j)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function st(e=Object(ue.j)()){return/crios\//i.test(e)}function at(e=Object(ue.j)()){return/iemobile/i.test(e)}function ot(e=Object(ue.j)()){return/android/i.test(e)}function it(e=Object(ue.j)()){return/blackberry/i.test(e)}function lt(e=Object(ue.j)()){return/webos/i.test(e)}function ut(e=Object(ue.j)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ct(e=Object(ue.j)()){return ut(e)||ot(e)||lt(e)||it(e)||/windows phone/i.test(e)||at(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(e,t=[]){let r;switch(e){case"Browser":r=tt(Object(ue.j)());break;case"Worker":r=`${tt(Object(ue.j)())}-${e}`;break;default:r=e}return`${r}/JsCore/9.22.2/${t.length?t.join(","):"FirebaseCore-web"}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ft(e,t){return Re(e,"GET","/v2/recaptchaConfig",xe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e){return void 0!==e&&void 0!==e.enterprise}class pt{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return new Promise((t,r)=>{const n=document.createElement("script");var s,a;n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=be("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",(null!==(a=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==a?a:document).appendChild(n)})}function gt(e){return`__${e}${Math.floor(1e6*Math.random())}`}class bt{constructor(e){this.type="recaptcha-enterprise",this.auth=_t(e)}async verify(e="verify",t=!1){function r(t,r,n){const s=window.grecaptcha;mt(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r("NO_RECAPTCHA")})}):n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{ft(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0!==n.recaptchaKey){const r=new pt(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{r(e)})})})(this.auth).then(s=>{if(!t&&mt(window.grecaptcha))r(s,e,n);else{if("undefined"==typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));ht("https://www.google.com/recaptcha/enterprise.js?render="+s).then(()=>{r(s,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function vt(e,t,r,n=!1){const s=new bt(e);let a;try{a=await s.verify(r)}catch(e){a=await s.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise((r,n)=>{try{r(e(t))}catch(e){n(e)}});r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new It(this),this.idTokenSubscription=new It(this),this.beforeStateQueue=new yt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ye(t)),this._initializationPromise=this.queue(async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await et.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==a||!(null==o?void 0:o.user)||(n=o.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await We(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Object(ue.i)(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ye(e))})}async initializeRecaptchaConfig(){const e=await ft(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new pt(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new bt(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ue.a("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ye(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await et.create(this,[Ye(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,n):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){pe.logLevel<=h.WARN&&pe.warn("Auth (9.22.2): "+e,...t)}("Error while retrieving App Check token: "+t.error),null==t?void 0:t.token}}function _t(e){return Object(ue.i)(e)}class It{constructor(e){this.auth=e,this.observer=null,this.addObserver=Object(ue.d)(e=>this.observer=e)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e,t,r){const n=_t(e);_e(n._canInitEmulator,n,"emulator-config-failed"),_e(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!!(null==r?void 0:r.disableWarnings),a=Nt(t),{host:o,port:i}=function(e){const t=Nt(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const e=s[1];return{host:e,port:St(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:St(t)}}}(t),l=null===i?"":":"+i;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:i,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Nt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function St(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Et{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ie("not implemented")}_getIdTokenResponse(e){return Ie("not implemented")}_linkToIdToken(e,t){return Ie("not implemented")}_getReauthenticationResolver(e){return Ie("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vt(e,t){return Re(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function wt(e,t){return Ce(e,"POST","/v1/accounts:signInWithPassword",xe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tt extends Et{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new Tt(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Tt(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await vt(e,r,"signInWithPassword");return wt(e,t)}return wt(e,r).catch(async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await vt(e,r,"signInWithPassword");return wt(e,t)}return Promise.reject(t)});case"emailLink":
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithEmailLink",xe(e,t))}(e,{email:this._email,oobCode:this._password});default:ge(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithEmailLink",xe(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ge(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ot(e,t){return Ce(e,"POST","/v1/accounts:signInWithIdp",xe(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ge("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,s=ce(t,["providerId","signInMethod"]);if(!r||!n)return null;const a=new kt(r,n);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Ot(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ot(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(ue.p)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt={USER_NOT_FOUND:"user-not-found"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Rt extends Et{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Rt({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Rt({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",xe(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",xe(e,t));if(r.temporaryProof)throw Fe(e,"account-exists-with-different-credential",r);return r}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ce(e,"POST","/v1/accounts:signInWithPhoneNumber",xe(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),xt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:s}=e;return r||t||n||s?new Rt({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:s}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){var t,r,n,s,a,o;const i=Object(ue.q)(Object(ue.f)(e)),l=null!==(t=i.apiKey)&&void 0!==t?t:null,u=null!==(r=i.oobCode)&&void 0!==r?r:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=i.mode)&&void 0!==n?n:null);_e(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(s=i.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=i.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=i.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Object(ue.q)(Object(ue.f)(e)).link,r=t?Object(ue.q)(Object(ue.f)(t)).deep_link_id:null,n=Object(ue.q)(Object(ue.f)(e)).deep_link_id;return(n?Object(ue.q)(Object(ue.f)(n)).link:null)||n||r||t||e}(e);try{return new At(t)}catch(e){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ct{constructor(){this.providerId=Ct.PROVIDER_ID}static credential(e,t){return Tt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=At.parseLink(t);return _e(r,"argument-error"),Tt._fromEmailAndCode(e,r.code,r.tenantId)}}Ct.PROVIDER_ID="password",Ct.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ct.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ft extends jt{constructor(){super("facebook.com")}static credential(e){return kt._fromParams({providerId:Ft.PROVIDER_ID,signInMethod:Ft.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ft.credentialFromTaggedObject(e)}static credentialFromError(e){return Ft.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ft.credential(e.oauthAccessToken)}catch(e){return null}}}Ft.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ft.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bt extends jt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kt._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bt.credentialFromTaggedObject(e)}static credentialFromError(e){return Bt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Bt.credential(t,r)}catch(e){return null}}}Bt.GOOGLE_SIGN_IN_METHOD="google.com",Bt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lt extends jt{constructor(){super("github.com")}static credential(e){return kt._fromParams({providerId:Lt.PROVIDER_ID,signInMethod:Lt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lt.credentialFromTaggedObject(e)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Lt.credential(e.oauthAccessToken)}catch(e){return null}}}Lt.GITHUB_SIGN_IN_METHOD="github.com",Lt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ut extends jt{constructor(){super("twitter.com")}static credential(e,t){return kt._fromParams({providerId:Ut.PROVIDER_ID,signInMethod:Ut.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ut.credentialFromTaggedObject(e)}static credentialFromError(e){return Ut.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ut.credential(t,r)}catch(e){return null}}}Ut.TWITTER_SIGN_IN_METHOD="twitter.com",Ut.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){const s=await Xe._fromIdTokenResponse(e,r,n),a=zt(r);return new qt({user:s,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=zt(r);return new qt({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function zt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ht extends ue.b{constructor(e,t,r,n){var s;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,Ht.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new Ht(e,t,r,n)}}function Wt(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw Ht._fromErrorAndOperation(e,r,t,n);throw r})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gt(e,t,r=!1){const n=await qe(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return qt._forOperation(e,"link",n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function $t(e,t,r=!1){const{auth:n}=e;try{const s=await qe(e,Wt(n,"reauthenticate",t,e),r);_e(s.idToken,n,"internal-error");const a=Ue(s.idToken);_e(a,n,"internal-error");const{sub:o}=a;return _e(e.uid===o,n,"user-mismatch"),qt._forOperation(e,"reauthenticate",s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ge(n,"user-mismatch"),e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xt(e,t,r=!1){const n=await Wt(e,"signIn",t),s=await qt._fromIdTokenResponse(e,"signIn",n);return r||await e._updateCurrentUser(s.user),s}new WeakMap;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends Kt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Object(ue.j)();return nt(e)||ut(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});const r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const n=this.storage.getItem(r);if(e.newValue!==n)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},s=this.storage.getItem(r);Object(ue.m)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yt.type="LOCAL";const Jt=Yt;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends Kt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qt.type="SESSION";const Zt=Qt;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class er{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const r=new er(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:s}=t.data,a=this.handlersMap[n];if(!(null==a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const o=Array.from(a).map(async e=>e(t.origin,s)),i=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tr(e="",t=10){let r="";for(let e=0;e<t;e++)r+=Math.floor(10*Math.random());return e+r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.receivers=[];class rr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let s,a;return new Promise((o,i)=>{const l=tr("",20);n.port1.start();const u=setTimeout(()=>{i(new Error("unsupported_event"))},r);a={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{i(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(u),clearTimeout(s),i(new Error("invalid_response"))}}},this.handlers.add(a),n.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function sr(){return void 0!==nr().WorkerGlobalScope&&"function"==typeof nr().importScripts}class ar{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function or(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function ir(){const e=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains("firebaseLocalStorage")?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new ar(e).toPromise()}(),t(await ir()))})})}async function lr(e,t,r){const n=or(e,!0).put({fbase_key:t,value:r});return new ar(n).toPromise()}function ur(e,t){const r=or(e,!0).delete(t);return new ar(r).toPromise()}class cr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ir()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=er._getInstance(sr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new rr(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=r[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ir();return await lr(e,"__sak","1"),await ur(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>lr(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const r=or(e,!1).get(t),n=await new ar(r).toPromise();return void 0===n?null:n.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ur(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=or(e,!1).getAll();return new ar(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;for(const{fbase_key:n,value:s}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(s)&&(this.notifyListeners(n,s),t.push(n));for(const e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}cr.type="LOCAL";const dr=cr;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
gt("rcb"),new Ve(3e4,6e4);async function fr(e,t,r){var n;const s=await r.verify();try{let a;if(_e("string"==typeof s,e,"argument-error"),_e("recaptcha"===r.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){_e("enroll"===t.type,e,"internal-error");return(await
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return Re(e,"POST","/v2/accounts/mfaEnrollment:start",xe(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo}{_e("signin"===t.type,e,"internal-error");const r=(null===(n=a.multiFactorHint)||void 0===n?void 0:n.uid)||a.multiFactorUid;_e(r,e,"missing-multi-factor-info");return(await function(e,t){return Re(e,"POST","/v2/accounts/mfaSignIn:start",xe(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:r,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Re(e,"POST","/v1/accounts:sendVerificationCode",xe(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:s});return t}}finally{r._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mr{constructor(e){this.providerId=mr.PROVIDER_ID,this.auth=_t(e)}verifyPhoneNumber(e,t){return fr(this.auth,e,Object(ue.i)(t))}static credential(e,t){return Rt._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mr.credentialFromTaggedObject(t)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Rt._fromTokenResponse(t,r):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pr(e,t){return t?Ye(t):(_e(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.PROVIDER_ID="phone",mr.PHONE_SIGN_IN_METHOD="phone";class hr extends Et{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ot(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ot(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ot(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gr(e){return Xt(e.auth,new hr(e),e.bypassAuthState)}function br(e){const{auth:t,user:r}=e;return _e(r,t,"internal-error"),$t(r,new hr(e),e.bypassAuthState)}async function vr(e){const{auth:t,user:r}=e;return _e(r,t,"internal-error"),Gt(r,new hr(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t,r,n,s=!1){this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:s,error:a,type:o}=e;if(a)return void this.reject(a);const i={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(i))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return br;default:ge(this.auth,"internal-error")}}resolve(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Ve(2e3,1e4);class _r extends yr{constructor(e,t,r,n,s){super(e,t,n,s),this.provider=r,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Pe(1===this.filter.length,"Popup operations only handle one event");const e=tr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(be(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;(null===(r=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===r?void 0:r.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Mr.get())};e()}}_r.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ir=new Map;class Pr extends yr{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ir.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=Er(t),n=Sr(e);if(!await n._isAvailable())return!1;const s="true"===await n._get(r);return await n._remove(r),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ir.set(this.auth._key(),e)}return this.bypassAuthState||Ir.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Nr(e,t){Ir.set(e._key(),t)}function Sr(e){return Ye(e._redirectPersistence)}function Er(e){return Ze("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(e,t,r=!1){const n=_t(e),s=pr(n,t),a=new Pr(n,s,r),o=await a.execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}class wr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Or(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Or(e)){const n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(be(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tr(e))}saveEventToCache(e){this.cachedEventUids.add(Tr(e)),this.lastProcessedEventTime=Date.now()}}function Tr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Or({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xr=/^https?/;async function Rr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Re(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Ar(e))return}catch(e){}ge(e,"unauthorized-domain")}function Ar(e){const t=Ne(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&s.hostname===n}if(!xr.test(r))return!1;if(kr.test(e))return n===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new Ve(3e4,6e4);function Dr(){const e=nr().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let jr=null;function Fr(e){return jr=jr||function(e){return new Promise((t,r)=>{var n,s,a;function o(){Dr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Dr(),r(be(e,"network-request-failed"))},timeout:Cr.get()})}if(null===(s=null===(n=nr().gapi)||void 0===n?void 0:n.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=nr().gapi)||void 0===a?void 0:a.load)){const t=gt("iframefcb");return nr()[t]=()=>{gapi.load?o():r(be(e,"network-request-failed"))},ht("https://apis.google.com/js/api.js?onload="+t).catch(e=>r(e))}o()}}).catch(e=>{throw jr=null,e})}(e),jr}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Ve(5e3,15e3),Lr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ur=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qr(e){const t=e.config;_e(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?we(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,n={apiKey:t.apiKey,appName:e.name,v:"9.22.2"},s=Ur.get(e.config.apiHost);s&&(n.eid=s);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Object(ue.p)(n).slice(1)}`}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const zr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Wr(e,t,r,n=500,s=600){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let i="";const l=Object.assign(Object.assign({},zr),{width:n.toString(),height:s.toString(),top:a,left:o}),u=Object(ue.j)().toLowerCase();r&&(i=st(u)?"_blank":r),rt(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,[t,r])=>`${e}${t}=${r},`,"");if(function(e=Object(ue.j)()){var t;return ut(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==i)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",i),new Hr(null);const d=window.open(t||"",i,c);_e(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Hr(d)}const Gr=encodeURIComponent("fac");async function $r(e,t,r,n,s,a){_e(e.config.authDomain,e,"auth-domain-config-required"),_e(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:"9.22.2",eventId:s};if(t instanceof Dt){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(ue.l)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof jt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const i=o;for(const e of Object.keys(i))void 0===i[e]&&delete i[e];const l=await e._getAppCheckToken(),u=l?`#${Gr}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/__/auth/handler`;return we(e,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Object(ue.p)(i).slice(1)}${u}`}const Xr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zt,this._completeRedirectFn=Vr,this._overrideRedirectResult=Nr}async _openPopup(e,t,r,n){var s;Pe(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Wr(e,await $r(e,t,r,Ne(),n),tr())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function(e){nr().location.href=e}(await $r(e,t,r,Ne(),n)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(Pe(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await async function(e){const t=await Fr(e),r=nr().gapi;return _e(r,e,"internal-error"),t.open({where:document.body,url:qr(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lr,dontclear:!0},t=>new Promise(async(r,n)=>{await t.restyle({setHideOnLeave:!1});const s=be(e,"network-request-failed"),a=nr().setTimeout(()=>{n(s)},Br.get());function o(){nr().clearTimeout(a),r(t)}t.ping(o).then(o,()=>{n(s)})}))}(e),r=new wr(e);return t.register("authEvent",t=>{_e(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},r=>{var n;const s=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.webStorageSupport;void 0!==s&&t(!!s),ge(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ct()||nt()||ut()}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Yr=Object(ue.h)("authIdTokenMaxAge")||300;let Jr=null;function Qr(e=J()){const t=G(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=G(e,"auth");if(r.isInitialized()){const e=r.getImmediate(),n=r.getOptions();if(Object(ue.e)(n,null!=t?t:{}))return e;ge(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:Xr,persistence:[dr,Jt,Zt]}),n=Object(ue.h)("authTokenSyncURL");if(n){const e=(s=n,async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Yr)return;const n=null==t?void 0:t.token;Jr!==n&&(Jr=n,await fetch(s,{method:n?"POST":"DELETE",headers:n?{Authorization:"Bearer "+n}:{}}))});!function(e,t,r){Object(ue.i)(e).beforeAuthStateChanged(t,r)}(r,e,()=>e(r.currentUser)),function(e,t,r,n){Object(ue.i)(e).onIdTokenChanged(t,r,n)}(r,t=>e(t))}var s;const a=Object(ue.g)("auth");return a&&Pt(r,"http://"+a),r}var Zr;Zr="Browser",W(new d("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const i={apiKey:a,authDomain:o,clientPlatform:Zr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(Zr)},l=new Mt(r,n,s,i);return function(e,t){const r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ye);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),W(new d("auth-internal",e=>(e=>new Kr(e))(_t(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Q("@firebase/auth","0.23.2",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Zr)),Q("@firebase/auth","0.23.2","esm2017");var en=r(5);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let rn="9.22.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new M("@firebase/firestore");function sn(e,...t){if(nn.logLevel<=h.DEBUG){const r=t.map(ln);nn.debug(`Firestore (${rn}): ${e}`,...r)}}function an(e,...t){if(nn.logLevel<=h.ERROR){const r=t.map(ln);nn.error(`Firestore (${rn}): ${e}`,...r)}}function on(e,...t){if(nn.logLevel<=h.WARN){const r=t.map(ln);nn.warn(`Firestore (${rn}): ${e}`,...r)}}function ln(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e="Unexpected state"){const t=`FIRESTORE (${rn}) INTERNAL ASSERTION FAILED: `+e;throw an(t),new Error(t)}function cn(e,t){e||un()}function dn(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="cancelled",mn="unknown",pn="invalid-argument",hn="deadline-exceeded",gn="permission-denied",bn="unauthenticated",vn="failed-precondition",yn="aborted",Mn="out-of-range",_n="unimplemented",In="internal",Pn="unavailable";class Nn extends en.a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Sn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer "+e)}}class En{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class Vn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wn{constructor(e){this.auth=null,e.onInit(e=>{this.auth=e})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(cn("string"==typeof e.accessToken),new Sn(e.accessToken,new tn(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class Tn{constructor(e,t,r){this.t=e,this.i=t,this.o=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class On{constructor(e,t,r){this.t=e,this.i=t,this.o=r}getToken(){return Promise.resolve(new Tn(this.t,this.i,this.o))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xn{constructor(e){this.l=e,this.appCheck=null,e.onInit(e=>{this.appCheck=e})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(cn("string"==typeof e.token),new kn(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t,r,n,s,a,o,i,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=i,this.useFetchStreams=l}}class An{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new An("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof An&&e.projectId===this.projectId&&e.database===this.database}}class Cn{constructor(e,t,r){void 0===t?t=0:t>e.length&&un(),void 0===r?r=e.length-t:r>e.length-t&&un(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=e.get(n),s=t.get(n);if(r<s)return-1;if(r>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dn extends Cn{construct(e,t,r){return new Dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Nn(pn,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new Dn(t)}static emptyPath(){return new Dn([])}}const jn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Cn{construct(e,t,r){return new Fn(e,t,r)}static isValidIdentifier(e){return jn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const t=[];let r="",n=0;const s=()=>{if(0===r.length)throw new Nn(pn,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new Nn(pn,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nn(pn,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(a=!a,n++):"."!==t||a?(r+=t,n++):(s(),n++)}if(s(),a)throw new Nn(pn,"Unterminated ` in path: "+e);return new Fn(t)}static emptyPath(){return new Fn([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.path=e}static fromPath(e){return new Bn(Dn.fromString(e))}static fromName(e){return new Bn(Dn.fromString(e).popFirst(5))}static empty(){return new Bn(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bn(new Dn(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e,t,r){if(!r)throw new Nn(pn,`Function ${e}() cannot be called with an empty ${t}.`)}function Un(e){if(!Bn.isDocumentKey(e))throw new Nn(pn,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qn(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":un()}function zn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nn(pn,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qn(e);throw new Nn(pn,`Expected type '${t.name}', but it was: ${r}`)}}return e}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hn(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}let Wn=null;function Gn(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn,Kn;function Yn(e){if(void 0===e)return an("RPC_ERROR","HTTP error has no status"),mn;switch(e){case 200:return"ok";case 400:return vn;case 401:return bn;case 403:return gn;case 404:return"not-found";case 409:return yn;case 416:return Mn;case 429:return"resource-exhausted";case 499:return fn;case 500:return mn;case 501:return _n;case 503:return Pn;case 504:return hn;default:return e>=200&&e<300?"ok":e>=400&&e<500?vn:e>=500&&e<600?In:mn}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Kn=Xn||(Xn={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";class Jn extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.m=t+"://"+e.host,this.p="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get g(){return!1}v(e,t,r,n,s){const a=(null===Wn?Wn=268435456+Math.round(2147483648*Math.random()):Wn++,"0x"+Wn.toString(16)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */),o=this.I(e,t);sn("RestConnection",`Sending RPC '${e}' ${a}:`,o,r);const i={};return this.T(i,n,s),this.A(e,o,i,r).then(t=>(sn("RestConnection",`Received RPC '${e}' ${a}: `,t),t),t=>{throw on("RestConnection",`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",r),t})}R(e,t,r,n,s,a){return this.v(e,t,r,n,s)}T(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+rn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}I(e,t){const r=$n[e];return`${this.m}/v1/${t}:${r}`}}{constructor(e,t){super(e),this.P=t}V(e,t){throw new Error("Not supported by FetchConnection")}async A(e,t,r,n){var s;const a=JSON.stringify(n);let o;try{o=await this.P(t,{method:"POST",headers:r,body:a})}catch(e){const t=e;throw new Nn(Yn(t.status),"Request failed with error: "+t.statusText)}if(!o.ok){let e=await o.json();Array.isArray(e)&&(e=e[0]);const t=null===(s=null==e?void 0:e.error)||void 0===s?void 0:s.message;throw new Nn(Yn(o.status),"Request failed with error: "+(null!=t?t:o.statusText))}return o.json()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let t=0;t<e;t++)r[t]=Math.floor(256*Math.random());return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const n=Qn(40);for(let s=0;s<n.length;++s)r.length<20&&n[s]<t&&(r+=e.charAt(n[s]%e.length))}return r}}function es(e,t){return e<t?-1:e>t?1:0}function ts(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ns(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ss("Invalid base64 string: "+e):e}}(e);return new as(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new as(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return es(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}as.EMPTY_BYTE_STRING=new as("");const os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(e){if(cn(!!e),"string"==typeof e){let t=0;const r=os.exec(e);if(cn(!!r),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ls(e.seconds),nanos:ls(e.nanos)}}function ls(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function us(e){return"string"==typeof e?as.fromBase64String(e):as.fromUint8Array(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nn(pn,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nn(pn,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nn(pn,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nn(pn,"Timestamp seconds out of range: "+e)}static now(){return cs.fromMillis(Date.now())}static fromDate(e){return cs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new cs(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?es(this.nanoseconds,e.nanoseconds):es(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function fs(e){const t=is(e.mapValue.fields.__local_write_time__.timestampValue);return new cs(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ds(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:10:un()}function ps(e,t){if(e===t)return!0;const r=ms(e);if(r!==ms(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fs(e).isEqual(fs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=is(e.timestampValue),n=is(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return us(e.bytesValue).isEqual(us(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ls(e.geoPointValue.latitude)===ls(t.geoPointValue.latitude)&&ls(e.geoPointValue.longitude)===ls(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ls(e.integerValue)===ls(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=ls(e.doubleValue),n=ls(t.doubleValue);return r===n?Gn(r)===Gn(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return ts(e.arrayValue.values||[],t.arrayValue.values||[],ps);case 10:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(rs(r)!==rs(n))return!1;for(const e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!ps(r[e],n[e])))return!1;return!0}(e,t);default:return un()}}function hs(e){return!!e&&"mapValue"in e}function gs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ns(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=gs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=gs(e.arrayValue.values[r]);return t}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bs(e)}static min(){return new bs(new cs(0,0))}static max(){return new bs(new cs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.comparator=e,this.root=t||Ms.EMPTY}insert(e,t){return new vs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ms.BLACK,null,null))}remove(e){return new vs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}}class ys{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&n&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ms{constructor(e,t,r,n,s){this.key=e,this.value=t,this.color=null!=r?r:Ms.RED,this.left=null!=n?n:Ms.EMPTY,this.right=null!=s?s:Ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,s){return new Ms(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const s=r(e,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===s?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return Ms.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw un();if(this.right.isRed())throw un();const e=this.left.check();if(e!==this.right.check())throw un();return e+(this.isRed()?0:1)}}Ms.EMPTY=null,Ms.RED=!0,Ms.BLACK=!1,Ms.EMPTY=new class{constructor(){this.size=0}get key(){throw un()}get value(){throw un()}get color(){throw un()}get left(){throw un()}get right(){throw un()}copy(e,t,r,n,s){return this}insert(e,t,r){return new Ms(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _s{constructor(e){this.comparator=e,this.data=new vs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Is(this.data.getIterator())}getIteratorFrom(e){return new Is(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof _s))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _s(this.comparator);return t.data=e,t}}class Is{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Ps([])}unionWith(e){let t=new _s(Fn.comparator);for(const e of this.fields)t=t.add(e);for(const r of e)t=t.add(r);return new Ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ts(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gs(t)}setAll(e){let t=Fn.emptyPath(),r={},n=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=s.popLast()}e?r[s.lastSegment()]=gs(e):n.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,n)}delete(e){const t=this.field(e.popLast());hs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];hs(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){ns(t,(t,r)=>e[t]=r);for(const t of r)delete e[t]}clone(){return new Ns(gs(this.value))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,r,n,s,a,o){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ss(e,0,bs.min(),bs.min(),bs.min(),Ns.empty(),0)}static newFoundDocument(e,t,r,n){return new Ss(e,1,t,bs.min(),r,n,0)}static newNoDocument(e,t){return new Ss(e,2,t,bs.min(),bs.min(),Ns.empty(),0)}static newUnknownDocument(e,t){return new Ss(e,3,t,bs.min(),bs.min(),Ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ss&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ss(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Es{constructor(e,t=null,r=[],n=[],s=null,a="F",o=null,i=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=i,this.q=null,this.O=null,this.startAt,this.endAt}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Vs(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Gn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?function(e){return{integerValue:""+e}}(t):function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gn(t)?"-0":t}}(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this._=void 0}}class Ts extends ws{}class Os extends ws{constructor(e){super(),this.elements=e}}class ks extends ws{constructor(e){super(),this.elements=e}}class xs extends ws{constructor(e,t){super(),this.serializer=e,this.k=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rs}static exists(e){return new Rs(void 0,e)}static updateTime(e){return new Rs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class As{}class Cs extends As{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Ds extends As{constructor(e,t,r,n,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}class js extends As{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fs extends As{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ls(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Us(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qs(e,t){return Ls(e,t.toTimestamp())}function zs(e){return cn(!!e),bs.fromTimestamp(function(e){const t=is(e);return new cs(t.seconds,t.nanos)}(e))}function Hs(e,t){return function(e){return new Dn(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ws(e,t){return Hs(e.databaseId,t.path)}function Gs(e,t){const r=function(e){const t=Dn.fromString(e);return cn(Ys(t)),t}(t);if(r.get(1)!==e.databaseId.projectId)throw new Nn(pn,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Nn(pn,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Bn((cn((n=r).length>4&&"documents"===n.get(4)),n.popFirst(5)));var n}function $s(e){return new Dn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Xs(e,t,r){return{name:Ws(e,t),fields:r.value.mapValue.fields}}function Ks(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ys(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(e){return new Bs(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qs extends class{}{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.J=!1}X(){if(this.J)throw new Nn(vn,"The client has already been terminated.")}v(e,t,r){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([n,s])=>this.connection.v(e,t,r,n,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===bn&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nn(mn,e.toString())})}R(e,t,r,n){return this.X(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.R(e,t,r,s,a,n)).catch(e=>{throw"FirebaseError"===e.name?(e.code===bn&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nn(mn,e.toString())})}terminate(){this.J=!0}}async function Zs(e,t){const r=dn(e),n=$s(r.serializer)+"/documents",s={writes:t.map(e=>function(e,t){let r;if(t instanceof Cs)r={update:Xs(e,t.key,t.value)};else if(t instanceof js)r={delete:Ws(e,t.key)};else if(t instanceof Ds)r={update:Xs(e,t.key,t.data),updateMask:Ks(t.fieldMask)};else{if(!(t instanceof Fs))return un();r={verify:Ws(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const r=t.transform;if(r instanceof Ts)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof Os)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof ks)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof xs)return{fieldPath:t.field.canonicalString(),increment:r.k};throw un()}(0,e))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:un()}(e,t.precondition)),r}(r.serializer,e))};await r.v("Commit",n,s)}async function ea(e,t){const r=dn(e),n=$s(r.serializer)+"/documents",s={documents:t.map(e=>Ws(r.serializer,e))},a=await r.R("BatchGetDocuments",n,s,t.length),o=new Map;a.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){cn(!!t.found),t.found.name,t.found.updateTime;const r=Gs(e,t.found.name),n=zs(t.found.updateTime),s=t.found.createTime?zs(t.found.createTime):bs.min(),a=new Ns({mapValue:{fields:t.found.fields}});return Ss.newFoundDocument(r,n,s,a)}(e,t):"missing"in t?function(e,t){cn(!!t.missing),cn(!!t.readTime);const r=Gs(e,t.missing),n=zs(t.readTime);return Ss.newNoDocument(r,n)}(e,t):un()}(r.serializer,e);o.set(t.key.toString(),t)});const i=[];return t.forEach(e=>{const t=o.get(e.toString());cn(!!t),i.push(t)}),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ta=new Map;function ra(e){if(e._terminated)throw new Nn(vn,"The client has already been terminated.");if(!ta.has(e)){sn("ComponentProvider","Initializing Datastore");const a=function(e){return new Jn(e,fetch.bind(null))}((t=e._databaseId,r=e.app.options.appId||"",n=e._persistenceKey,s=e._freezeSettings(),new Rn(t,r,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Hn(s.experimentalLongPollingOptions),s.useFetchStreams))),o=Js(e._databaseId),i=function(e,t,r,n){return new Qs(e,t,r,n)}(e._authCredentials,e._appCheckCredentials,a,o);ta.set(e,i)}var t,r,n,s;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return ta.get(e)}class na{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Nn(pn,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nn(pn,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}!function(e,t,r,n){if(!0===t&&!0===n)throw new Nn(pn,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hn(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nn(pn,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Nn(pn,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Nn(pn,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,t.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,r}}class sa{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new na({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nn(vn,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nn(vn,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new na(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new En;switch(e.type){case"firstParty":return new On(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nn(pn,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ta.get(e);t&&(sn("ComponentProvider","Removing Datastore"),ta.delete(e),t.terminate())}(this),Promise.resolve()}}function aa(e,t){const r="string"==typeof e?e:t||"(default)",n=G("object"==typeof e?e:J(),"firestore/lite").getImmediate({identifier:r});if(!n._initialized){const e=Object(en.d)("firestore");e&&function(e,t,r,n={}){var s;const a=(e=zn(e,sa))._getSettings(),o=`${t}:${r}`;if("firestore.googleapis.com"!==a.host&&a.host!==o&&on("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=tn.MOCK_USER;else{t=Object(en.b)(n.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const a=n.mockUserToken.sub||n.mockUserToken.user_id;if(!a)throw new Nn(pn,"mockUserToken must contain 'sub' or 'user_id' field!");r=new tn(a)}e._authCredentials=new Vn(new Sn(t,r))}}(n,...e)}return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oa{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oa(this.firestore,e,this._key)}}class ia{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class la extends ia{constructor(e,t,r){super(e,t,new Es(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oa(this.firestore,null,new Bn(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function ua(e,t,...r){if(e=Object(en.e)(e),1===arguments.length&&(t=Zn.N()),Ln("doc","path",t),e instanceof sa){const n=Dn.fromString(t,...r);return Un(n),new oa(e,null,new Bn(n))}{if(!(e instanceof oa||e instanceof la))throw new Nn(pn,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dn.fromString(t,...r));return Un(n),new oa(e.firestore,e instanceof la?e.converter:null,new Bn(n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(as.fromBase64String(e))}catch(e){throw new Nn(pn,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ca(as.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Nn(pn,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fa{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nn(pn,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nn(pn,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return es(this._lat,e._lat)||es(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=/^__.*__$/;class ha{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cs(e,this.data,t,this.fieldTransforms)}}class ga{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ba(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un()}}class va{constructor(e,t,r,n,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===s&&this.tt(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get et(){return this.settings.et}nt(e){return new va(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}rt(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.nt({path:r,st:!1});return n.it(e),n}ot(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.nt({path:r,st:!1});return n.tt(),n}ut(e){return this.nt({path:void 0,st:!0})}ct(e){return xa(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tt(){if(this.path)for(let e=0;e<this.path.length;e++)this.it(this.path.get(e))}it(e){if(0===e.length)throw this.ct("Document fields must not be empty");if(ba(this.et)&&pa.test(e))throw this.ct('Document fields cannot begin and end with "__"')}}class ya{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Js(e)}ft(e,t,r,n=!1){return new va({et:e,methodName:t,lt:r,path:Fn.emptyPath(),st:!1,ht:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ma(e){const t=e._freezeSettings(),r=Js(e._databaseId);return new ya(e._databaseId,!!t.ignoreUndefinedProperties,r)}function _a(e,t,r,n,s,a={}){const o=e.ft(a.merge||a.mergeFields?2:0,t,r,s);wa("Data must be an object, but it was:",o,n);const i=Ea(n,o);let l,u;if(a.merge)l=new Ps(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const n of a.mergeFields){const s=Ta(t,n,r);if(!o.contains(s))throw new Nn(pn,`Field '${s}' is specified in your field mask but missing from your input data.`);Ra(e,s)||e.push(s)}l=new Ps(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new ha(new Ns(i),l,u)}class Ia extends fa{_toFieldTransform(e){if(2!==e.et)throw 1===e.et?e.ct(this._methodName+"() can only appear at the top level of your update data"):e.ct(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ia}}function Pa(e,t,r,n){const s=e.ft(1,t,r);wa("Data must be an object, but it was:",s,n);const a=[],o=Ns.empty();ns(n,(e,n)=>{const i=ka(t,e,r);n=Object(en.e)(n);const l=s.ot(i);if(n instanceof Ia)a.push(i);else{const e=Sa(n,l);null!=e&&(a.push(i),o.set(i,e))}});const i=new Ps(a);return new ga(o,i,s.fieldTransforms)}function Na(e,t,r,n,s,a){const o=e.ft(1,t,r),i=[Ta(t,n,r)],l=[s];if(a.length%2!=0)throw new Nn(pn,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)i.push(Ta(t,a[e])),l.push(a[e+1]);const u=[],c=Ns.empty();for(let e=i.length-1;e>=0;--e)if(!Ra(u,i[e])){const t=i[e];let r=l[e];r=Object(en.e)(r);const n=o.ot(t);if(r instanceof Ia)u.push(t);else{const e=Sa(r,n);null!=e&&(u.push(t),c.set(t,e))}}const d=new Ps(u);return new ga(c,d,o.fieldTransforms)}function Sa(e,t){if(Va(e=Object(en.e)(e)))return wa("Unsupported field value:",t,e),Ea(e,t);if(e instanceof fa)return function(e,t){if(!ba(t.et))throw t.ct(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.ct(e._methodName+"() is not currently supported inside arrays");const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.st&&4!==t.et)throw t.ct("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const s of e){let e=Sa(s,t.ut(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(en.e)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=cs.fromDate(e);return{timestampValue:Ls(t.serializer,r)}}if(e instanceof cs){const r=new cs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ls(t.serializer,r)}}if(e instanceof ma)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ca)return{bytesValue:Us(t.serializer,e._byteString)};if(e instanceof oa){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.ct(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Hs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ct("Unsupported field value: "+qn(e))}(e,t)}function Ea(e,t){const r={};return function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(e,(e,n)=>{const s=Sa(n,t.rt(e));null!=s&&(r[e]=s)}),{mapValue:{fields:r}}}function Va(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cs||e instanceof ma||e instanceof ca||e instanceof oa||e instanceof fa)}function wa(e,t,r){if(!Va(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){const n=qn(r);throw"an object"===n?t.ct(e+" a custom object"):t.ct(e+" "+n)}}function Ta(e,t,r){if((t=Object(en.e)(t))instanceof da)return t._internalPath;if("string"==typeof t)return ka(e,t);throw xa("Field path arguments must be of type string or ",e,!1,void 0,r)}const Oa=new RegExp("[~\\*/\\[\\]]");function ka(e,t,r){if(t.search(Oa)>=0)throw xa(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new da(...t.split("."))._internalPath}catch(n){throw xa(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function xa(e,t,r,n,s){const a=n&&!n.isEmpty(),o=void 0!==s;let i=`Function ${t}() called with invalid data`;r&&(i+=" (via `toFirestore()`)"),i+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field "+n),o&&(l+=" in document "+s),l+=")"),new Nn(pn,i+e+l)}function Ra(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,r,n,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oa(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ca(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Da("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ca extends Aa{data(){return super.data()}}function Da(e,t){return"string"==typeof t?ka(e,t):t instanceof da?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ja(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Fa extends class{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ls(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw un()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ns(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertGeoPoint(e){return new ma(ls(e.latitude),ls(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=function e(t){const r=t.mapValue.fields.__previous_value__;return ds(r)?e(r):r}(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fs(e));default:return null}}convertTimestamp(e){const t=is(e);return new cs(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dn.fromString(e);cn(Ys(r));const n=new An(r.get(1),r.get(3)),s=new Bn(r.popFirst(5));return n.isEqual(t)||an(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new oa(this.firestore,null,t)}}function Ba(e){const t=ra((e=zn(e,oa)).firestore),r=new Fa(e.firestore);return ea(t,[e._key]).then(t=>{cn(1===t.length);const n=t[0];return new Aa(e.firestore,r,e._key,n.isFoundDocument()?n:null,e.converter)})}function La(e,t,r){const n=ja((e=zn(e,oa)).converter,t,r),s=_a(Ma(e.firestore),"setDoc",e._key,n,null!==e.converter,r);return Zs(ra(e.firestore),[s.toMutation(e._key,Rs.none())])}rn="9.22.2_lite",W(new d("firestore/lite",(e,{instanceIdentifier:t,options:r})=>{const n=e.getProvider("app").getImmediate(),s=new sa(new wn(e.getProvider("auth-internal")),new xn(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nn(pn,'"projectId" not provided in firebase.initializeApp.');return new An(e.options.projectId,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,t),n);return r&&s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Q("firestore-lite","3.12.2",""),Q("firestore-lite","3.12.2","esm2017");var Ua=r(37),qa=r.n(Ua),za=r(38),Ha=r.n(za),Wa=r(29),Ga=r.n(Wa),$a=r(8),Xa=r.n($a),Ka=r(10),Ya=r.n(Ka),Ja=r(2),Qa=r.n(Ja),Za=r(59),eo=r.n(Za),to=("function"==typeof Symbol&&Symbol.iterator,"undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"));function ro(e,t){return"application/x-moz-file"===e.type||eo()(e,t)}function no(e){return!e.dataTransfer||Array.prototype.every.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e}))}function so(e){e.preventDefault()}function ao(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function oo(e){return-1!==e.indexOf("Edge/")}var io={borderStyle:"solid",backgroundColor:"#eee"},lo={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},uo={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},co={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},fo={opacity:.5},mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},po=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ho(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var go=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.renderChildren=function(e,t,r,s){return"function"==typeof e?e(mo({},n.state,{isDragActive:t,isDragAccept:r,isDragReject:s,open:n.open})):e},n.composeHandlers=n.composeHandlers.bind(n),n.onClick=n.onClick.bind(n),n.onDocumentDrop=n.onDocumentDrop.bind(n),n.onDragEnter=n.onDragEnter.bind(n),n.onDragLeave=n.onDragLeave.bind(n),n.onDragOver=n.onDragOver.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrop=n.onDrop.bind(n),n.onFileDialogCancel=n.onFileDialogCancel.bind(n),n.onInputElementClick=n.onInputElementClick.bind(n),n.open=n.open.bind(n),n.setRef=n.setRef.bind(n),n.setRefs=n.setRefs.bind(n),n.isFileDialogActive=!1,n.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),po(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",so,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),null!=this.fileInputEl&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",so),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){e.persist(),this.props.onDragStart&&no(e)&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),e.persist(),no(e)&&(Promise.resolve(this.props.getDataTransferItems(e)).then((function(r){e.isPropagationStopped()||t.setState({draggedFiles:r,isDragActive:!0})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e))}},{key:"onDragOver",value:function(e){e.preventDefault(),e.persist();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&no(e)&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),e.persist(),this.dragTargets=this.dragTargets.filter((function(r){return r!==e.target&&t.node.contains(r)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&no(e)&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,r=this.props,n=r.onDrop,s=r.onDropAccepted,a=r.onDropRejected,o=r.multiple,i=r.accept,l=r.getDataTransferItems;e.preventDefault(),e.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),no(e)&&Promise.resolve(l(e)).then((function(r){var l=[],u=[];e.isPropagationStopped()||(r.forEach((function(e){ro(e,i)&&function(e,t,r){return e.size<=t&&e.size>=r}(e,t.props.maxSize,t.props.minSize)?l.push(e):u.push(e)})),!o&&l.length>1&&u.push.apply(u,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(l.splice(0))),t.setState({acceptedFiles:l,rejectedFiles:u},(function(){n&&n.call(t,l,u,e),u.length>0&&a&&a.call(t,u,e),l.length>0&&s&&s.call(t,l,e)})))}))}},{key:"onClick",value:function(e){var t=this.props,r=t.onClick,n=t.disableClick;r&&r.call(this,e),n||e.isDefaultPrevented()||(e.stopPropagation(),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return ao(e)||oo(e)}()?this.open():setTimeout(this.open,0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(e)}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,r=e.acceptClassName,n=e.activeClassName,a=e.children,o=e.disabled,i=e.disabledClassName,l=e.inputProps,u=e.multiple,c=e.name,d=e.rejectClassName,f=ho(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),m=f.acceptStyle,p=f.activeStyle,h=f.className,g=void 0===h?"":h,b=f.disabledStyle,v=f.rejectStyle,y=f.style,M=ho(f,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),_=this.state,I=_.isDragActive,P=_.draggedFiles,N=P.length,S=u||N<=1,E=N>0&&function(e,t){return e.every((function(e){return ro(e,t)}))}(P,this.props.accept),V=N>0&&(!E||!S),w=!(g||y||p||m||v||b);I&&n&&(g+=" "+n),E&&r&&(g+=" "+r),V&&d&&(g+=" "+d),o&&i&&(g+=" "+i),w&&(y=co,p=io,m=lo,v=uo,b=fo);var T=mo({position:"relative"},y);p&&I&&(T=mo({},T,p)),m&&E&&(T=mo({},T,m)),v&&V&&(T=mo({},T,v)),b&&o&&(T=mo({},T,b));var O={accept:t,disabled:o,type:"file",style:mo({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},l.style),multiple:to&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};c&&c.length&&(O.name=c);M.acceptedFiles,M.preventDropOnDocument,M.disableClick,M.onDropAccepted,M.onDropRejected,M.onFileDialogCancel,M.maxSize,M.minSize,M.getDataTransferItems;var k=ho(M,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return s.a.createElement("div",mo({className:g,style:T},k,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":o}),this.renderChildren(a,I,E,V),s.a.createElement("input",mo({},l,O)))}}]),t}(s.a.Component),bo=go;go.propTypes={accept:Qa.a.oneOfType([Qa.a.string,Qa.a.arrayOf(Qa.a.string)]),children:Qa.a.oneOfType([Qa.a.node,Qa.a.func]),disableClick:Qa.a.bool,disabled:Qa.a.bool,preventDropOnDocument:Qa.a.bool,inputProps:Qa.a.object,multiple:Qa.a.bool,name:Qa.a.string,maxSize:Qa.a.number,minSize:Qa.a.number,className:Qa.a.string,activeClassName:Qa.a.string,acceptClassName:Qa.a.string,rejectClassName:Qa.a.string,disabledClassName:Qa.a.string,style:Qa.a.object,activeStyle:Qa.a.object,acceptStyle:Qa.a.object,rejectStyle:Qa.a.object,disabledStyle:Qa.a.object,getDataTransferItems:Qa.a.func,onClick:Qa.a.func,onDrop:Qa.a.func,onDropAccepted:Qa.a.func,onDropRejected:Qa.a.func,onDragStart:Qa.a.func,onDragEnter:Qa.a.func,onDragOver:Qa.a.func,onDragLeave:Qa.a.func,onFileDialogCancel:Qa.a.func},go.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(e){var t=[];if(e.dataTransfer){var r=e.dataTransfer;r.files&&r.files.length?t=r.files:r.items&&r.items.length&&(t=r.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}};var vo=r(7),yo=r(14),Mo=r(12),_o=r(9),Io=r(17),Po=r(13),No=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).history=Object(Mo.a)(t.props),t}return Object(yo.a)(t,e),t.prototype.render=function(){return s.a.createElement(vo.c,{history:this.history,children:this.props.children})},t}(s.a.Component);s.a.Component;var So=function(e,t){return"function"==typeof e?e(t):e},Eo=function(e,t){return"string"==typeof e?Object(Mo.c)(e,null,null,t):e},Vo=function(e){return e},wo=s.a.forwardRef;void 0===wo&&(wo=Vo);var To=wo((function(e,t){var r=e.innerRef,n=e.navigate,a=e.onClick,o=Object(Io.a)(e,["innerRef","navigate","onClick"]),i=o.target,l=Object(_o.a)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return l.ref=Vo!==wo&&t||r,s.a.createElement("a",l)}));var Oo=wo((function(e,t){var r=e.component,n=void 0===r?To:r,a=e.replace,o=e.to,i=e.innerRef,l=Object(Io.a)(e,["component","replace","to","innerRef"]);return s.a.createElement(vo.e.Consumer,null,(function(e){e||Object(Po.a)(!1);var r=e.history,u=Eo(So(o,e.location),e.location),c=u?r.createHref(u):"",d=Object(_o.a)({},l,{href:c,navigate:function(){var t=So(o,e.location),n=Object(Mo.e)(e.location)===Object(Mo.e)(Eo(t));(a||n?r.replace:r.push)(t)}});return Vo!==wo?d.ref=t||i:d.innerRef=i,s.a.createElement(n,d)}))})),ko=function(e){return e},xo=s.a.forwardRef;void 0===xo&&(xo=ko);var Ro=xo((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,i=e.activeStyle,l=e.className,u=e.exact,c=e.isActive,d=e.location,f=e.sensitive,m=e.strict,p=e.style,h=e.to,g=e.innerRef,b=Object(Io.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.a.createElement(vo.e.Consumer,null,(function(e){e||Object(Po.a)(!1);var r=d||e.location,a=Eo(So(h,r),r),v=a.pathname,y=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=y?Object(vo.f)(r.pathname,{path:y,exact:u,sensitive:f,strict:m}):null,_=!!(c?c(M,r):M),I="function"==typeof l?l(_):l,P="function"==typeof p?p(_):p;_&&(I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(I,o),P=Object(_o.a)({},P,i));var N=Object(_o.a)({"aria-current":_&&n||null,className:I,style:P,to:a},b);return ko!==xo?N.ref=t||g:N.innerRef=g,s.a.createElement(Oo,N)}))}));const Ao=(e,t)=>{let r=1/0,n=null;for(const s of t){const t=Math.abs(e-s.span[0]);t<r&&(n=s.span[0],r=t)}return n},Co=(e,t)=>{let r=[],n=[];if(null!==e.firstMeasure&&r.push(e.firstMeasure),null!==e.secondMeasure){let n=e.firstMeasure,s=e.secondMeasure-e.firstMeasure;for(let a=2;a<400;a++){let o=null;if(o=e.correctedMeasures&&e.correctedMeasures[a]?e.correctedMeasures[a]:e.disableSnapToNotes?n+s:Ao(n+s,t),n===o)break;if(r.push(o),s=o-n,n=o,a===e.loop+1)break}}if(r.length>2){r.pop();const e=r[r.length-1]-r[r.length-2];r.push(r[r.length-1]+e)}const s=e.beatsPerMeasure||4;for(let e=0;e<r.length-1;++e){const t=r[e],a=r[e+1];for(let e=1;e<s;++e)n.push(t*(s-e)/s+a*e/s)}return{measures:r,beats:n}},Do=(e,t)=>{var r,n,s,a;if((null!==(n=null===(r=e.fourMeasurePhrasingReferences)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>1)return Array.from(new Set([...e.fourMeasurePhrasingReferences,...Object.keys(e.form||{}).map(e=>parseInt(e,10))])).sort((e,t)=>e-t);const o=[];let i;for(i=null!==(a=null===(s=e.fourMeasurePhrasingReferences)||void 0===s?void 0:s[0])&&void 0!==a?a:1;i<t;i+=4)o.push(i);return o.push(i),o},jo=["•","♭","2","Ⅲ","3","4","T","5","+","6","7","▵"],Fo={I:0,bII:1,II:2,"#III":4,III:3,IV:5,V:7,VI:8,VII:10,i:0,ii:2,iii:4,iv:5,v:7,vi:9,vii:11,"-":12,bvi:8,"#IV":6,"#iv":6,biii:3,"#VII":11,bii:1,"#VI":9,bvii:10},Bo=(e,t)=>(e||"").split(t).filter(e=>""!==e),Lo=e=>Bo(e," "),Uo=e=>Bo(e,"-"),qo=e=>e.replace(/\d|o|ø|\^|\+/g,""),zo=e=>{if("string"!=typeof e||0===e.length)return 12;e=qo(e);const[t,r]=e.split("/");return r?(Fo[t]+Fo[r])%12:Fo[e]},Ho=["red","maroon","#ff60a0","#fffd37","#00ff20","#70e0FF","gray","blue","#ff7000","green","#735832","#a000ff"],Wo=[Ho[0],Ho[1],Ho[6],Ho[7],Ho[8],Ho[9],Ho[10],Ho[11]],Go=e=>-1===Wo.indexOf(e)?"black":"white",$o=Ho,Xo=({romanNumeral:e,styleProps:t={},nextNumeral:r})=>{var s;const a=null!==(s=$o[zo(e)])&&void 0!==s?s:"black";return n.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:a,display:"grid",placeItems:"center",userSelect:"none"}},n.createElement("span",{style:Object.assign({color:Go(a)},t)},(o=e,i=r,i&&-1!==o.indexOf("/")&&Fo[qo(o.split("/")[1])]===Fo[qo(i)]?o.split("/")[0]+"→":o).replace("9","⁹").replace("7","⁷").replace("6","⁶").replace("5","⁵").replace("4","⁴").replace("3","³").replace("2","²").replace("1","¹").replace("b","♭").replace("#","♯").replace("o","ᵒ").replace("+","⁺")));var o,i},Ko=({semitones:e,isCompact:t=!1})=>{const r=e>6?-12+e:e;return n.createElement("div",{className:"modulation",style:{position:"absolute",left:0,backgroundColor:"black",color:"white",padding:0,margin:0,height:"100%",top:0,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},r>0?n.createElement("div",null,"▲"):!t&&n.createElement("div",{style:{opacity:0}},"▲"),n.createElement("div",null,Math.abs(r)),r<0?n.createElement("div",null,"▼"):!t&&n.createElement("div",{style:{opacity:0}},"▼"))},Yo=({rnArray:e,modulations:t={},isSearch:r=!1})=>{let s=[];return e.map((a,o)=>{const i=a.split("-");i.forEach((a,l)=>s.push(n.createElement("div",{key:l,style:{width:r?70:120/i.length,height:30,display:"grid",placeItems:"center",overflow:"hidden",position:"relative",backgroundColor:$o[zo(a)]}},o in t&&0===l&&n.createElement(Ko,{semitones:t[o]}),n.createElement(Xo,{romanNumeral:a.replace("_"," "),nextNumeral:l+1<i.length?i[l+1]:(e[o+1]||"").split("-")[0],styleProps:{fontFamily:"sans-serif",fontSize:r?"18px":i.length>=3?"12px":2==i.length?"16px":"18px"}}))))}),n.createElement("div",{style:{display:"flex",flexDirection:"row"}},s)},Jo=({dashedRN:e,modulation:t=null,fontSize:r})=>{const s=Uo(e);return n.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",height:"100%"}},null!==t&&n.createElement(Ko,{semitones:t,isCompact:!0}),s.map(e=>n.createElement(Xo,{romanNumeral:e,styleProps:r?{fontSize:r}:{}})))},Qo=({rn:e,searchable:t=!1})=>{const r=n.createElement("div",{style:{width:45*e.split("-").length,marginTop:"1px",display:"inline-block"}},n.createElement(Jo,{dashedRN:e}));return t?n.createElement(Oo,{to:{pathname:"/search/chords/"+e}},r):r},Zo=e=>[{measure:-1,tonic:e.tonic},...Object.entries(e.modulations||[]).map(e=>({measure:parseInt(e[0],10)-1,tonic:e[1]}))].sort((e,t)=>e.measure-t.measure),ei=(e,t)=>{const r=Zo(t);let n=0;for(;n+1<r.length&&r[n+1].measure<=e;)n++;return r[n].tonic},ti=(e,t)=>{if(!t)return-1;const r=(e.span[0]+e.span[1])/2;return t.findIndex(e=>e>=r)-1},ri=(e,t)=>{if(null===e)return{};const r=Object.assign(Object.assign({},t),{0:e}),n=Object.keys(r).map(Number).sort((e,t)=>e-t);let s={};for(let e=1;e<n.length;e++){const t=r[n[e-1]],a=r[n[e]];s[n[e]]=(a-t+12)%12}return s},ni=({label:e})=>n.createElement("div",{style:{textAlign:"start",fontFamily:"sans-serif",fontSize:"15px",padding:"3px",color:"white",backgroundColor:"#333"}},e),si=({analysis:e})=>{const{romanNumerals:t,form:r}=e,s=Lo(t),a=Do(e,Math.max(4,s.length));1!==(null==a?void 0:a[0])&&a.unshift(1);const o=ri(e.tonic,e.modulations),i=[];for(let e=0;e+1<a.length;e++){const t=null==r?void 0:r[a[e]];t&&i.push(n.createElement(ni,{label:t}));const l=Object.keys(o).filter(t=>{const r=Number(t);return r>=a[e]&&r<a[e+1]}).reduce((t,r)=>(t[Number(r)-a[e]]=o[r],t),{});i.push(n.createElement(Yo,{rnArray:s.slice(a[e]-1,a[e+1]-1),modulations:l}))}return n.createElement("div",{style:{display:"inline-block"}},n.createElement("div",{style:{display:"flex",flexDirection:"column"}},i))};function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e){var t=function(e,t){if("object"!==ai(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ai(t)?t:String(t)}function ii(e,t,r){return(t=oi(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?li(Object(r),!0).forEach((function(t){ii(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function di(e,t){if(e){if("string"==typeof e)return ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ci(e,t):void 0}}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,o,i=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return i}}(e,t)||di(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var pi=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function hi(){return(hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function gi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oi(n.key),n)}}function bi(e,t){return(bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){if(t&&("object"===ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vi(e);if(t){var s=vi(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return yi(this,r)}}function _i(e){return function(e){if(Array.isArray(e))return ci(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||di(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ii=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Pi="-webkit-",Ni=Math.abs,Si=String.fromCharCode,Ei=Object.assign;function Vi(e,t){return 45^xi(e,0)?(((t<<2^xi(e,0))<<2^xi(e,1))<<2^xi(e,2))<<2^xi(e,3):0}function wi(e){return e.trim()}function Ti(e,t){return(e=t.exec(e))?e[0]:e}function Oi(e,t,r){return e.replace(t,r)}function ki(e,t){return e.indexOf(t)}function xi(e,t){return 0|e.charCodeAt(t)}function Ri(e,t,r){return e.slice(t,r)}function Ai(e){return e.length}function Ci(e){return e.length}function Di(e,t){return t.push(e),e}function ji(e,t){return e.map(t).join("")}var Fi=1,Bi=1,Li=0,Ui=0,qi=0,zi="";function Hi(e,t,r,n,s,a,o){return{value:e,root:t,parent:r,type:n,props:s,children:a,line:Fi,column:Bi,length:o,return:""}}function Wi(e,t){return Ei(Hi("",null,null,"",null,null,0),e,{length:-e.length},t)}function Gi(){return qi=Ui<Li?xi(zi,Ui++):0,Bi++,10===qi&&(Bi=1,Fi++),qi}function $i(){return xi(zi,Ui)}function Xi(){return Ui}function Ki(e,t){return Ri(zi,e,t)}function Yi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ji(e){return Fi=Bi=1,Li=Ai(zi=e),Ui=0,[]}function Qi(e){return zi="",e}function Zi(e){return wi(Ki(Ui-1,function e(t){for(;Gi();)switch(qi){case t:return Ui;case 34:case 39:34!==t&&39!==t&&e(qi);break;case 40:41===t&&e(t);break;case 92:Gi()}return Ui}(91===e?e+2:40===e?e+1:e)))}function el(e){for(;(qi=$i())&&qi<33;)Gi();return Yi(e)>2||Yi(qi)>3?"":" "}function tl(e,t){for(;--t&&Gi()&&!(qi<48||qi>102||qi>57&&qi<65||qi>70&&qi<97););return Ki(e,Xi()+(t<6&&32==$i()&&32==Gi()))}function rl(e,t){for(;Gi()&&e+qi!==57&&(e+qi!==84||47!==$i()););return"/*"+Ki(t,Ui-1)+"*"+Si(47===e?e:Gi())}function nl(e){for(;!Yi($i());)Gi();return Ki(e,Ui)}function sl(e){return Qi(function e(t,r,n,s,a,o,i,l,u){var c=0,d=0,f=i,m=0,p=0,h=0,g=1,b=1,v=1,y=0,M="",_=a,I=o,P=s,N=M;for(;b;)switch(h=y,y=Gi()){case 40:if(108!=h&&58==xi(N,f-1)){-1!=ki(N+=Oi(Zi(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:N+=Zi(y);break;case 9:case 10:case 13:case 32:N+=el(h);break;case 92:N+=tl(Xi()-1,7);continue;case 47:switch($i()){case 42:case 47:Di(ol(rl(Gi(),Xi()),r,n),u);break;default:N+="/"}break;case 123*g:l[c++]=Ai(N)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:-1==v&&(N=Oi(N,/\f/g,"")),p>0&&Ai(N)-f&&Di(p>32?il(N+";",s,n,f-1):il(Oi(N," ","")+";",s,n,f-2),u);break;case 59:N+=";";default:if(Di(P=al(N,r,n,c,d,a,l,M,_=[],I=[],f),o),123===y)if(0===d)e(N,r,P,P,_,o,f,l,I);else switch(99===m&&110===xi(N,3)?100:m){case 100:case 108:case 109:case 115:e(t,P,P,s&&Di(al(t,P,P,0,0,a,l,M,a,_=[],f),I),a,I,f,l,s?_:I);break;default:e(N,P,P,P,[""],I,0,l,I)}}c=d=p=0,g=v=1,M=N="",f=i;break;case 58:f=1+Ai(N),p=h;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==(qi=Ui>0?xi(zi,--Ui):0,Bi--,10===qi&&(Bi=1,Fi--),qi))continue;switch(N+=Si(y),y*g){case 38:v=d>0?1:(N+="\f",-1);break;case 44:l[c++]=(Ai(N)-1)*v,v=1;break;case 64:45===$i()&&(N+=Zi(Gi())),m=$i(),d=f=Ai(M=N+=nl(Xi())),y++;break;case 45:45===h&&2==Ai(N)&&(g=0)}}return o}("",null,null,null,[""],e=Ji(e),0,[0],e))}function al(e,t,r,n,s,a,o,i,l,u,c){for(var d=s-1,f=0===s?a:[""],m=Ci(f),p=0,h=0,g=0;p<n;++p)for(var b=0,v=Ri(e,d+1,d=Ni(h=o[p])),y=e;b<m;++b)(y=wi(h>0?f[b]+" "+v:Oi(v,/&\f/g,f[b])))&&(l[g++]=y);return Hi(e,t,r,0===s?"rule":i,l,u,c)}function ol(e,t,r){return Hi(e,t,r,"comm",Si(qi),Ri(e,2,-2),0)}function il(e,t,r,n){return Hi(e,t,r,"decl",Ri(e,0,n),Ri(e,n+1,-1),n)}function ll(e,t){for(var r="",n=Ci(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function ul(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+ll(e.children,n)+"}";case"rule":e.value=e.props.join(",")}return Ai(r=ll(e.children,n))?e.return=e.value+"{"+r+"}":""}var cl=r(22),dl=function(e,t,r){for(var n=0,s=0;n=s,s=$i(),38===n&&12===s&&(t[r]=1),!Yi(s);)Gi();return Ki(e,Ui)},fl=function(e,t){return Qi(function(e,t){var r=-1,n=44;do{switch(Yi(n)){case 0:38===n&&12===$i()&&(t[r]=1),e[r]+=dl(Ui-1,t,r);break;case 2:e[r]+=Zi(n);break;case 4:if(44===n){e[++r]=58===$i()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Si(n)}}while(n=Gi());return e}(Ji(e),t))},ml=new WeakMap,pl=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ml.get(r))&&!n){ml.set(e,!0);for(var s=[],a=fl(t,s),o=r.props,i=0,l=0;i<a.length;i++)for(var u=0;u<o.length;u++,l++)e.props[l]=s[i]?a[i].replace(/&\f/g,o[u]):o[u]+" "+a[i]}}},hl=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};var gl=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case"decl":e.return=function e(t,r){switch(Vi(t,r)){case 5103:return Pi+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pi+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pi+t+"-moz-"+t+"-ms-"+t+t;case 6828:case 4268:return Pi+t+"-ms-"+t+t;case 6165:return Pi+t+"-ms-flex-"+t+t;case 5187:return Pi+t+Oi(t,/(\w+).+(:[^]+)/,Pi+"box-$1$2-ms-flex-$1$2")+t;case 5443:return Pi+t+"-ms-flex-item-"+Oi(t,/flex-|-self/,"")+t;case 4675:return Pi+t+"-ms-flex-line-pack"+Oi(t,/align-content|flex-|-self/,"")+t;case 5548:return Pi+t+"-ms-"+Oi(t,"shrink","negative")+t;case 5292:return Pi+t+"-ms-"+Oi(t,"basis","preferred-size")+t;case 6060:return Pi+"box-"+Oi(t,"-grow","")+Pi+t+"-ms-"+Oi(t,"grow","positive")+t;case 4554:return Pi+Oi(t,/([^-])(transform)/g,"$1"+Pi+"$2")+t;case 6187:return Oi(Oi(Oi(t,/(zoom-|grab)/,Pi+"$1"),/(image-set)/,Pi+"$1"),t,"")+t;case 5495:case 3959:return Oi(t,/(image-set\([^]*)/,Pi+"$1$`$1");case 4968:return Oi(Oi(t,/(.+:)(flex-)?(.*)/,Pi+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pi+t+t;case 4095:case 3583:case 4068:case 2532:return Oi(t,/(.+)-inline(.+)/,Pi+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(t)-1-r>6)switch(xi(t,r+1)){case 109:if(45!==xi(t,r+4))break;case 102:return Oi(t,/(.+:)(.+)-([^]+)/,"$1"+Pi+"$2-$3$1-moz-"+(108==xi(t,r+3)?"$3":"$2-$3"))+t;case 115:return~ki(t,"stretch")?e(Oi(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(115!==xi(t,r+1))break;case 6444:switch(xi(t,Ai(t)-3-(~ki(t,"!important")&&10))){case 107:return Oi(t,":",":"+Pi)+t;case 101:return Oi(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pi+(45===xi(t,14)?"inline-":"")+"box$3$1"+Pi+"$2$3$1-ms-$2box$3")+t}break;case 5936:switch(xi(t,r+11)){case 114:return Pi+t+"-ms-"+Oi(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pi+t+"-ms-"+Oi(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pi+t+"-ms-"+Oi(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pi+t+"-ms-"+t+t}return t}(e.value,e.length);break;case"@keyframes":return ll([Wi(e,{value:Oi(e.value,"@","@"+Pi)})],n);case"rule":if(e.length)return ji(e.props,(function(t){switch(Ti(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ll([Wi(e,{props:[Oi(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return ll([Wi(e,{props:[Oi(t,/:(plac\w+)/,":"+Pi+"input-$1")]}),Wi(e,{props:[Oi(t,/:(plac\w+)/,":-moz-$1")]}),Wi(e,{props:[Oi(t,/:(plac\w+)/,"-ms-input-$1")]})],n)}return""}))}}],bl=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||gl;var s,a,o={},i=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)o[t[r]]=!0;i.push(e)}));var l,u,c=[ul,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=Ci(e);return function(r,n,s,a){for(var o="",i=0;i<t;i++)o+=e[i](r,n,s,a)||"";return o}}([pl,hl].concat(n,c));a=function(e,t,r,n){l=r,ll(sl(e?e+"{"+t.styles+"}":t.styles),d),n&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Ii({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(i),f};r(16);function vl(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var yl=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},Ml=function(e,t,r){yl(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do{e.insert(t===s?"."+n:"",s,e.sheet,!0),s=s.next}while(void 0!==s)}};var _l={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Il=/[A-Z]|^ms/g,Pl=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Nl=function(e){return 45===e.charCodeAt(1)},Sl=function(e){return null!=e&&"boolean"!=typeof e},El=Object(cl.a)((function(e){return Nl(e)?e:e.replace(Il,"-$&").toLowerCase()})),Vl=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Pl,(function(e,t,r){return Tl={name:t,styles:r,next:Tl},t}))}return 1===_l[e]||Nl(e)||"number"!=typeof t||0===t?t:t+"px"};function wl(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Tl={name:r.name,styles:r.styles,next:Tl},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Tl={name:n.name,styles:n.styles,next:Tl},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=wl(e,t,r[s])+";";else for(var a in r){var o=r[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?n+=a+"{"+t[o]+"}":Sl(o)&&(n+=El(a)+":"+Vl(a,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var i=wl(e,t,o);switch(a){case"animation":case"animationName":n+=El(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var l=0;l<o.length;l++)Sl(o[l])&&(n+=El(a)+":"+Vl(a,o[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var s=Tl,a=r(e);return Tl=s,wl(e,t,a)}break;case"string":}if(null==t)return r;var o=t[r];return void 0!==o?o:r}var Tl,Ol=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var kl=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,s="";Tl=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,s+=wl(r,t,a)):s+=a[0];for(var o=1;o<e.length;o++)s+=wl(r,t,e[o]),n&&(s+=a[o]);Ol.lastIndex=0;for(var i,l="";null!==(i=Ol.exec(s));)l+="-"+i[1];return{name:function(e){for(var t,r=0,n=0,s=e.length;s>=4;++n,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(s){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(s)+l,styles:s,next:Tl}},xl=!!n.useInsertionEffect&&n.useInsertionEffect,Rl=xl||function(e){return e()},Al=(xl||n.useLayoutEffect,{}.hasOwnProperty),Cl=n.createContext("undefined"!=typeof HTMLElement?bl({key:"css"}):null);Cl.Provider;var Dl=function(e){return Object(n.forwardRef)((function(t,r){var s=Object(n.useContext)(Cl);return e(t,s,r)}))};var jl=n.createContext({});var Fl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Bl=function(e,t){var r={};for(var n in t)Al.call(t,n)&&(r[n]=t[n]);return r[Fl]=e,r},Ll=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return yl(t,r,n),Rl((function(){return Ml(t,r,n)})),null};var Ul=Dl((function(e,t,r){var s=e.css;"string"==typeof s&&void 0!==t.registered[s]&&(s=t.registered[s]);var a=e[Fl],o=[s],i="";"string"==typeof e.className?i=vl(t.registered,o,e.className):null!=e.className&&(i=e.className+" ");var l=kl(o,void 0,n.useContext(jl));i+=t.key+"-"+l.name;var u={};for(var c in e)Al.call(e,c)&&"css"!==c&&c!==Fl&&(u[c]=e[c]);return u.ref=r,u.className=i,n.createElement(n.Fragment,null,n.createElement(Ll,{cache:t,serialized:l,isStringTag:"string"==typeof a}),n.createElement(a,u))})),ql=(r(135),function(e,t){var r=arguments;if(null==t||!Al.call(t,"css"))return n.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=Ul,a[1]=Bl(e,t);for(var o=2;o<s;o++)a[o]=r[o];return n.createElement.apply(null,a)});function zl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return kl(t)}const Hl=Math.min,Wl=Math.max,Gl=Math.round,$l=Math.floor,Xl=e=>({x:e,y:e});function Kl(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Yl(e){return Zl(e)?(e.nodeName||"").toLowerCase():"#document"}function Jl(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ql(e){var t;return null==(t=(Zl(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Zl(e){return e instanceof Node||e instanceof Jl(e).Node}function eu(e){return e instanceof Element||e instanceof Jl(e).Element}function tu(e){return e instanceof HTMLElement||e instanceof Jl(e).HTMLElement}function ru(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Jl(e).ShadowRoot)}function nu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ou(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function su(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function au(e){return["html","body","#document"].includes(Yl(e))}function ou(e){return Jl(e).getComputedStyle(e)}function iu(e){if("html"===Yl(e))return e;const t=e.assignedSlot||e.parentNode||ru(e)&&e.host||Ql(e);return ru(t)?t.host:t}function lu(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const s=function e(t){const r=iu(t);return au(r)?t.ownerDocument?t.ownerDocument.body:t.body:tu(r)&&nu(r)?r:e(r)}(e),a=s===(null==(n=e.ownerDocument)?void 0:n.body),o=Jl(s);return a?t.concat(o,o.visualViewport||[],nu(s)?s:[],o.frameElement&&r?lu(o.frameElement):[]):t.concat(s,lu(s,[],r))}function uu(e){const t=ou(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=tu(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,i=Gl(r)!==a||Gl(n)!==o;return i&&(r=a,n=o),{width:r,height:n,$:i}}function cu(e){return eu(e)?e:e.contextElement}function du(e){const t=cu(e);if(!tu(t))return Xl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=uu(t);let o=(a?Gl(r.width):r.width)/n,i=(a?Gl(r.height):r.height)/s;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}const fu=Xl(0);function mu(e){const t=Jl(e);return su()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:fu}function pu(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const s=e.getBoundingClientRect(),a=cu(e);let o=Xl(1);t&&(n?eu(n)&&(o=du(n)):o=du(e));const i=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Jl(e))&&t}(a,r,n)?mu(a):Xl(0);let l=(s.left+i.x)/o.x,u=(s.top+i.y)/o.y,c=s.width/o.x,d=s.height/o.y;if(a){const e=Jl(a),t=n&&eu(n)?Jl(n):n;let r=e.frameElement;for(;r&&n&&t!==e;){const e=du(r),t=r.getBoundingClientRect(),n=ou(r),s=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,d*=e.y,l+=s,u+=a,r=Jl(r).frameElement}}return Kl({width:c,height:d,x:l,y:u})}function hu(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,u=cu(e),c=s||a?[...u?lu(u):[],...lu(t)]:[];c.forEach(e=>{s&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});const d=u&&i?function(e,t){let r,n=null;const s=Ql(e);function a(){clearTimeout(r),n&&n.disconnect(),n=null}return function o(i,l){void 0===i&&(i=!1),void 0===l&&(l=1),a();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(i||t(),!d||!f)return;const m={rootMargin:-$l(c)+"px "+-$l(s.clientWidth-(u+d))+"px "+-$l(s.clientHeight-(c+f))+"px "+-$l(u)+"px",threshold:Wl(0,Hl(1,l))||1};let p=!0;function h(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return o();t?o(!1,t):r=setTimeout(()=>{o(!1,1e-7)},100)}p=!1}try{n=new IntersectionObserver(h,{...m,root:s.ownerDocument})}catch(e){n=new IntersectionObserver(h,m)}n.observe(e)}(!0),a}(u,r):null;let f,m=-1,p=null;o&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{p&&p.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let h=l?pu(e):null;return l&&function t(){const n=pu(e);!h||n.x===h.x&&n.y===h.y&&n.width===h.width&&n.height===h.height||r();h=n,f=requestAnimationFrame(t)}(),r(),()=>{c.forEach(e=>{s&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),d&&d(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(f)}}var gu=n.useLayoutEffect,bu=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],vu=function(){};function yu(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Mu(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var a=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(yu(e,o)));return a.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var _u=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ai(e)&&null!==e?[e]:[];var t},Iu=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,ui({},mi(e,bu))},Pu=function(e,t,r){var n=e.cx,s=e.getStyles,a=e.getClassNames,o=e.className;return{css:s(t,e),className:n(null!=r?r:{},a(t,e),o)}};function Nu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Su(e){return Nu(e)?window.pageYOffset:e.scrollTop}function Eu(e,t){Nu(e)?window.scrollTo(0,t):e.scrollTop=t}function Vu(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function wu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vu,s=Su(e),a=t-s,o=10,i=0;function l(){var t=Vu(i+=o,s,a,r);Eu(e,t),i<r?window.requestAnimationFrame(l):n(e)}l()}function Tu(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>r.bottom?Eu(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<r.top&&Eu(e,Math.max(t.offsetTop-s,0))}function Ou(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var ku=!1,xu={get passive(){return ku=!0}},Ru="undefined"!=typeof window?window:{};Ru.addEventListener&&Ru.removeEventListener&&(Ru.addEventListener("p",vu,xu),Ru.removeEventListener("p",vu,!1));var Au=ku;function Cu(e){return null!=e}function Du(e,t,r){return e?t:r}var ju=["children","innerProps"],Fu=["children","innerProps"];function Bu(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,s=e.placement,a=e.shouldScroll,o=e.isFixedPosition,i=e.controlHeight,l=function(e){var t=getComputedStyle(e),r="absolute"===t.position,n=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),(!r||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var c,d=l.getBoundingClientRect().height,f=r.getBoundingClientRect(),m=f.bottom,p=f.height,h=f.top,g=r.offsetParent.getBoundingClientRect().top,b=o?window.innerHeight:Nu(c=l)?window.innerHeight:c.clientHeight,v=Su(l),y=parseInt(getComputedStyle(r).marginBottom,10),M=parseInt(getComputedStyle(r).marginTop,10),_=g-M,I=b-h,P=_+v,N=d-v-h,S=m-b+v+y,E=v+h-M;switch(s){case"auto":case"bottom":if(I>=p)return{placement:"bottom",maxHeight:t};if(N>=p&&!o)return a&&wu(l,S,160),{placement:"bottom",maxHeight:t};if(!o&&N>=n||o&&I>=n)return a&&wu(l,S,160),{placement:"bottom",maxHeight:o?I-y:N-y};if("auto"===s||o){var V=t,w=o?_:P;return w>=n&&(V=Math.min(w-y-i,t)),{placement:"top",maxHeight:V}}if("bottom"===s)return a&&Eu(l,S),{placement:"bottom",maxHeight:t};break;case"top":if(_>=p)return{placement:"top",maxHeight:t};if(P>=p&&!o)return a&&wu(l,E,160),{placement:"top",maxHeight:t};if(!o&&P>=n||o&&_>=n){var T=t;return(!o&&P>=n||o&&_>=n)&&(T=o?_-M:P-M),a&&wu(l,E,160),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}var Lu,Uu=function(e){return"auto"===e?"bottom":e},qu=Object(n.createContext)(null),zu=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,a=e.menuPlacement,o=e.menuPosition,i=e.menuShouldScrollIntoView,l=e.theme,u=(Object(n.useContext)(qu)||{}).setPortalPlacement,c=Object(n.useRef)(null),d=fi(Object(n.useState)(s),2),f=d[0],m=d[1],p=fi(Object(n.useState)(null),2),h=p[0],g=p[1],b=l.spacing.controlHeight;return gu((function(){var e=c.current;if(e){var t="fixed"===o,n=Bu({maxHeight:s,menuEl:e,minHeight:r,placement:a,shouldScroll:i&&!t,isFixedPosition:t,controlHeight:b});m(n.maxHeight),g(n.placement),null==u||u(n.placement)}}),[s,a,o,i,r,u,b]),t({ref:c,placerProps:ui(ui({},e),{},{placement:h||Uu(a),maxHeight:f})})},Hu=function(e){var t=e.children,r=e.innerRef,n=e.innerProps;return ql("div",hi({},Pu(e,"menu",{menu:!0}),{ref:r},n),t)},Wu=function(e,t){var r=e.theme,n=r.spacing.baseUnit,s=r.colors;return ui({textAlign:"center"},t?{}:{color:s.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},Gu=Wu,$u=Wu,Xu=["size"],Ku=["innerProps","isRtl","size"];var Yu,Ju,Qu={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Zu=function(e){var t=e.size,r=mi(e,Xu);return ql("svg",hi({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Qu},r))},ec=function(e){return ql(Zu,hi({size:20},e),ql("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},tc=function(e){return ql(Zu,hi({size:20},e),ql("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},rc=function(e,t){var r=e.isFocused,n=e.theme,s=n.spacing.baseUnit,a=n.colors;return ui({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?a.neutral60:a.neutral20,padding:2*s,":hover":{color:r?a.neutral80:a.neutral40}})},nc=rc,sc=rc,ac=function(){var e=zl.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Lu||(Yu=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Ju||(Ju=Yu.slice(0)),Lu=Object.freeze(Object.defineProperties(Yu,{raw:{value:Object.freeze(Ju)}})))),oc=function(e){var t=e.delay,r=e.offset;return ql("span",{css:zl({animation:"".concat(ac," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ic=function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,s=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return ql("div",hi({ref:s},Pu(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":n,"control--menu-is-open":o}),a),t)},lc=["data"],uc=function(e){var t=e.children,r=e.cx,n=e.getStyles,s=e.getClassNames,a=e.Heading,o=e.headingProps,i=e.innerProps,l=e.label,u=e.theme,c=e.selectProps;return ql("div",hi({},Pu(e,"group",{group:!0}),i),ql(a,hi({},o,{selectProps:c,theme:u,getStyles:n,getClassNames:s,cx:r}),l),ql("div",null,t))},cc=["innerRef","isDisabled","isHidden","inputClassName"],dc={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},fc={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ui({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dc)},mc=function(e){return ui({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dc)},pc=function(e){var t=e.children,r=e.innerProps;return ql("div",r,t)};var hc={ClearIndicator:function(e){var t=e.children,r=e.innerProps;return ql("div",hi({},Pu(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||ql(ec,null))},Control:ic,DropdownIndicator:function(e){var t=e.children,r=e.innerProps;return ql("div",hi({},Pu(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||ql(tc,null))},DownChevron:tc,CrossIcon:ec,Group:uc,GroupHeading:function(e){var t=Iu(e);t.data;var r=mi(t,lc);return ql("div",hi({},Pu(e,"groupHeading",{"group-heading":!0}),r))},IndicatorsContainer:function(e){var t=e.children,r=e.innerProps;return ql("div",hi({},Pu(e,"indicatorsContainer",{indicators:!0}),r),t)},IndicatorSeparator:function(e){var t=e.innerProps;return ql("span",hi({},t,Pu(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,r=e.value,n=Iu(e),s=n.innerRef,a=n.isDisabled,o=n.isHidden,i=n.inputClassName,l=mi(n,cc);return ql("div",hi({},Pu(e,"input",{"input-container":!0}),{"data-value":r||""}),ql("input",hi({className:t({input:!0},i),ref:s,style:mc(o),disabled:a},l)))},LoadingIndicator:function(e){var t=e.innerProps,r=e.isRtl,n=e.size,s=void 0===n?4:n,a=mi(e,Ku);return ql("div",hi({},Pu(ui(ui({},a),{},{innerProps:t,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ql(oc,{delay:0,offset:r}),ql(oc,{delay:160,offset:!0}),ql(oc,{delay:320,offset:!r}))},Menu:Hu,MenuList:function(e){var t=e.children,r=e.innerProps,n=e.innerRef,s=e.isMulti;return ql("div",hi({},Pu(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:n},r),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,s=e.controlElement,o=e.innerProps,i=e.menuPlacement,l=e.menuPosition,u=Object(n.useRef)(null),c=Object(n.useRef)(null),d=fi(Object(n.useState)(Uu(i)),2),f=d[0],m=d[1],p=Object(n.useMemo)((function(){return{setPortalPlacement:m}}),[]),h=fi(Object(n.useState)(null),2),g=h[0],b=h[1],v=Object(n.useCallback)((function(){if(s){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(s),t="fixed"===l?0:window.pageYOffset,r=e[f]+t;r===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||b({offset:r,rect:e})}}),[s,l,f,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);gu((function(){v()}),[v]);var y=Object(n.useCallback)((function(){"function"==typeof c.current&&(c.current(),c.current=null),s&&u.current&&(c.current=hu(s,u.current,v,{elementResize:"ResizeObserver"in window}))}),[s,v]);gu((function(){y()}),[y]);var M=Object(n.useCallback)((function(e){u.current=e,y()}),[y]);if(!t&&"fixed"!==l||!g)return null;var _=ql("div",hi({ref:M},Pu(ui(ui({},e),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),o),r);return ql(qu.Provider,{value:p},t?Object(a.createPortal)(_,t):_)},LoadingMessage:function(e){var t=e.children,r=void 0===t?"Loading...":t,n=e.innerProps,s=mi(e,Fu);return ql("div",hi({},Pu(ui(ui({},s),{},{children:r,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),r)},NoOptionsMessage:function(e){var t=e.children,r=void 0===t?"No options":t,n=e.innerProps,s=mi(e,ju);return ql("div",hi({},Pu(ui(ui({},s),{},{children:r,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),r)},MultiValue:function(e){var t=e.children,r=e.components,n=e.data,s=e.innerProps,a=e.isDisabled,o=e.removeProps,i=e.selectProps,l=r.Container,u=r.Label,c=r.Remove;return ql(l,{data:n,innerProps:ui(ui({},Pu(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),s),selectProps:i},ql(u,{data:n,innerProps:ui({},Pu(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),ql(c,{data:n,innerProps:ui(ui({},Pu(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:i}))},MultiValueContainer:pc,MultiValueLabel:pc,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return ql("div",hi({role:"button"},r),t||ql(ec,{size:14}))},Option:function(e){var t=e.children,r=e.isDisabled,n=e.isFocused,s=e.isSelected,a=e.innerRef,o=e.innerProps;return ql("div",hi({},Pu(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":n,"option--is-selected":s}),{ref:a,"aria-disabled":r},o),t)},Placeholder:function(e){var t=e.children,r=e.innerProps;return ql("div",hi({},Pu(e,"placeholder",{placeholder:!0}),r),t)},SelectContainer:function(e){var t=e.children,r=e.innerProps,n=e.isDisabled,s=e.isRtl;return ql("div",hi({},Pu(e,"container",{"--is-disabled":n,"--is-rtl":s}),r),t)},SingleValue:function(e){var t=e.children,r=e.isDisabled,n=e.innerProps;return ql("div",hi({},Pu(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),n),t)},ValueContainer:function(e){var t=e.children,r=e.innerProps,n=e.isMulti,s=e.hasValue;return ql("div",hi({},Pu(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":s}),r),t)}},gc=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function bc(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],s=t[r],!(n===s||gc(n)&&gc(s)))return!1;var n,s;return!0}for(var vc={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},yc=function(e){return ql("span",hi({css:vc},e))},Mc={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.isDisabled,s=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(n?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=void 0===r?"":r,s=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return"option ".concat(n,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,s=e.label,a=void 0===s?"":s,o=e.selectValue,i=e.isDisabled,l=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(a," focused, ").concat(u(o,r),".");if("menu"===t){var c=i?" disabled":"",d="".concat(l?"selected":"focused").concat(c);return"option ".concat(a," ").concat(d,", ").concat(u(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},_c=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,a=e.focusableOptions,o=e.isFocused,i=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,f=l.inputValue,m=l.isMulti,p=l.isOptionDisabled,h=l.isSearchable,g=l.menuIsOpen,b=l.options,v=l.screenReaderStatus,y=l.tabSelectsValue,M=l["aria-label"],_=l["aria-live"],I=Object(n.useMemo)((function(){return ui(ui({},Mc),c||{})}),[c]),P=Object(n.useMemo)((function(){var e,r="";if(t&&I.onChange){var n=t.option,s=t.options,a=t.removedValue,o=t.removedValues,l=t.value,u=a||n||(e=l,Array.isArray(e)?null:e),c=u?d(u):"",f=s||o||void 0,m=f?f.map(d):[],h=ui({isDisabled:u&&p(u,i),label:c,labels:m},t);r=I.onChange(h)}return r}),[t,I,p,i,d]),N=Object(n.useMemo)((function(){var e="",t=r||s,n=!!(r&&i&&i.includes(r));if(t&&I.onFocus){var o={focused:t,label:d(t),isDisabled:p(t,i),isSelected:n,options:a,context:t===r?"menu":"value",selectValue:i};e=I.onFocus(o)}return e}),[r,s,d,p,I,a,i]),S=Object(n.useMemo)((function(){var e="";if(g&&b.length&&I.onFilter){var t=v({count:a.length});e=I.onFilter({inputValue:f,resultsMessage:t})}return e}),[a,f,g,I,b,v]),E=Object(n.useMemo)((function(){var e="";if(I.guidance){var t=s?"value":g?"menu":"input";e=I.guidance({"aria-label":M,context:t,isDisabled:r&&p(r,i),isMulti:m,isSearchable:h,tabSelectsValue:y})}return e}),[M,r,s,m,p,h,g,I,i,y]),V="".concat(N," ").concat(S," ").concat(E),w=ql(n.Fragment,null,ql("span",{id:"aria-selection"},P),ql("span",{id:"aria-context"},V)),T="initial-input-focus"===(null==t?void 0:t.action);return ql(n.Fragment,null,ql(yc,{id:u},T&&w),ql(yc,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text"},o&&!T&&w))},Ic=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Pc=new RegExp("["+Ic.map((function(e){return e.letters})).join("")+"]","g"),Nc={},Sc=0;Sc<Ic.length;Sc++)for(var Ec=Ic[Sc],Vc=0;Vc<Ec.letters.length;Vc++)Nc[Ec.letters[Vc]]=Ec.base;var wc=function(e){return e.replace(Pc,(function(e){return Nc[e]}))},Tc=function(e,t){void 0===t&&(t=bc);var r=null;function n(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var a=e.apply(this,n);return r={lastResult:a,lastArgs:n,lastThis:this},a}return n.clear=function(){r=null},n}(wc),Oc=function(e){return e.replace(/^\s+|\s+$/g,"")},kc=function(e){return"".concat(e.label," ").concat(e.value)},xc=["innerRef"];function Rc(e){var t=e.innerRef,r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var s=Object.entries(e).filter((function(e){var t=fi(e,1)[0];return!r.includes(t)}));return s.reduce((function(e,t){var r=fi(t,2),n=r[0],s=r[1];return e[n]=s,e}),{})}(mi(e,xc),"onExited","in","enter","exit","appear");return ql("input",hi({ref:t},r,{css:zl({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ac=["boxSizing","height","overflow","paddingRight","position"],Cc={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Dc(e){e.preventDefault()}function jc(e){e.stopPropagation()}function Fc(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;0===e?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Bc(){return"ontouchstart"in window||navigator.maxTouchPoints}var Lc=!("undefined"==typeof window||!window.document||!window.document.createElement),Uc=0,qc={capture:!1,passive:!1};var zc=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Hc={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Wc(e){var t=e.children,r=e.lockEnabled,s=e.captureEnabled,a=function(e){var t=e.isEnabled,r=e.onBottomArrive,s=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,i=Object(n.useRef)(!1),l=Object(n.useRef)(!1),u=Object(n.useRef)(0),c=Object(n.useRef)(null),d=Object(n.useCallback)((function(e,t){if(null!==c.current){var n=c.current,u=n.scrollTop,d=n.scrollHeight,f=n.clientHeight,m=c.current,p=t>0,h=d-f-u,g=!1;h>t&&i.current&&(s&&s(e),i.current=!1),p&&l.current&&(o&&o(e),l.current=!1),p&&t>h?(r&&!i.current&&r(e),m.scrollTop=d,g=!0,i.current=!0):!p&&-t>u&&(a&&!l.current&&a(e),m.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[r,s,a,o]),f=Object(n.useCallback)((function(e){d(e,e.deltaY)}),[d]),m=Object(n.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),p=Object(n.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;d(e,t)}),[d]),h=Object(n.useCallback)((function(e){if(e){var t=!!Au&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",m,t),e.addEventListener("touchmove",p,t)}}),[p,m,f]),g=Object(n.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",m,!1),e.removeEventListener("touchmove",p,!1))}),[p,m,f]);return Object(n.useEffect)((function(){if(t){var e=c.current;return h(e),function(){g(e)}}}),[t,h,g]),function(e){c.current=e}}({isEnabled:void 0===s||s,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,r=e.accountForScrollbars,s=void 0===r||r,a=Object(n.useRef)({}),o=Object(n.useRef)(null),i=Object(n.useCallback)((function(e){if(Lc){var t=document.body,r=t&&t.style;if(s&&Ac.forEach((function(e){var t=r&&r[e];a.current[e]=t})),s&&Uc<1){var n=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,i=window.innerWidth-o+n||0;Object.keys(Cc).forEach((function(e){var t=Cc[e];r&&(r[e]=t)})),r&&(r.paddingRight="".concat(i,"px"))}t&&Bc()&&(t.addEventListener("touchmove",Dc,qc),e&&(e.addEventListener("touchstart",Fc,qc),e.addEventListener("touchmove",jc,qc))),Uc+=1}}),[s]),l=Object(n.useCallback)((function(e){if(Lc){var t=document.body,r=t&&t.style;Uc=Math.max(Uc-1,0),s&&Uc<1&&Ac.forEach((function(e){var t=a.current[e];r&&(r[e]=t)})),t&&Bc()&&(t.removeEventListener("touchmove",Dc,qc),e&&(e.removeEventListener("touchstart",Fc,qc),e.removeEventListener("touchmove",jc,qc)))}}),[s]);return Object(n.useEffect)((function(){if(t){var e=o.current;return i(e),function(){l(e)}}}),[t,i,l]),function(e){o.current=e}}({isEnabled:r});return ql(n.Fragment,null,r&&ql("div",{onClick:zc,css:Hc}),t((function(e){a(e),o(e)})))}var Gc={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$c=function(e){var t=e.name,r=e.onFocus;return ql("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Gc,value:"",onChange:function(){}})},Xc={clearIndicator:sc,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var r=e.isDisabled,n=e.isFocused,s=e.theme,a=s.colors,o=s.borderRadius;return ui({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:n?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:n?a.primary:a.neutral30}})},dropdownIndicator:nc,group:function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:2*r.baseUnit,paddingTop:2*r.baseUnit}},groupHeading:function(e,t){var r=e.theme,n=r.colors,s=r.spacing;return ui({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*s.baseUnit,paddingRight:3*s.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var r=e.isDisabled,n=e.theme,s=n.spacing.baseUnit,a=n.colors;return ui({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:2*s,marginTop:2*s})},input:function(e,t){var r=e.isDisabled,n=e.value,s=e.theme,a=s.spacing,o=s.colors;return ui(ui({visibility:r?"hidden":"visible",transform:n?"translateZ(0)":""},fc),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var r=e.isFocused,n=e.size,s=e.theme,a=s.colors,o=s.spacing.baseUnit;return ui({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?a.neutral60:a.neutral20,padding:2*o})},loadingMessage:$u,menu:function(e,t){var r,n=e.placement,s=e.theme,a=s.borderRadius,o=s.spacing,i=s.colors;return ui((ii(r={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),ii(r,"position","absolute"),ii(r,"width","100%"),ii(r,"zIndex",1),r),t?{}:{backgroundColor:i.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var r=e.maxHeight,n=e.theme.spacing.baseUnit;return ui({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e,t){var r=e.theme,n=r.spacing,s=r.borderRadius,a=r.colors;return ui({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:s/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var r=e.theme,n=r.borderRadius,s=r.colors,a=e.cropWithEllipsis;return ui({overflow:"hidden",textOverflow:a||void 0===a?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var r=e.theme,n=r.spacing,s=r.borderRadius,a=r.colors,o=e.isFocused;return ui({alignItems:"center",display:"flex"},t?{}:{borderRadius:s/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:Gu,option:function(e,t){var r=e.isDisabled,n=e.isFocused,s=e.isSelected,a=e.theme,o=a.spacing,i=a.colors;return ui({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:s?i.primary:n?i.primary25:"transparent",color:r?i.neutral20:s?i.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:r?void 0:s?i.primary:i.primary50}})},placeholder:function(e,t){var r=e.theme,n=r.spacing,s=r.colors;return ui({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:s.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var r=e.isDisabled,n=e.theme,s=n.spacing,a=n.colors;return ui({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?a.neutral40:a.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},valueContainer:function(e,t){var r=e.theme.spacing,n=e.isMulti,s=e.hasValue,a=e.selectProps.controlShouldRenderValue;return ui({alignItems:"center",display:n&&s&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(2*r.baseUnit,"px")})}};var Kc,Yc={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Jc={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ou(),captureMenuScroll:!Ou(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=ui({ignoreCase:!0,ignoreAccents:!0,stringify:kc,trim:!0,matchFrom:"any"},Kc),n=r.ignoreCase,s=r.ignoreAccents,a=r.stringify,o=r.trim,i=r.matchFrom,l=o?Oc(t):t,u=o?Oc(a(e)):a(e);return n&&(l=l.toLowerCase(),u=u.toLowerCase()),s&&(l=Tc(l),u=wc(u)),"start"===i?u.substr(0,l.length)===l:u.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Qc(e,t,r,n){return{type:"option",data:t,isDisabled:sd(e,t,r),isSelected:ad(e,t,r),label:rd(e,t),value:nd(e,t),index:n}}function Zc(e,t){return e.options.map((function(r,n){if("options"in r){var s=r.options.map((function(r,n){return Qc(e,r,t,n)})).filter((function(t){return td(e,t)}));return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var a=Qc(e,r,t,n);return td(e,a)?a:void 0})).filter(Cu)}function ed(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,_i(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function td(e,t){var r=e.inputValue,n=void 0===r?"":r,s=t.data,a=t.isSelected,o=t.label,i=t.value;return(!id(e)||!a)&&od(e,{label:o,value:i,data:s},n)}var rd=function(e,t){return e.getOptionLabel(t)},nd=function(e,t){return e.getOptionValue(t)};function sd(e,t,r){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,r)}function ad(e,t,r){if(r.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,r);var n=nd(e,t);return r.some((function(t){return nd(e,t)===n}))}function od(e,t,r){return!e.filterOption||e.filterOption(t,r)}var id=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t},ld=1,ud=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bi(e,t)}(o,e);var t,r,s,a=Mi(o);function o(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,r){var n=t.props,s=n.onChange,a=n.name;r.name=a,t.ariaOnChange(e,r),s(e,r)},t.setValue=function(e,r,n){var s=t.props,a=s.closeMenuOnSelect,o=s.isMulti,i=s.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),a&&(t.setState({inputIsHiddenAfterUpdate:!o}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:r,option:n})},t.selectOption=function(e){var r=t.props,n=r.blurInputOnSelect,s=r.isMulti,a=r.name,o=t.state.selectValue,i=s&&t.isOptionSelected(e,o),l=t.isOptionDisabled(e,o);if(i){var u=t.getOptionValue(e);t.setValue(o.filter((function(e){return t.getOptionValue(e)!==u})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:a});s?t.setValue([].concat(_i(o),[e]),"select-option",e):t.setValue(e,"select-option")}n&&t.blurInput()},t.removeValue=function(e){var r=t.props.isMulti,n=t.state.selectValue,s=t.getOptionValue(e),a=n.filter((function(e){return t.getOptionValue(e)!==s})),o=Du(r,a,a[0]||null);t.onChange(o,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Du(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,r=t.state.selectValue,n=r[r.length-1],s=r.slice(0,r.length-1),a=Du(e,s,s[0]||null);t.onChange(a,{action:"pop-value",removedValue:n})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Mu.apply(void 0,[t.props.classNamePrefix].concat(r))},t.getOptionLabel=function(e){return rd(t.props,e)},t.getOptionValue=function(e){return nd(t.props,e)},t.getStyles=function(e,r){var n=t.props.unstyled,s=Xc[e](r,n);s.boxSizing="border-box";var a=t.props.styles[e];return a?a(s,r):s},t.getClassNames=function(e,r){var n,s;return null===(n=(s=t.props.classNames)[e])||void 0===n?void 0:n.call(s,r)},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,ui(ui({},hc),e.components);var e},t.buildCategorizedOptions=function(){return Zc(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return ed(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,r){t.setState({ariaSelection:ui({value:e},r)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var r=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():r&&t.openMenu("first"):(r&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var r=t.props,n=r.isMulti,s=r.menuIsOpen;t.focusInput(),s?(t.setState({inputIsHiddenAfterUpdate:!n}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Nu(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var r=e.touches,n=r&&r.item(0);n&&(t.initialTouchX=n.clientX,t.initialTouchY=n.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var r=e.touches,n=r&&r.item(0);if(n){var s=Math.abs(n.clientX-t.initialTouchX),a=Math.abs(n.clientY-t.initialTouchY);t.userIsDragging=s>5||a>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var r=t.props.inputValue,n=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(n,{action:"input-change",prevInputValue:r}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var r=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:r}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return id(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var r=t.props,n=r.isMulti,s=r.backspaceRemovesValue,a=r.escapeClearsValue,o=r.inputValue,i=r.isClearable,l=r.isDisabled,u=r.menuIsOpen,c=r.onKeyDown,d=r.tabSelectsValue,f=r.openMenuOnFocus,m=t.state,p=m.focusedOption,h=m.focusedValue,g=m.selectValue;if(!(l||"function"==typeof c&&(c(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||o)return;t.focusValue("previous");break;case"ArrowRight":if(!n||o)return;t.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(h)t.removeValue(h);else{if(!s)return;n?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!u||!d||!p||f&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":u?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:o}),t.onMenuClose()):i&&a&&t.clearValue();break;case" ":if(o)return;if(!u){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":u?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":u?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!u)return;t.focusOption("pageup");break;case"PageDown":if(!u)return;t.focusOption("pagedown");break;case"Home":if(!u)return;t.focusOption("first");break;case"End":if(!u)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++ld),t.state.selectValue=_u(e.value),e.menuIsOpen&&t.state.selectValue.length){var r=t.buildFocusableOptions(),n=r.indexOf(t.state.selectValue[0]);t.state.focusedOption=r[n]}return t}return t=o,s=[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps,n=t.clearFocusValueOnUpdate,s=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,o=t.isFocused,i=t.prevWasFocused,l=e.options,u=e.value,c=e.menuIsOpen,d=e.inputValue,f=e.isMulti,m=_u(u),p={};if(r&&(u!==r.value||l!==r.options||c!==r.menuIsOpen||d!==r.inputValue)){var h=c?function(e,t){return ed(Zc(e,t))}(e,m):[],g=n?function(e,t){var r=e.focusedValue,n=e.selectValue.indexOf(r);if(n>-1){if(t.indexOf(r)>-1)return r;if(n<t.length)return t[n]}return null}(t,m):null;p={selectValue:m,focusedOption:function(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}(t,h),focusedValue:g,clearFocusValueOnUpdate:!1}}var b=null!=s&&e!==r?{inputIsHidden:s,inputIsHiddenAfterUpdate:void 0}:{},v=a,y=o&&i;return o&&!y&&(v={value:Du(f,m,m[0]||null),options:m,action:"initial-input-focus"},y=!i),"initial-input-focus"===(null==a?void 0:a.action)&&(v=null),ui(ui(ui({},p),b),{},{prevProps:e,ariaSelection:v,prevWasFocused:y})}}],(r=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Tu(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isDisabled,n=t.menuIsOpen,s=this.state.isFocused;(s&&!r&&e.isDisabled||s&&n&&!e.menuIsOpen)&&this.focusInput(),s&&r&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):s||r||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Tu(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,r=this.state,n=r.selectValue,s=r.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var i=a.indexOf(n[0]);i>-1&&(o=i)}this.scrollToFocusedOptionOnUpdate=!(s&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,r=t.selectValue,n=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var s=r.indexOf(n);n||(s=-1);var a=r.length-1,o=-1;if(r.length){switch(e){case"previous":o=0===s?0:-1===s?a:s-1;break;case"next":s>-1&&s<a&&(o=s+1)}this.setState({inputIsHidden:-1!==o,focusedValue:r[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,r=this.state.focusedOption,n=this.getFocusableOptions();if(n.length){var s=0,a=n.indexOf(r);r||(a=-1),"up"===e?s=a>0?a-1:n.length-1:"down"===e?s=(a+1)%n.length:"pageup"===e?(s=a-t)<0&&(s=0):"pagedown"===e?(s=a+t)>n.length-1&&(s=n.length-1):"last"===e&&(s=n.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:n[s],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Yc):ui(ui({},Yc),this.props.theme):Yc}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,r=this.getStyles,n=this.getClassNames,s=this.getValue,a=this.selectOption,o=this.setValue,i=this.props,l=i.isMulti,u=i.isRtl,c=i.options;return{clearValue:e,cx:t,getStyles:r,getClassNames:n,getValue:s,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:a,selectProps:i,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,r=e.isMulti;return void 0===t?r:t}},{key:"isOptionDisabled",value:function(e,t){return sd(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ad(this.props,e,t)}},{key:"filterOption",value:function(e,t){return od(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var r=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:r,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,r=e.isSearchable,s=e.inputId,a=e.inputValue,o=e.tabIndex,i=e.form,l=e.menuIsOpen,u=e.required,c=this.getComponents().Input,d=this.state,f=d.inputIsHidden,m=d.ariaSelection,p=this.commonProps,h=s||this.getElementId("input"),g=ui(ui(ui({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":u,role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==m?void 0:m.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?n.createElement(c,hi({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:i,type:"text",value:a},g)):n.createElement(Rc,hi({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:vu,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:i,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),r=t.MultiValue,s=t.MultiValueContainer,a=t.MultiValueLabel,o=t.MultiValueRemove,i=t.SingleValue,l=t.Placeholder,u=this.commonProps,c=this.props,d=c.controlShouldRenderValue,f=c.isDisabled,m=c.isMulti,p=c.inputValue,h=c.placeholder,g=this.state,b=g.selectValue,v=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return p?null:n.createElement(l,hi({},u,{key:"placeholder",isDisabled:f,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),h);if(m)return b.map((function(t,i){var l=t===v,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return n.createElement(r,hi({},u,{components:{Container:s,Label:a,Remove:o},isFocused:l,isDisabled:f,key:c,index:i,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var M=b[0];return n.createElement(i,hi({},u,{data:M,isDisabled:f}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,r=this.props,s=r.isDisabled,a=r.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||s||!this.hasValue()||a)return null;var i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return n.createElement(e,hi({},t,{innerProps:i,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,r=this.props,s=r.isDisabled,a=r.isLoading,o=this.state.isFocused;return e&&a?n.createElement(e,hi({},t,{innerProps:{"aria-hidden":"true"},isDisabled:s,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,r=e.IndicatorSeparator;if(!t||!r)return null;var s=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return n.createElement(r,hi({},s,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,r=this.props.isDisabled,s=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return n.createElement(e,hi({},t,{innerProps:a,isDisabled:r,isFocused:s}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),r=t.Group,s=t.GroupHeading,a=t.Menu,o=t.MenuList,i=t.MenuPortal,l=t.LoadingMessage,u=t.NoOptionsMessage,c=t.Option,d=this.commonProps,f=this.state.focusedOption,m=this.props,p=m.captureMenuScroll,h=m.inputValue,g=m.isLoading,b=m.loadingMessage,v=m.minMenuHeight,y=m.maxMenuHeight,M=m.menuIsOpen,_=m.menuPlacement,I=m.menuPosition,P=m.menuPortalTarget,N=m.menuShouldBlockScroll,S=m.menuShouldScrollIntoView,E=m.noOptionsMessage,V=m.onMenuScrollToTop,w=m.onMenuScrollToBottom;if(!M)return null;var T,O=function(t,r){var s=t.type,a=t.data,o=t.isDisabled,i=t.isSelected,l=t.label,u=t.value,m=f===a,p=o?void 0:function(){return e.onOptionHover(a)},h=o?void 0:function(){return e.selectOption(a)},g="".concat(e.getElementId("option"),"-").concat(r),b={id:g,onClick:h,onMouseMove:p,onMouseOver:p,tabIndex:-1};return n.createElement(c,hi({},d,{innerProps:b,data:a,isDisabled:o,isSelected:i,key:g,label:l,type:s,value:u,isFocused:m,innerRef:m?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(t){if("group"===t.type){var a=t.data,o=t.options,i=t.index,l="".concat(e.getElementId("group"),"-").concat(i),u="".concat(l,"-heading");return n.createElement(r,hi({},d,{key:l,data:a,options:o,Heading:s,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return O(e,"".concat(i,"-").concat(e.index))})))}if("option"===t.type)return O(t,"".concat(t.index))}));else if(g){var k=b({inputValue:h});if(null===k)return null;T=n.createElement(l,d,k)}else{var x=E({inputValue:h});if(null===x)return null;T=n.createElement(u,d,x)}var R={minMenuHeight:v,maxMenuHeight:y,menuPlacement:_,menuPosition:I,menuShouldScrollIntoView:S},A=n.createElement(zu,hi({},d,R),(function(t){var r=t.ref,s=t.placerProps,i=s.placement,l=s.maxHeight;return n.createElement(a,hi({},d,R,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:i}),n.createElement(Wc,{captureEnabled:p,onTopArrive:V,onBottomArrive:w,lockEnabled:N},(function(t){return n.createElement(o,hi({},d,{innerRef:function(r){e.getMenuListRef(r),t(r)},isLoading:g,maxHeight:l,focusedOption:f}),T)})))}));return P||"fixed"===I?n.createElement(i,hi({},d,{appendTo:P,controlElement:this.controlRef,menuPlacement:_,menuPosition:I}),A):A}},{key:"renderFormField",value:function(){var e=this,t=this.props,r=t.delimiter,s=t.isDisabled,a=t.isMulti,o=t.name,i=t.required,l=this.state.selectValue;if(i&&!this.hasValue()&&!s)return n.createElement($c,{name:o,onFocus:this.onValueInputFocus});if(o&&!s){if(a){if(r){var u=l.map((function(t){return e.getOptionValue(t)})).join(r);return n.createElement("input",{name:o,type:"hidden",value:u})}var c=l.length>0?l.map((function(t,r){return n.createElement("input",{key:"i-".concat(r),name:o,type:"hidden",value:e.getOptionValue(t)})})):n.createElement("input",{name:o,type:"hidden",value:""});return n.createElement("div",null,c)}var d=l[0]?this.getOptionValue(l[0]):"";return n.createElement("input",{name:o,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,r=t.ariaSelection,s=t.focusedOption,a=t.focusedValue,o=t.isFocused,i=t.selectValue,l=this.getFocusableOptions();return n.createElement(_c,hi({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:s,focusedValue:a,isFocused:o,selectValue:i,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,r=e.IndicatorsContainer,s=e.SelectContainer,a=e.ValueContainer,o=this.props,i=o.className,l=o.id,u=o.isDisabled,c=o.menuIsOpen,d=this.state.isFocused,f=this.commonProps=this.getCommonProps();return n.createElement(s,hi({},f,{className:i,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:d}),this.renderLiveRegion(),n.createElement(t,hi({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:d,menuIsOpen:c}),n.createElement(a,hi({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),n.createElement(r,hi({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}])&&gi(t.prototype,r),s&&gi(t,s),Object.defineProperty(t,"prototype",{writable:!1}),o}(n.Component);ud.defaultProps=Jc;r(113),r(115),r(119),r(121),r(122),r(123),r(125),r(130),r(28),r(134),r(53);var cd=Object(n.forwardRef)((function(e,t){var r,s,a,o,i,l,u,c,d,f,m,p,h,g,b,v,y,M,_,I,P,N,S,E,V,w,T,O,k,x,R,A=(s=(r=e).defaultInputValue,a=void 0===s?"":s,o=r.defaultMenuIsOpen,i=void 0!==o&&o,l=r.defaultValue,u=void 0===l?null:l,c=r.inputValue,d=r.menuIsOpen,f=r.onChange,m=r.onInputChange,p=r.onMenuClose,h=r.onMenuOpen,g=r.value,b=mi(r,pi),v=fi(Object(n.useState)(void 0!==c?c:a),2),y=v[0],M=v[1],_=fi(Object(n.useState)(void 0!==d?d:i),2),I=_[0],P=_[1],N=fi(Object(n.useState)(void 0!==g?g:u),2),S=N[0],E=N[1],V=Object(n.useCallback)((function(e,t){"function"==typeof f&&f(e,t),E(e)}),[f]),w=Object(n.useCallback)((function(e,t){var r;"function"==typeof m&&(r=m(e,t)),M(void 0!==r?r:e)}),[m]),T=Object(n.useCallback)((function(){"function"==typeof h&&h(),P(!0)}),[h]),O=Object(n.useCallback)((function(){"function"==typeof p&&p(),P(!1)}),[p]),k=void 0!==c?c:y,x=void 0!==d?d:I,R=void 0!==g?g:S,ui(ui({},b),{},{inputValue:k,menuIsOpen:x,onChange:V,onInputChange:w,onMenuClose:O,onMenuOpen:T,value:R}));return n.createElement(ud,hi({ref:t},A))}));const dd=["tonic","first measure","second measure","end"],fd={step:dd[0],firstMeasure:null,secondMeasure:null,correctedMeasures:[],fourMeasurePhrasingReferences:[],modulations:[],beatsPerMeasure:4,loop:null,tonic:null,basedOn:null,romanNumerals:"",comment:"",tags:[],disableSnapToNotes:!1,form:[]},md=(e,t,r,n=null,s=[],a=[],o=!1,i)=>{var l;let u={};if(null!==t)o?e&&(u.modulations=Object.assign({},r.modulations||[]),u.modulations[t]=e.note.midiNumber%12):(u.correctedMeasures=Object.assign({},r.correctedMeasures||[]),u.correctedMeasures[t]=null!==(l=null==e?void 0:e.span[0])&&void 0!==l?l:n);else{const{step:t}=r;"end"!==t&&(u.step="midi"===i?"end":dd[dd.indexOf(t)+1]),"first measure"===t?u.firstMeasure=e.span[0]:"second measure"===t?u.secondMeasure=e.span[0]:"tonic"===t&&(u.tonic=e.note.midiNumber%12)}return Object.assign(Object.assign({},r),u)},pd=(e,t,r,n,s,a,o=null,i=[],l=[],u=!1)=>{const c=md(e,t,n,o,i,l,u,a);r(null),s(c)},hd=["A","A'","B","B'","C","C'","D","D'","E","E'","intro","intro (looped)","intro (not looped)","bridge","verse","chorus","A:antecedent","A:consequent","B:antecedent","B:consequent","C:antecedent","C:consequent","antecedent","consequent","sentence. basic idea","basic idea repeated","fragmentation","cadence","extra measure"],gd={"first measure":"#ffaaaa","second measure":"#ffffaa",tonic:"#aaffaa",end:"white"},bd={"first measure":"Click on a note at the start of the first measure","second measure":"Click on a note at the start of the second measure",tonic:"Click on a main tonic",end:"Click on root notes to enter chords. Alt+click for half duration"},vd=n.memo(({analysis:e,commitAnalysisUpdate:t,previouslySelectedMeasure:r,selectedMeasure:s,selectMeasure:a})=>{const o=(r,s,a,o="95%",i=null)=>{const[l,u]=Object(n.useState)(r.toString()),[c,d]=Object(n.useState)(!1);Object(n.useEffect)(()=>{var t;u(null!==(t=e[s])&&void 0!==t?t:r.toString())},[e[s]]),Object(n.useEffect)(()=>{if(c){const e=setTimeout(()=>d(!1),100);return()=>clearTimeout(e)}},[c]);return n.createElement("div",{key:"if_"+s,style:{marginTop:"10px"}},a,":"," ",n.createElement("input",{type:"text",value:l,style:{width:o,backgroundColor:c?"#66d":"#aaa",transition:"background-color 0.1s"},onChange:e=>u(e.target.value),onKeyDown:n=>{"Enter"===n.key&&(t(i?i(e,l):{[s]:"number"==typeof r?parseInt(l,10):l}),d(!0))}}))},i=Object(n.useRef)(null);Object(n.useEffect)(()=>{null!==s&&i.current.focus()},[s]);const l=o("","basedOn","Based on"),u=o(4,"beatsPerMeasure","Beats per measure","1em"),c=o("","romanNumerals","Roman numerals"),d=o("","comment","Comment"),f=o("",null,"Form section",void 0,(e,t)=>(a(null),{form:Object.assign(Object.assign({},e.form),{[s]:t})}));return n.createElement("div",{className:"App-main-content-area settings",key:"AnalysisBox"},n.createElement("div",{key:"nav-buttons"},n.createElement("div",{style:{display:"flex",flexDirection:"row"}},n.createElement("div",{style:{marginBottom:"10px"}},n.createElement("button",{className:"box-button",disabled:e.step===dd[0],onClick:()=>((e,t)=>t({step:dd[dd.indexOf(e.step)-1]}))(e,t)},"<")," ",n.createElement("button",{className:"box-button",disabled:e.step===dd[dd.length-1],onClick:()=>((e,t)=>t({step:dd[dd.indexOf(e.step)+1]}))(e,t)},">"))),"  ",null===s&&n.createElement("div",{style:{color:gd[e.step]}},bd[e.step])),n.createElement("div",{key:"menu",style:{marginTop:"20px"}},null!==s?n.createElement("div",null,n.createElement("div",null,"What to do with measure ",s,"?"),n.createElement("ul",{className:"vertical-list-of-buttons"},n.createElement("li",null,n.createElement("button",{className:"box-button",onClick:()=>{a(null),t({loop:s})}},"Mark loop start")),n.createElement("li",null,n.createElement("button",{className:"box-button",onClick:()=>{a(null),t({fourMeasurePhrasingReferences:[s]})}},"Mark start of 4-measure phrasing")),n.createElement("li",null,n.createElement("button",{className:"box-button",onClick:()=>{a(null),t({fourMeasurePhrasingReferences:[...e.fourMeasurePhrasingReferences||[],s].sort((e,t)=>e-t)})}},"Add custom phrasing measure (manual mode)")),n.createElement("li",null,"Adjust position: click anywhere"),n.createElement("li",null,"Enter modulation: alt+click on a new tonic"),n.createElement("li",null,n.createElement("div",null,"Add tag to span: [",null!=r?r:s,"-",s,"]",n.createElement(cd,{ref:i,options:nf.map(e=>({value:e,label:e})),onChange:n=>{var o,i;a(null),t({tagSpans:[...null!==(o=e.tagSpans)&&void 0!==o?o:[],{tag:n.value,span:[null!=r?r:s,s]}],tags:(null!==(i=e.tags)&&void 0!==i?i:[]).filter(e=>e!==n.value)})}}))),n.createElement("li",null,f,n.createElement("div",null,hd.map(r=>n.createElement("button",{style:{marginRight:"10px",marginTop:"10px"},className:"box-button",onClick:()=>{a(null),t({form:Object.assign(Object.assign({},e.form),{[s]:r})})}},r)))))):n.createElement("div",null,l,u,n.createElement("div",{key:"disable_snap",style:{marginTop:"10px"}},n.createElement("label",null,n.createElement("input",{type:"checkbox",onChange:()=>{t({disableSnapToNotes:!e.disableSnapToNotes})},checked:e.disableSnapToNotes}),"Disable snap to notes")),c,d,n.createElement("div",{key:"tags",style:{marginTop:"10px"}},"Tags:",n.createElement(cd,{isMulti:!0,options:nf.map(e=>({value:e,label:e})),value:(e.tags||[]).map(e=>({value:e,label:e})),onChange:e=>{t({tags:e.map(e=>e.value)})}})),e.tagSpans&&n.createElement("div",{key:"tagSpans",style:{marginTop:"10px"}},"Tag spans:",e.tagSpans.filter(({tag:e})=>-1===af.indexOf(e.split(":")[0])).map(({tag:e,span:t},r)=>n.createElement("div",null,e,": [",t[0],", ",t[1],"]"," ",n.createElement("button",{style:{marginRight:"10px",marginTop:"10px"},className:"box-button",onClick:()=>{alert("broken, fix")}},"x")))))))}),yd=[1,3,-1,6,8,10,-1],Md=[0,2,4,5,7,9,11],_d=()=>n.createElement("div",{style:{display:"inline-block"},className:"zoomable"},n.createElement("a",{href:"https://github.com/vpavlenko/12-colors/",target:"_blank",rel:"noopener noreferrer"},n.createElement("div",{style:{position:"relative",width:100,height:25}},[0,1,2,3,4,5,6].map(e=>n.createElement(n.Fragment,null,n.createElement("div",{key:"w_"+e,style:{backgroundColor:$o[Md[e]],position:"absolute",left:11*e,top:10,width:10,height:15,textAlign:"center",color:Go($o[Md[e]]),fontFamily:"sans-serif",fontSize:"8px",userSelect:"none"}},jo[Md[e]]),-1!==yd[e]?n.createElement("div",{style:{position:"absolute",top:0,left:11*(e+.5),zIndex:2,backgroundColor:$o[yd[e]],width:10,height:15,textAlign:"center",color:Go($o[yd[e]]),fontFamily:"sans-serif",fontSize:"8px",userSelect:"none"}},jo[yd[e]]):null)))));var Id=r(18);const Pd=Id.a.div`
  width: 1px;
  height: 100%;
  position: absolute;
  top: 0;
  z-index: 2;
  pointer-events: none;
`,Nd=Object(Id.a)(Pd)`
  background-color: #ff6666;
  pointer-events: none;
`,Sd=Object(Id.a)(Pd)`
  background-color: #444;
`,Ed=Object(Id.a)(Pd)`
  border-left: 1px dashed #262626;
`,Vd=({span:e,number:t,isFourMeasureMark:r,romanNumeral:s,formSection:a,modulation:o,stripesHeight:i,secondsToX:l,systemLayout:u,hasRomanNumerals:c,measureSelection:d,showHeader:f})=>{const{previouslySelectedMeasure:m,selectedMeasure:p,selectMeasure:h}=d,g=l(e[0])-1,b=l(e[1])-g-1;return n.createElement(n.Fragment,null,n.createElement(Sd,{key:"db_"+t,style:Object.assign({left:g},r&&{backgroundColor:"#aaa"})}),b&&f?n.createElement(n.Fragment,null,n.createElement("div",{key:"db_n_"+t,style:Object.assign({position:"absolute",top:i+(c?25:0),left:g+7+"px",color:p===t?"red":m===t?"green":"white",zIndex:1e3,cursor:"pointer",userSelect:"none"},"merged"===u?{width:b}:{}),onClick:e=>{e.stopPropagation(),h(t)}},n.createElement("span",{style:{fontSize:"12px",fontFamily:"sans-serif"}},t)),a&&n.createElement("div",{key:"form_section_"+t,style:{position:"absolute",left:g+("stacked"===u?23:1),top:("stacked"===u?c?20:0:55)+i,zIndex:5,backgroundColor:"#333",padding:"5px 10px 5px 10px",color:"#ffe",userSelect:"none",pointerEvents:"none"}},a)):null,c&&f?n.createElement("div",{key:"db_rn_"+t,style:{position:"absolute",left:g+"px",width:b,top:i,height:"merged"===u?25:20,display:"grid",placeItems:"center",zIndex:5,borderLeft:"1px solid black"}},s&&"_"!==s&&("merged"===u||b)&&n.createElement(Jo,{dashedRN:s,modulation:o,fontSize:"stacked"===u&&"20px"})||null):null)},wd=({second:e,secondsToX:t})=>n.createElement(Ed,{style:{left:t(e),zIndex:2,pointerEvents:"none"}}),Td=n.memo(({analysis:e,measures:t,midiNumberToY:r,secondsToX:s,noteHeight:a,firstMeasureNumber:o,midiRange:i})=>{const l=Zo(e);if(!l||!t)return;l.push({measure:t.length+o-1,tonic:l[0].tonic});const u=[];for(let e=0;e+1<l.length;++e){const c=l[e].measure-o+1,d=l[e+1].measure-o+1;if(d<0||c>=t.length)continue;const f=t[Math.max(c,0)],m=t[Math.min(d,t.length-1)],{tonic:p}=l[e],h=s(m)-s(f);if(h)for(let t=2;t<=9;++t){const o=p+12*t;o-12>=i[0]&&o-12<=i[1]&&u.push(n.createElement("div",{key:`tonalgrid_octave_${e}_${o}`,style:{position:"absolute",width:h,height:12*a,left:s(f),top:r(o-1),pointerEvents:"none",background:"linear-gradient(to top, #222, transparent)",zIndex:1}}))}}return u}),Od=n.memo(({analysis:e,measuresAndBeats:t,midiNumberToY:r,noteHeight:s,measureSelection:a,stripeSpecificProps:o,firstMeasureNumber:i,secondsToX:l,phraseStarts:u,systemLayout:c,midiRange:d,hasRomanNumerals:f=!0,showHeader:m=!0})=>{console.log("rerender of AnalysisGrid");const{measures:p,beats:h}=t,g=ri(e.tonic,e.modulations);return n.createElement(n.Fragment,null,p.map((t,r)=>{var s,d;const h=r+i;return n.createElement(Vd,{key:r,showHeader:m,span:[t,null!==(s=p[r+1])&&void 0!==s?s:t],isFourMeasureMark:-1!==u.indexOf(h),formSection:(null!==(d=e.form)&&void 0!==d?d:{})[h],number:h,measureSelection:a,romanNumeral:Lo(null==e?void 0:e.romanNumerals)[h-1],hasRomanNumerals:f,modulation:h in g?g[h]:null,stripesHeight:o?of:0,secondsToX:l,systemLayout:c})}),h.map(e=>n.createElement(wd,{key:e,second:e,secondsToX:l})),null!==e.tonic&&n.createElement(Td,{analysis:e,measures:p,secondsToX:l,midiNumberToY:r,noteHeight:s,firstMeasureNumber:i,midiRange:d}),o&&n.createElement(mf,Object.assign({tagSpans:e.tagSpans||[],measuresAndBeats:t,analysis:e},o)),"merged"===c&&e.loop&&n.createElement("div",{key:"loop",style:{boxShadow:"inset 0px -5px 10px white",pointerEvents:"none",position:"absolute",background:"linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0,0,0,0.9) 300px)",left:l(p[e.loop-1]),height:"100%",right:0,zIndex:1e3,width:"5000px"}},n.createElement("div",{style:{margin:"200px 50px 50px 20px",color:"white"}},"Loop")))}),kd=(e,t)=>{let r=1/0,n=-1/0;for(const s of e){if(t&&(s.span[1]<t[0]||s.span[0]>t[1]))continue;const{midiNumber:e}=s.note;r=Math.min(r,e),n=Math.max(n,e)}return[r,n]},xd=["#26577C","#AE445A","#63995a","#7c7126","#7c2676","#4e267c"],Rd=(e,t)=>{let r=(e.span[0]+e.span[1])/2;return t[0]<r&&r<t[1]},Ad=(e,t,r,s,a,o,i=((e,t)=>{}),l=null,u=((e,t)=>{}),c=(()=>{}),d=[],f=!1,m)=>e.map(e=>{const p=a(e.note.midiNumber),h=ef(e.span[0]-m),g=((e,t,r,n)=>null===r.tonic?xd[e%xd.length]:$o[(t.note.midiNumber-ei(ti(t,n),r))%12])(t,e,s,l),b=-1!==t?((e,t,r,n)=>{if(e.span[1]-e.span[0]<.08)return"";if(!r)return"";const s=ti(e,r);if(s<0||s+1>=r.length)return"";const a=Uo(Lo(n)[s]),o=r[s],i=r[s+1],l=a.length;let u=0;const c=(e.span[0]+e.span[1])/2;for(;u<l&&c>o+(i-o)*(u+1)/l;)u++;const d=a[u];if(!d)return"";const f=zo(d);return-1===f?"":jo[((e.note.midiNumber-ei(s,t))%12+12-f)%12]})(e,s,l,s.romanNumerals):null,v=b?n.createElement("span",{className:"noteText",style:{fontSize:Math.min(o+2,14)+"px",lineHeight:Math.min(o,14)+"px",fontFamily:"Helvetica, sans-serif",fontWeight:700,color:Go(g)}},b):null,y=f&&((e,t)=>{let r=1/0;for(let n of t)n.note.midiNumber<e.note.midiNumber&&Rd(e,n.span)&&(r=Math.min(r,e.note.midiNumber-n.note.midiNumber));return r})(e,d);return n.createElement("div",{key:"nr_"+e.id,className:"noteRectangleTonal",style:Object.assign({position:"absolute",height:o+"px",width:ef(e.span[1])-ef(e.span[0]),backgroundColor:g,top:p,left:h,pointerEvents:-1===t?"none":"auto",borderRadius:[10,3,0,5,20,7,1][t%7],cursor:"pointer",zIndex:10,opacity:r?1:.1,display:"grid",placeItems:"center"},-1===t?{boxShadow:"white 0px 1px",boxSizing:"border-box",backgroundColor:"transparent"}:{}),onClick:t=>{t.stopPropagation(),i(e,t.altKey)},onMouseEnter:t=>u(e,t.altKey),onMouseLeave:c},f&&y!==1/0&&r&&n.createElement("div",{style:{position:"relative",top:o,color:"white",fontFamily:"sans-serif",fontSize:"12px"}},jo[y%12]),!f&&v)}),Cd=({voiceMask:e,allActiveNotes:t,positionSeconds:r,futureAnalysis:s,notes:a,measuresAndBeats:o,measureSelection:i,showIntervals:l,registerSeekCallback:u,mouseHandlers:c,stripeSpecificProps:d})=>{const{handleNoteClick:f,handleMouseEnter:m,handleMouseLeave:p,hoveredNote:h,hoveredAltKey:g,systemClickHandler:b}=c,v=Object(n.useMemo)(()=>kd(t.flat()),[t]),[y,M]=Object(n.useState)(0),_=Object(n.useRef)(null);Object(n.useEffect)(()=>{const e=()=>{_.current&&M(_.current.offsetHeight)};return e(),window.addEventListener("resize",e),new ResizeObserver(()=>e()).observe(_.current),()=>{window.removeEventListener("resize",e)}},[]),Object(n.useEffect)(()=>{u(e=>_.current.scrollLeft=ef(e/1e3)-100)},[]);const I=(y-lf)/(v[1]-v[0]+7),P=Object(n.useMemo)(()=>e=>y-(e-v[0]+4)*I,[I]),N=Object(n.useMemo)(()=>a.flatMap((r,n)=>Ad(r,n,e[n],s,P,I,f,o.measures,m,p,t,l,0)),[a,s,o,I,e,h,g,l]),S=Object(n.useMemo)(()=>Do(s,o.measures.length),[s,o]);return n.createElement("div",{key:"innerLeftPanel",ref:_,style:{margin:0,padding:0,position:"relative",overflowX:"scroll",overflowY:"hidden",width:"100%",height:"100%",backgroundColor:"black"},onClick:b},N,n.createElement(Nd,{style:{left:ef(r)}}),n.createElement(Od,{analysis:s,measuresAndBeats:o,midiNumberToY:P,noteHeight:I,measureSelection:i,stripeSpecificProps:d,firstMeasureNumber:1,secondsToX:ef,phraseStarts:S,systemLayout:"merged",midiRange:v,hasRomanNumerals:!0}))},Dd=(e,t)=>t[0]<=e&&e<=t[1],jd=n.memo(({voiceName:e,voiceMask:t,setVoiceMask:r,voiceIndex:s})=>n.createElement(n.Fragment,null,e," ",n.createElement("span",{style:{cursor:"pointer",userSelect:"none",fontFamily:"sans-serif",fontSize:12},onClick:()=>1===t.filter(e=>e).length?r(t.map(()=>!0)):r(t.map((e,t)=>t===s))},"S")," ",n.createElement("span",{style:{cursor:"pointer",userSelect:"none",fontFamily:"sans-serif",fontSize:12},onClick:()=>r(t.map((e,t)=>t!==s&&e))},"M")," ")),Fd=({notes:e,measuresAndBeats:t,measuresSpan:r,secondsSpan:s,voiceMask:a,analysis:o,globalMeasures:i,mouseHandlers:l,measureSelection:u,showIntervals:c,cursor:d,phraseStarts:f,showHeader:m=!0,scrollLeft:p=-1,scrollRight:h=-1,voiceName:g,voiceIndex:b=-1,setVoiceMask:v=(e=>{}),bigVoiceMask:y})=>{const M=Object(n.useMemo)(()=>((e,t,r)=>{let n=1/0,s=-1/0;for(let a=0;a<e.length;++a){if(!t[a])continue;const o=kd(e[a],r);n=Math.min(n,o[0]),s=Math.max(s,o[1])}return[n,s]})(e,a,[tf(p),tf(h)]),[e,a,p,h]),{handleNoteClick:_,handleMouseEnter:I,handleMouseLeave:P,hoveredNote:N,hoveredAltKey:S,systemClickHandler:E}=l,V=((e,t)=>Lo(e).slice(t[0]-1,t[1]).some(e=>e&&"_"!==e))(o.romanNumerals,r),w=5*(M[0]===1/0?1:M[1]-M[0]+1)+(m?V?20:15:0),T=Object(n.useCallback)(e=>w-5*(e-M[0]+1),[w,M]),O=Object(n.useCallback)(e=>ef(e-s[0]),[s[0]]),k=Object(n.useMemo)(()=>e.flatMap((e,t)=>a[t]?Ad(e,t,a[t],o,T,5,()=>{},i,()=>{},()=>{},[],c,s[0]):[]),[e,o,i,a,N,S,c,M]),x=M[1]>M[0];return n.createElement("div",{key:"outer_phrase_"+r[0],style:{width:O(t.measures[t.measures.length-1]),height:x?w:1,position:"relative",marginTop:x?"10px":0,marginBottom:x?"20px":0,borderBottom:x?"1px solid #888":""},onClick:e=>E(e,s[0])},x?k:null,x?n.createElement(Od,{analysis:o,measuresAndBeats:t,midiNumberToY:T,noteHeight:5,measureSelection:u,firstMeasureNumber:r[0],phraseStarts:f,secondsToX:O,systemLayout:"stacked",midiRange:M,hasRomanNumerals:V,showHeader:m}):null,d,x?n.createElement("div",{style:{position:"relative",left:p+10,top:-16,zIndex:2,fontFamily:"sans-serif",fontSize:"12px"}},n.createElement(jd,{voiceName:g,voiceMask:y,setVoiceMask:v,voiceIndex:b})):null)},Bd=(e,t)=>e.map(e=>e.filter(e=>Dd((e.span[0]+e.span[1])/2,t))),Ld=({analysis:e,futureAnalysis:t,measuresAndBeats:r,notes:s,voiceMask:a,mouseHandlers:o,measureSelection:i,showIntervals:l,positionSeconds:u})=>{const c=Object(n.useMemo)(()=>Do(e,r.measures.length),[e,r]),d=Object(n.useMemo)(()=>((e,t,r)=>{const{measures:n,beats:s}=t,a=[];for(let t=0;t<r.length-2;t+=2){const o=[r[t],r[t+2]],i=[n[o[0]-1],n[o[1]-1]];a.push({notes:Bd(e,i),measuresSpan:o,secondsSpan:i,measuresAndBeats:{measures:n.filter(e=>Dd(e,i)),beats:s.filter(e=>Dd(e,i))}})}return a})(s,r,c),[s,r,c]);return n.createElement("div",{key:"stacked_system_layout",style:{margin:0,padding:0,position:"relative",overflowX:"scroll",overflowY:"scroll",width:"100%",height:"100%",backgroundColor:"black"}},d.map(e=>n.createElement(Fd,Object.assign({key:e.measuresSpan[0]},e,{analysis:t,voiceMask:a,globalMeasures:r.measures,mouseHandlers:o,measureSelection:i,showIntervals:l,phraseStarts:c,cursor:Dd(u,e.secondsSpan)&&n.createElement(Nd,{style:{left:ef(u-e.secondsSpan[0])}}),bigVoiceMask:a}))))},Ud=[!0],qd=({notes:e,voiceNames:t,voiceMask:r,measuresAndBeats:s,showIntervals:a,positionSeconds:o,analysis:i,mouseHandlers:l,measureSelection:u,setVoiceMask:c})=>{const d=Object(n.useMemo)(()=>e.map((e,t)=>({average:cf(e),voiceIndex:t})).sort((e,t)=>t.average-e.average).map(({voiceIndex:t})=>({voiceIndex:t,notes:[e[t]]})),[e]),f=Object(n.useMemo)(()=>Do(i,s.measures.length),[i,s]),m=Object(n.useRef)(null),[p,h]=Object(n.useState)({left:0,right:1e5}),g=()=>{const{scrollLeft:e,offsetWidth:t}=m.current;((e,t)=>{let r})(h({left:e,right:e+t}),500)};return Object(n.useEffect)(()=>{const e=m.current;return e&&e.addEventListener("scroll",g),()=>{e&&e.removeEventListener("scroll",g)}},[]),console.log("split rerender"),n.createElement("div",{key:"innerLeftPanel",style:{margin:"2 0 0 0",padding:0,position:"relative",overflowX:"scroll",overflowY:"scroll",width:"100%",height:"100%",backgroundColor:"black"},ref:m},n.createElement("div",null,d.map(({voiceIndex:e,notes:m},h)=>r[e]?n.createElement(Fd,{key:e,voiceName:t[e],notes:m,voiceMask:Ud,measuresAndBeats:s,measuresSpan:[1,s.measures.length],secondsSpan:[0,s.measures[s.measures.length-1]],analysis:i,globalMeasures:s.measures,mouseHandlers:l,measureSelection:u,showIntervals:a,showHeader:h===d.length-1,cursor:n.createElement(Nd,{style:{left:ef(o)}}),phraseStarts:f,scrollLeft:p.left,scrollRight:p.right,bigVoiceMask:r,setVoiceMask:c,voiceIndex:e}):null)))};var zd=r(4),Hd=r.n(zd);let Wd=0;const Gd=({events:e,activeChannels:t,timebase:r,timeEvents:n})=>{const s=function(e,t){const r=[0],n=[];let s=.5,a=4,o=4,i=0,l=0,u=0;const c=e=>{const t=u+(1-i)*s;return t-.005<=e?(l+1>=a?(r.push(t),l=0):(n.push(t),l++),i=0,u=t,!0):(i+=(e-u)/s,u=e,!1)};return e.forEach(e=>{if("timeSignature"===e.type)a=e.numerator,o=Math.pow(2,e.denominatorPower);else{const{bpm:t,playTime:r}=e;for(;c(r/1e3););s=60/t}}),{measures:r,beats:n}}(n);return e.forEach(t=>{t.subtype===Hd.a.EVENT_META_KEY_SIGNATURE&&console.log("KEY SIGNATURE",JSON.stringify(e))}),{notes:t.map(t=>((e,t)=>{const r=[],n={};return e.forEach(e=>{if(9===t)return[];if(e.channel===t&&8===e.type){const t=e.param1;9===e.subtype&&(n[t]=e.playTime),8===e.subtype&&t in n&&(r.push({note:{midiNumber:t,name:"??"},id:Wd,span:[n[t]/1e3,e.playTime/1e3],chipState:e}),Wd++,delete n[t])}}),r})(e,t)),measuresAndBeats:s}},$d={name:"PP",midiNumber:-1,frequency:20,pianoNumber:null,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},Xd=[$d,{name:"A0",midiNumber:21,frequency:27.5,pianoNumber:1,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:2033,triangleFrequency:27.4977,triangleTuningError:0},{name:"A#0",midiNumber:22,frequency:29.1352,pianoNumber:2,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1919,triangleFrequency:29.1304,triangleTuningError:0},{name:"B0",midiNumber:23,frequency:30.8677,pianoNumber:3,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1811,triangleFrequency:30.8666,triangleTuningError:0},{name:"C1",midiNumber:24,frequency:32.7031,pianoNumber:4,apuIndex:0,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1709,triangleFrequency:32.7078,triangleTuningError:0},{name:"C#1",midiNumber:25,frequency:34.6478,pianoNumber:5,apuIndex:1,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1613,triangleFrequency:34.6532,triangleTuningError:0},{name:"D1",midiNumber:26,frequency:36.708,pianoNumber:6,apuIndex:2,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1523,triangleFrequency:36.6997,triangleTuningError:0},{name:"D#1",midiNumber:27,frequency:38.8908,pianoNumber:7,apuIndex:3,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1437,triangleFrequency:38.8945,triangleTuningError:0},{name:"E1",midiNumber:28,frequency:41.2034,pianoNumber:8,apuIndex:4,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1356,triangleFrequency:41.2162,triangleTuningError:1},{name:"F1",midiNumber:29,frequency:43.6535,pianoNumber:9,apuIndex:5,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1280,triangleFrequency:43.6615,triangleTuningError:0},{name:"F#1",midiNumber:30,frequency:46.2493,pianoNumber:10,apuIndex:6,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1208,triangleFrequency:46.2617,triangleTuningError:0},{name:"G1",midiNumber:31,frequency:48.9994,pianoNumber:11,apuIndex:7,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1140,triangleFrequency:49.0187,triangleTuningError:1},{name:"G#1",midiNumber:32,frequency:51.913,pianoNumber:12,apuIndex:8,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:1076,triangleFrequency:51.9316,triangleTuningError:1},{name:"A1",midiNumber:33,frequency:55,pianoNumber:13,apuIndex:9,pulsePeriod:2033,pulseFrequency:54.9954,pulseTuningError:0,trianglePeriod:1016,triangleFrequency:54.9954,triangleTuningError:0},{name:"A#1",midiNumber:34,frequency:58.2704,pianoNumber:14,apuIndex:10,pulsePeriod:1919,pulseFrequency:58.2608,pulseTuningError:0,trianglePeriod:959,triangleFrequency:58.2608,triangleTuningError:0},{name:"B1",midiNumber:35,frequency:61.7354,pianoNumber:15,apuIndex:11,pulsePeriod:1811,pulseFrequency:61.7333,pulseTuningError:0,trianglePeriod:905,triangleFrequency:61.7333,triangleTuningError:0},{name:"C2",midiNumber:36,frequency:65.4063,pianoNumber:16,apuIndex:12,pulsePeriod:1709,pulseFrequency:65.4156,pulseTuningError:0,trianglePeriod:854,triangleFrequency:65.4156,triangleTuningError:0},{name:"C#2",midiNumber:37,frequency:69.2956,pianoNumber:17,apuIndex:13,pulsePeriod:1613,pulseFrequency:69.3065,pulseTuningError:0,trianglePeriod:806,triangleFrequency:69.3065,triangleTuningError:0},{name:"D2",midiNumber:38,frequency:73.4161,pianoNumber:18,apuIndex:14,pulsePeriod:1523,pulseFrequency:73.3994,pulseTuningError:0,trianglePeriod:761,triangleFrequency:73.3994,triangleTuningError:0},{name:"D#2",midiNumber:39,frequency:77.7817,pianoNumber:19,apuIndex:15,pulsePeriod:1437,pulseFrequency:77.7891,pulseTuningError:0,trianglePeriod:718,triangleFrequency:77.7891,triangleTuningError:0},{name:"E2",midiNumber:40,frequency:82.4068,pianoNumber:20,apuIndex:16,pulsePeriod:1356,pulseFrequency:82.4324,pulseTuningError:1,trianglePeriod:678,triangleFrequency:82.3717,triangleTuningError:-1},{name:"F2",midiNumber:41,frequency:87.307,pianoNumber:21,apuIndex:17,pulsePeriod:1280,pulseFrequency:87.323,pulseTuningError:0,trianglePeriod:640,triangleFrequency:87.2549,triangleTuningError:-1},{name:"F#2",midiNumber:42,frequency:92.4986,pianoNumber:22,apuIndex:18,pulsePeriod:1208,pulseFrequency:92.5234,pulseTuningError:0,trianglePeriod:604,triangleFrequency:92.4469,triangleTuningError:-1},{name:"G2",midiNumber:43,frequency:97.9988,pianoNumber:23,apuIndex:19,pulsePeriod:1140,pulseFrequency:98.0375,pulseTuningError:1,trianglePeriod:570,triangleFrequency:97.9516,triangleTuningError:-1},{name:"G#2",midiNumber:44,frequency:103.8261,pianoNumber:24,apuIndex:20,pulsePeriod:1076,pulseFrequency:103.8633,pulseTuningError:1,trianglePeriod:538,triangleFrequency:103.7669,triangleTuningError:-1},{name:"A2",midiNumber:45,frequency:110,pianoNumber:25,apuIndex:21,pulsePeriod:1016,pulseFrequency:109.9909,pulseTuningError:0,trianglePeriod:507,triangleFrequency:110.0992,triangleTuningError:2},{name:"A#2",midiNumber:46,frequency:116.5409,pianoNumber:26,apuIndex:22,pulsePeriod:959,pulseFrequency:116.5216,pulseTuningError:0,trianglePeriod:479,triangleFrequency:116.5216,triangleTuningError:0},{name:"B2",midiNumber:47,frequency:123.4708,pianoNumber:27,apuIndex:23,pulsePeriod:905,pulseFrequency:123.4666,pulseTuningError:0,trianglePeriod:452,triangleFrequency:123.4666,triangleTuningError:0},{name:"C3",midiNumber:48,frequency:130.8127,pianoNumber:28,apuIndex:24,pulsePeriod:854,pulseFrequency:130.8313,pulseTuningError:0,trianglePeriod:427,triangleFrequency:130.6785,triangleTuningError:-2},{name:"C#3",midiNumber:49,frequency:138.5913,pianoNumber:29,apuIndex:25,pulsePeriod:806,pulseFrequency:138.6131,pulseTuningError:0,trianglePeriod:403,triangleFrequency:138.4415,triangleTuningError:-2},{name:"D3",midiNumber:50,frequency:146.8323,pianoNumber:30,apuIndex:26,pulsePeriod:761,pulseFrequency:146.7989,pulseTuningError:0,trianglePeriod:380,triangleFrequency:146.7989,triangleTuningError:0},{name:"D#3",midiNumber:51,frequency:155.5634,pianoNumber:31,apuIndex:27,pulsePeriod:718,pulseFrequency:155.5783,pulseTuningError:0,trianglePeriod:359,triangleFrequency:155.3622,triangleTuningError:-2},{name:"E3",midiNumber:52,frequency:164.8137,pianoNumber:32,apuIndex:28,pulsePeriod:678,pulseFrequency:164.7434,pulseTuningError:-1,trianglePeriod:338,triangleFrequency:164.9864,triangleTuningError:2},{name:"F3",midiNumber:53,frequency:174.6141,pianoNumber:33,apuIndex:29,pulsePeriod:640,pulseFrequency:174.5098,pulseTuningError:-1,trianglePeriod:319,triangleFrequency:174.7825,triangleTuningError:2},{name:"F#3",midiNumber:54,frequency:184.9972,pianoNumber:34,apuIndex:30,pulsePeriod:604,pulseFrequency:184.8939,pulseTuningError:-1,trianglePeriod:301,triangleFrequency:185.2,triangleTuningError:2},{name:"G3",midiNumber:55,frequency:195.9977,pianoNumber:35,apuIndex:31,pulsePeriod:570,pulseFrequency:195.9033,pulseTuningError:-1,trianglePeriod:284,triangleFrequency:196.247,triangleTuningError:2},{name:"G#3",midiNumber:56,frequency:207.6523,pianoNumber:36,apuIndex:32,pulsePeriod:538,pulseFrequency:207.5339,pulseTuningError:-1,trianglePeriod:268,triangleFrequency:207.9197,triangleTuningError:2},{name:"A3",midiNumber:57,frequency:220,pianoNumber:37,apuIndex:33,pulsePeriod:507,pulseFrequency:220.1984,pulseTuningError:2,trianglePeriod:253,triangleFrequency:220.1984,triangleTuningError:2},{name:"A#3",midiNumber:58,frequency:233.0818,pianoNumber:38,apuIndex:34,pulsePeriod:479,pulseFrequency:233.0433,pulseTuningError:0,trianglePeriod:239,triangleFrequency:233.0433,triangleTuningError:0},{name:"B3",midiNumber:59,frequency:246.9416,pianoNumber:39,apuIndex:35,pulsePeriod:452,pulseFrequency:246.9333,pulseTuningError:0,trianglePeriod:225,triangleFrequency:247.4796,triangleTuningError:4},{name:"C4",midiNumber:60,frequency:261.6255,pianoNumber:40,apuIndex:36,pulsePeriod:427,pulseFrequency:261.357,pulseTuningError:-2,trianglePeriod:213,triangleFrequency:261.357,triangleTuningError:-2},{name:"C#4",midiNumber:61,frequency:277.1826,pianoNumber:41,apuIndex:37,pulsePeriod:403,pulseFrequency:276.8831,pulseTuningError:-2,trianglePeriod:201,triangleFrequency:276.8831,triangleTuningError:-2},{name:"D4",midiNumber:62,frequency:293.6647,pianoNumber:42,apuIndex:38,pulsePeriod:380,pulseFrequency:293.5979,pulseTuningError:0,trianglePeriod:189,triangleFrequency:294.3705,triangleTuningError:4},{name:"D#4",midiNumber:63,frequency:311.1269,pianoNumber:43,apuIndex:39,pulsePeriod:359,pulseFrequency:310.7244,pulseTuningError:-2,trianglePeriod:179,triangleFrequency:310.7244,triangleTuningError:-2},{name:"E4",midiNumber:64,frequency:329.6275,pianoNumber:44,apuIndex:40,pulsePeriod:338,pulseFrequency:329.9728,pulseTuningError:2,trianglePeriod:169,triangleFrequency:329.0023,triangleTuningError:-3},{name:"F4",midiNumber:65,frequency:349.2282,pianoNumber:45,apuIndex:41,pulsePeriod:319,pulseFrequency:349.565,pulseTuningError:2,trianglePeriod:159,triangleFrequency:349.565,triangleTuningError:2},{name:"F#4",midiNumber:66,frequency:369.9944,pianoNumber:46,apuIndex:42,pulsePeriod:301,pulseFrequency:370.4,pulseTuningError:2,trianglePeriod:150,triangleFrequency:370.4,triangleTuningError:2},{name:"G4",midiNumber:67,frequency:391.9954,pianoNumber:47,apuIndex:43,pulsePeriod:284,pulseFrequency:392.494,pulseTuningError:2,trianglePeriod:142,triangleFrequency:391.1217,triangleTuningError:-4},{name:"G#4",midiNumber:68,frequency:415.3046,pianoNumber:48,apuIndex:44,pulsePeriod:268,pulseFrequency:415.8394,pulseTuningError:2,trianglePeriod:134,triangleFrequency:414.2993,triangleTuningError:-4},{name:"A4",midiNumber:69,frequency:440,pianoNumber:49,apuIndex:45,pulsePeriod:253,pulseFrequency:440.3968,pulseTuningError:2,trianglePeriod:126,triangleFrequency:440.3968,triangleTuningError:2},{name:"A#4",midiNumber:70,frequency:466.1637,pianoNumber:50,apuIndex:46,pulsePeriod:239,pulseFrequency:466.0867,pulseTuningError:0,trianglePeriod:119,triangleFrequency:466.0867,triangleTuningError:0},{name:"B4",midiNumber:71,frequency:493.8833,pianoNumber:51,apuIndex:47,pulsePeriod:225,pulseFrequency:494.9593,pulseTuningError:4,trianglePeriod:112,triangleFrequency:494.9593,triangleTuningError:4},{name:"C5",midiNumber:72,frequency:523.2511,pianoNumber:52,apuIndex:48,pulsePeriod:213,pulseFrequency:522.714,pulseTuningError:-2,trianglePeriod:106,triangleFrequency:522.714,triangleTuningError:-2},{name:"C#5",midiNumber:73,frequency:554.3652,pianoNumber:53,apuIndex:49,pulsePeriod:201,pulseFrequency:553.7663,pulseTuningError:-2,trianglePeriod:100,triangleFrequency:553.7663,triangleTuningError:-2},{name:"D5",midiNumber:74,frequency:587.3295,pianoNumber:54,apuIndex:50,pulsePeriod:189,pulseFrequency:588.7411,pulseTuningError:4,trianglePeriod:94,triangleFrequency:588.7411,triangleTuningError:4},{name:"D#5",midiNumber:75,frequency:622.2539,pianoNumber:55,apuIndex:51,pulsePeriod:179,pulseFrequency:621.4489,pulseTuningError:-2,trianglePeriod:89,triangleFrequency:621.4489,triangleTuningError:-2},{name:"E5",midiNumber:76,frequency:659.2551,pianoNumber:56,apuIndex:52,pulsePeriod:169,pulseFrequency:658.0047,pulseTuningError:-3,trianglePeriod:84,triangleFrequency:658.0047,triangleTuningError:-3},{name:"F5",midiNumber:77,frequency:698.4564,pianoNumber:57,apuIndex:53,pulsePeriod:159,pulseFrequency:699.13,pulseTuningError:2,trianglePeriod:79,triangleFrequency:699.13,triangleTuningError:2},{name:"F#5",midiNumber:78,frequency:739.9888,pianoNumber:58,apuIndex:54,pulsePeriod:150,pulseFrequency:740.8,pulseTuningError:2,trianglePeriod:75,triangleFrequency:735.9263,triangleTuningError:-10},{name:"G5",midiNumber:79,frequency:783.9908,pianoNumber:59,apuIndex:55,pulsePeriod:142,pulseFrequency:782.2434,pulseTuningError:-4,trianglePeriod:70,triangleFrequency:787.7522,triangleTuningError:8},{name:"G#5",midiNumber:80,frequency:830.6093,pianoNumber:60,apuIndex:56,pulsePeriod:134,pulseFrequency:828.5986,pulseTuningError:-4,trianglePeriod:66,triangleFrequency:834.7821,triangleTuningError:9},{name:"A5",midiNumber:81,frequency:880,pianoNumber:61,apuIndex:57,pulsePeriod:126,pulseFrequency:880.7937,pulseTuningError:2,trianglePeriod:63,triangleFrequency:873.9125,triangleTuningError:-12},{name:"A#5",midiNumber:82,frequency:932.3275,pianoNumber:62,apuIndex:58,pulsePeriod:119,pulseFrequency:932.1734,pulseTuningError:0,trianglePeriod:59,triangleFrequency:932.1734,triangleTuningError:0},{name:"B5",midiNumber:83,frequency:987.7666,pianoNumber:63,apuIndex:59,pulsePeriod:112,pulseFrequency:989.9186,pulseTuningError:4,trianglePeriod:56,triangleFrequency:981.2351,triangleTuningError:-11},{name:"C6",midiNumber:84,frequency:1046.5022,pianoNumber:64,apuIndex:60,pulsePeriod:106,pulseFrequency:1045.4281,pulseTuningError:-2,trianglePeriod:52,triangleFrequency:1055.2906,triangleTuningError:14},{name:"C#6",midiNumber:85,frequency:1108.7305,pianoNumber:65,apuIndex:61,pulsePeriod:100,pulseFrequency:1107.5327,pulseTuningError:-2,trianglePeriod:49,triangleFrequency:1118.6081,triangleTuningError:15},{name:"D6",midiNumber:86,frequency:1174.659,pianoNumber:66,apuIndex:62,pulsePeriod:94,pulseFrequency:1177.4822,pulseTuningError:4,trianglePeriod:47,triangleFrequency:1165.2167,triangleTuningError:-14},{name:"D#6",midiNumber:87,frequency:1244.5079,pianoNumber:67,apuIndex:63,pulsePeriod:89,pulseFrequency:1242.8979,pulseTuningError:-2,trianglePeriod:44,triangleFrequency:1242.8979,triangleTuningError:-2},{name:"E6",midiNumber:88,frequency:1318.5102,pianoNumber:68,apuIndex:64,pulsePeriod:84,pulseFrequency:1316.0095,pulseTuningError:-3,trianglePeriod:41,triangleFrequency:1331.6763,triangleTuningError:17},{name:"F6",midiNumber:89,frequency:1396.9129,pianoNumber:69,apuIndex:65,pulsePeriod:79,pulseFrequency:1398.2601,pulseTuningError:2,trianglePeriod:39,triangleFrequency:1398.2601,triangleTuningError:2},{name:"F#6",midiNumber:90,frequency:1479.9776,pianoNumber:70,apuIndex:66,pulsePeriod:75,pulseFrequency:1471.8527,pulseTuningError:-10,trianglePeriod:37,triangleFrequency:1471.8527,triangleTuningError:-10},{name:"G6",midiNumber:91,frequency:1567.9817,pianoNumber:71,apuIndex:67,pulsePeriod:70,pulseFrequency:1575.5044,pulseTuningError:8,trianglePeriod:35,triangleFrequency:1553.6223,triangleTuningError:-16},{name:"G#6",midiNumber:92,frequency:1661.2187,pianoNumber:72,apuIndex:68,pulsePeriod:66,pulseFrequency:1669.5643,pulseTuningError:9,trianglePeriod:33,triangleFrequency:1645.0119,triangleTuningError:-17},{name:"A6",midiNumber:93,frequency:1760,pianoNumber:73,apuIndex:69,pulsePeriod:63,pulseFrequency:1747.8251,pulseTuningError:-12,trianglePeriod:31,triangleFrequency:1747.8251,triangleTuningError:-12},{name:"A#6",midiNumber:94,frequency:1864.655,pianoNumber:74,apuIndex:70,pulsePeriod:59,pulseFrequency:1864.3468,pulseTuningError:0,trianglePeriod:29,triangleFrequency:1864.3468,triangleTuningError:0},{name:"B6",midiNumber:95,frequency:1975.5332,pianoNumber:75,apuIndex:71,pulsePeriod:56,pulseFrequency:1962.4703,pulseTuningError:-11,trianglePeriod:27,triangleFrequency:1997.5145,triangleTuningError:19},{name:"C7",midiNumber:96,frequency:2093.0045,pianoNumber:76,apuIndex:72,pulsePeriod:52,pulseFrequency:2110.5813,pulseTuningError:14,trianglePeriod:26,triangleFrequency:2071.4965,triangleTuningError:-18},{name:"C#7",midiNumber:97,frequency:2217.461,pianoNumber:77,apuIndex:73,pulsePeriod:49,pulseFrequency:2237.2162,pulseTuningError:15,trianglePeriod:24,triangleFrequency:2237.2162,triangleTuningError:15},{name:"D7",midiNumber:98,frequency:2349.3181,pianoNumber:78,apuIndex:74,pulsePeriod:47,pulseFrequency:2330.4335,pulseTuningError:-14,trianglePeriod:23,triangleFrequency:2330.4335,triangleTuningError:-14},{name:"D#7",midiNumber:99,frequency:2489.0158,pianoNumber:79,apuIndex:75,pulsePeriod:44,pulseFrequency:2485.7958,pulseTuningError:-2,trianglePeriod:21,triangleFrequency:2542.2911,triangleTuningError:37},{name:"E7",midiNumber:100,frequency:2637.0204,pianoNumber:80,apuIndex:76,pulsePeriod:41,pulseFrequency:2663.3526,pulseTuningError:17,trianglePeriod:20,triangleFrequency:2663.3526,triangleTuningError:17},{name:"F7",midiNumber:101,frequency:2793.8258,pianoNumber:81,apuIndex:77,pulsePeriod:39,pulseFrequency:2796.5203,pulseTuningError:2,trianglePeriod:19,triangleFrequency:2796.5203,triangleTuningError:2},{name:"F#7",midiNumber:102,frequency:2959.9553,pianoNumber:82,apuIndex:78,pulsePeriod:37,pulseFrequency:2943.7055,pulseTuningError:-10,trianglePeriod:18,triangleFrequency:2943.7055,triangleTuningError:-10},{name:"G7",midiNumber:103,frequency:3135.9634,pianoNumber:83,apuIndex:79,pulsePeriod:35,pulseFrequency:3107.2447,pulseTuningError:-16,trianglePeriod:17,triangleFrequency:3107.2447,triangleTuningError:-16},{name:"G#7",midiNumber:104,frequency:3322.4375,pianoNumber:84,apuIndex:80,pulsePeriod:33,pulseFrequency:3290.0238,pulseTuningError:-17,trianglePeriod:16,triangleFrequency:3290.0238,triangleTuningError:-17},{name:"A7",midiNumber:105,frequency:3520,pianoNumber:85,apuIndex:81,pulsePeriod:31,pulseFrequency:3495.6503,pulseTuningError:-12,trianglePeriod:15,triangleFrequency:3495.6503,triangleTuningError:-12},{name:"A#7",midiNumber:106,frequency:3729.31,pianoNumber:86,apuIndex:82,pulsePeriod:29,pulseFrequency:3728.6937,pulseTuningError:0,trianglePeriod:14,triangleFrequency:3728.6937,triangleTuningError:0},{name:"B7",midiNumber:107,frequency:3951.0664,pianoNumber:87,apuIndex:83,pulsePeriod:27,pulseFrequency:3995.029,pulseTuningError:19,trianglePeriod:13,triangleFrequency:3995.029,triangleTuningError:19},{name:"C8",midiNumber:108,frequency:4186.009,pianoNumber:88,apuIndex:84,pulsePeriod:26,pulseFrequency:4142.993,pulseTuningError:-18,trianglePeriod:12,triangleFrequency:4302.3389,triangleTuningError:47},{name:"C#8",midiNumber:109,frequency:4434.922,pianoNumber:null,apuIndex:85,pulsePeriod:24,pulseFrequency:4474.4325,pulseTuningError:15,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"D8",midiNumber:110,frequency:4698.6362,pianoNumber:null,apuIndex:86,pulsePeriod:23,pulseFrequency:4660.8671,pulseTuningError:-14,trianglePeriod:11,triangleFrequency:4660.8671,triangleTuningError:-14},{name:"D#8",midiNumber:111,frequency:4978.0317,pianoNumber:null,apuIndex:87,pulsePeriod:21,pulseFrequency:5084.5823,pulseTuningError:37,trianglePeriod:10,triangleFrequency:5084.5823,triangleTuningError:37},{name:"E8",midiNumber:112,frequency:5274.0409,pianoNumber:null,apuIndex:88,pulsePeriod:20,pulseFrequency:5326.7053,pulseTuningError:17,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"F8",midiNumber:113,frequency:5587.6517,pianoNumber:null,apuIndex:89,pulsePeriod:19,pulseFrequency:5593.0406,pulseTuningError:2,trianglePeriod:9,triangleFrequency:5593.0406,triangleTuningError:2},{name:"F#8",midiNumber:114,frequency:5919.9107,pianoNumber:null,apuIndex:90,pulsePeriod:18,pulseFrequency:5887.4111,pulseTuningError:-10,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"G8",midiNumber:115,frequency:6271.9269,pianoNumber:null,apuIndex:91,pulsePeriod:17,pulseFrequency:6214.4895,pulseTuningError:-16,trianglePeriod:8,triangleFrequency:6214.4895,triangleTuningError:-16},{name:"G#8",midiNumber:116,frequency:6644.8751,pianoNumber:null,apuIndex:92,pulsePeriod:16,pulseFrequency:6580.0477,pulseTuningError:-17,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"A8",midiNumber:117,frequency:7040,pianoNumber:null,apuIndex:93,pulsePeriod:15,pulseFrequency:6991.3007,pulseTuningError:-12,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"A#8",midiNumber:118,frequency:7458.6201,pianoNumber:null,apuIndex:94,pulsePeriod:14,pulseFrequency:7457.3875,pulseTuningError:0,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null},{name:"B8",midiNumber:119,frequency:7902.1328,pianoNumber:null,apuIndex:95,pulsePeriod:13,pulseFrequency:7990.058,pulseTuningError:19,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null}];function Kd(e,t){if(-1===e)return $d;if("noise"===t){const t=e%4;return{name:t+"_",midiNumber:t+90,frequency:0,pianoNumber:null,apuIndex:null,pulsePeriod:null,pulseFrequency:null,pulseTuningError:null,trianglePeriod:null,triangleFrequency:null,triangleTuningError:null}}let r=null,n=1/0;for(const s of Xd){const a=Number("pulse"===t?s.pulsePeriod:s.trianglePeriod);if(null==a)continue;const o=Math.abs(e-a);o<n&&(n=o,r=s)}return r}let Yd=0;const Jd=(e,t)=>{if(void 0===e)return[];const r=[];let n=0;for(const s of e){const e=Kd(s,t),a=r[r.length-1];0!==r.length&&a.note.midiNumber===e.midiNumber||(r.length>0&&(a.span[1]=n),r.push({note:{midiNumber:-1===s?-1:e.midiNumber,name:e.name},id:Yd,span:[n,0],chipState:{period:s}}),Yd++),n+=.01}return r.length>0&&(r[r.length-1].span[1]=n),r.filter(e=>-1!==e.note.midiNumber)},Qd=({type:e,data:t})=>"nes"===e?(e=>({notes:[Jd(e.p1,"pulse"),Jd(e.p2,"pulse"),Jd(e.t,"triangle")]}))(t):"midi"===e?Gd(t):void 0,Zd=localStorage&&parseInt(localStorage.getItem("latency"),10)||70,ef=e=>50*e+55,tf=e=>e/50;var rf=({chipStateDump:e,getCurrentPositionMs:t,savedAnalysis:r,saveAnalysis:s,voiceNames:a,voiceMask:o,setVoiceMask:i,analysisEnabled:l,seek:u,registerSeekCallback:c,bookPath:d,pause:f,paused:m,loggedIn:p})=>{const[h,g]=Object(n.useState)(fd),[b,v]=Object(n.useState)(!1),[y,M]=Object(n.useState)("merged"),[_,I]=Object(n.useState)(null),P=Object(n.useCallback)(e=>{const t=Object.assign(Object.assign({},h),e);s(t),g(t)},[h,s]);Object(n.useEffect)(()=>{g(r||fd)},[r]);const[N,S]=Object(n.useState)(null),[E,V]=Object(n.useState)(null),w=Object(n.useCallback)(e=>{null===e?(S(null),V(null)):(S(E),V(e))},[E]),T=Object(n.useRef)(h);Object(n.useEffect)(()=>{T.current=h},[h]);const O=Object(n.useRef)(E);Object(n.useEffect)(()=>{O.current=E},[E]);const k=Object(n.useMemo)(()=>Qd(e),[e]),{notes:x}=k,R=Object(n.useMemo)(()=>x.flat(),[x]);Object(n.useEffect)(()=>{const e=(e=>{const t=[];for(let e=0;e<12;++e)t.push(0);e.forEach(e=>t[e.note.midiNumber%12]++);let r=-1,n=0;for(let e=0;e<12;++e){const s=Math.min(t[e],t[(e+7)%12]);s>n&&(r=e,n=s)}return console.log("count",t),console.log("bestValue",n),console.log("bestTonic",r),r})(R);-1!==e&&null===h.tonic&&g(Object.assign(Object.assign({},h),{tonic:e}))},[R]);const A=Object(n.useMemo)(()=>x.filter((e,t)=>o[t]).flat(),[x,o]),[C,D]=Object(n.useState)(null),[j,F]=Object(n.useState)(!1),B=(e,t)=>{D(e),F(t)},L=()=>{D(null)},U=Object(n.useMemo)(()=>{var t,r;return C?md(C,O.current,T.current,null,R,null!==(r=null===(t=null==k?void 0:k.measuresAndBeats)||void 0===t?void 0:t.measures)&&void 0!==r?r:Co(h,R).measures,j,e.type):h},[C,h]),q=Object(n.useMemo)(()=>{var e;return null!==(e=null==k?void 0:k.measuresAndBeats)&&void 0!==e?e:Co(U,R)},[U,R,k]),z=(t,r)=>{pd(t,O.current,V,T.current,P,e.type,null,R,q.measures,r)},[H,W]=Object(n.useState)(0);Object(n.useEffect)(()=>{let e=!0;const r=()=>{e&&(W(t()-Zd),requestAnimationFrame(r))};return r(),()=>{e=!1}},[]),Object(n.useEffect)(()=>{const e=e=>{"Escape"!==e.key&&27!==e.keyCode||w(null)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),!m&&d&&h.loop&&(H-3e3>1e3*q.measures[h.loop-1]||_&&H>1e3*q.measures[_])&&f();const G=Object(n.useCallback)((t,r=0)=>{const n=t.target,s=n.getBoundingClientRect(),a=t.clientX-s.left+n.scrollLeft-55,o=tf(a)+r;E?pd(null,O.current,V,T.current,P,e.type,o):u(1e3*o)},[E,O,V,T,P,u]),$="nes"===e.type&&{commitAnalysisUpdate:P,setVoiceMask:i,loggedIn:p,seek:u,setShowIntervals:v,voices:x},X=H/1e3,K=Object(n.useMemo)(()=>({handleNoteClick:z,handleMouseEnter:B,handleMouseLeave:L,hoveredNote:C,hoveredAltKey:j,systemClickHandler:G}),[z,B,L,C,j,G]),Y=Object(n.useMemo)(()=>({previouslySelectedMeasure:N,selectedMeasure:E,selectMeasure:w}),[N,E,w]),J=Object(n.useMemo)(()=>({notes:x,voiceMask:o,measuresAndBeats:q,showIntervals:b,positionSeconds:X}),[x,o,q,b,X]);return n.createElement("div",{className:"App-main-content-and-settings",style:{position:"relative"}},n.createElement("div",{key:"leftPanel",style:{width:"100%",height:"100%",padding:0,backgroundColor:"black"}},"stacked"===y?n.createElement(Ld,Object.assign({},J,{mouseHandlers:K,measureSelection:Y,analysis:h,futureAnalysis:U})):"merged"===y?n.createElement(Cd,Object.assign({},J,{mouseHandlers:K,measureSelection:Y,allActiveNotes:A,futureAnalysis:U,measuresAndBeats:q,stripeSpecificProps:$,registerSeekCallback:c})):n.createElement(qd,Object.assign({},J,{voiceNames:a,mouseHandlers:K,measureSelection:Y,analysis:U,setVoiceMask:i}))),l&&(d?n.createElement(xf,{path:d,playSegment:(e,t)=>{const r=[...o];for(let e=0;e<t.length;++e)r[e]="1"===t[e];i(r),I(e?e[1]:null);const n=e?1e3*q.measures[e[0]-1]:0;u(n)},analysis:h}):n.createElement(vd,{analysis:h,commitAnalysisUpdate:P,previouslySelectedMeasure:N,selectedMeasure:E,selectMeasure:w})),n.createElement("div",{style:{position:"fixed",top:"50px",right:"15px",zIndex:"100"}},n.createElement("label",{className:"inline"},n.createElement("input",{title:"Intervals",type:"checkbox",onClick:e=>{e.stopPropagation()},onChange:e=>{e.stopPropagation(),v(e.target.checked)},checked:b}),"Intervals")," ",n.createElement("label",{key:"merged",className:"inline"},n.createElement("input",{onClick:()=>M("merged"),type:"radio",name:"system-layout",defaultChecked:"merged"===y,value:"horizontal"}),"Merged")," ",n.createElement("label",{key:"split",className:"inline"},n.createElement("input",{onClick:()=>M("split"),type:"radio",name:"system-layout",defaultChecked:"split"===y,value:"split"}),"Split")," ",n.createElement("label",{key:"stacked",className:"inline"},n.createElement("input",{onClick:()=>M("stacked"),type:"radio",name:"system-layout",defaultChecked:"stacked"===y,value:"stacked"}),"Stacked")),n.createElement("div",{key:"piano-legend",style:{position:"absolute",bottom:10,left:10,zIndex:1e7}},n.createElement(_d,null)))};const nf=["scale:blues","scale:pentatonic","scale:major_pentatonic","scale:tetratonic","scale:chromatic","scale:phrygian","scale:dorian","scale:mixolydian","scale:lydian","scale:hijaz","scale:atonal","scale:octatonic","scale:natural_minor","scale:melodic_minor","scale:harmonic_minor","scale:harmonic_major","scale:hexatonic_minor_no6","scale:whole-tone","scale:nikriz","scale:saba","scale:mixed_minor","scale:hemitonic_pentatonic","scale:demo","scale:dorian_over_pentatonic","scale:mixed_major","scale:mixed_b2","harmony:stasis","harmony:parallel_keys","harmony:power_chords","harmony:diatonic_seventh_chords","harmony:blues_seventh_chords","harmony:constant_structures","harmony:quartal","harmony:neo-riemannian","harmony:diminished_seventh_chords","harmony:shuttle","harmony:mixolydian_shuttle","harmony:lydian_shuttle","harmony:plagal_shuttle","harmony:phrygian_shuttle","harmony:dorian_shuttle","harmony:blues_shuttle","harmony:I-vi shuttle","harmony:i-VI shuttle","harmony:i-VII shuttle","harmony:I-III shuttle","harmony:i-bvii shuttle","harmony:diminished_chord_modulation","harmony:weird","harmony:weird_alterations","harmony:pure_I-V","harmony:pure_i-V","harmony:57_chord_no3","harmony:parallel","harmony:tonic_added-sixth_chord","harmony:unison","harmony:rich_common_practice","harmony:far-out_point","harmony:weird_chord","harmony:turnaround_coda","harmony:picardy_third","harmony:rich","harmony:upper_structure","harmony:I-IV-V","harmony:V7b9","harmony:Vsus4","harmony:implied","harmony:harmonic_rhythm_acceleration","harmony:weird_dominant","harmony:I_in_minor","harmony:non-functional_maj7s","rhythm:syncopation","rhythm:interesting","rhythm:swing","rhythm:latin","rhythm:3+3+2","rhythm:1+2+2+2","rhythm:3+3+3+3+2+2","rhythm:4 against 3","rhythm:3 against 2","tempo:accelerando","tempo:ritardando","tempo:uneven","tempo:twice_as_fast","beats:unclear_measure_onsets","beats:incomplete_measure_on_transition","beats:extra_beat","beats:division_change","tonic:ambiguous","location:scary","location:launch_screen","location:menu","location:intro","location:level_start","location:level","location:boss","location:final_boss","location:level_completed","location:lost","location:game_won","location:credits","location:after_credits","location:jingle","location:shop","location:password","location:sport_level","location:sport_half_time","location:sport_points_scored","location:pause","chip:extensions","chip:tonal_DMC","chip:toms_DMC","chip:vocal_DMC","voice_leading:descending_chromatic_bass","voice_leading:descending_diatonic_bass","voice_leading:ascending_bass","voice_leading:descending_chromatic_melody","voice_leading:ascending_chromatic","voice_leading:Isus4","voice_leading:Cad64","voice_leading:Ger+6","voice_leading:triple_suspension","voice_leading:W-arpeggio","voice_leading:rich_ornamentation","voice_leading:three_parallel_voices","voice_leading:three_independent_voices","non-chord_tones:neighbor","non-chord_tones:double_neighbor","non-chord_tones:chromatic_passing","non-chord_tones:mordent","form:ABA","form:AABA","form:ABABC","form:ABAC","form:ABACA","form:ABAB","form:B_part_triple_shuttle","form:12-bar_blues","form:16-bar_blues","form:basso_ostinato","form:fermata_between_sections","form:extra_measure","form:stasis_vs_progression","form:period","form:period_without_melodic_repetition","form:uniform_period","form:reversed_period","form:tag","form:accumulative","form:solo","form:abrupt_ending","form:verse-chorus","form:development_through_timbre","form:sentence","form:not_looped","form:progression","form:EDM","form:complex","form:binary","form:binary_with_intro","form:modulation","timbre:ultra_fast_notes","timbre:rich","timbre:layered","timbre:wide_vibrato","timbre:oscillator_as_percussion","timbre:unexpected_detune","timbre:silence","timbre:chirp","timbre:portamento","timbre:one-channel delay","timbre:minor_seconds","timbre:chorus","timbre:tremolo","timbre:many_instruments_same_oscillator","timbre:variable_duty_cycle","timbre:siren","timbre:melody_echo","melody:riff","melody:transposed_riff","melody:chromatic_embellishments","melody:basic_idea_x3","melody:basic_idea_x4","melody:basic_idea_x2_and_fragmentation","melody:x2_vs_new_x2","melody:x2","melody:fills_at_rests","melody:fill_after_cadence","melody:stepwise","melody:chord_tones","melody:development_via_rhythmic_shift","melody:development_via_embellishments","melody:chord_tones_as_motive","melody:arc","melody:inversion","melody:ascending_chromatic","melody:higher_pitch_on_repeat","melody:starts_later_than_beat_one","melody:song-like","bass:drone","bass:transposed_riff","bass:riff","bass:walking","bass:melody","bass:alberti","bass:pedal_point","bass:counterpoint","bass:root_octaves","bass:mixed_octaves","bass:root","bass:root_third","bass:root_fifth","bass:root_third_fifth","bass:root_third_fifth_seventh","bass:creative_chord_tones","bass:absent","bass:inversions","bass:different_strategies","bass:smooth_chord_tones","bass:doubles_melody","bass:diatonic_approach","bass:chromatic_approach","bass:parallel_thirds_with_melody","bass:scale","style:common_practice","style:ragtime","style:waltz","style:arabic","style:functional_blues","style:chinese","style:major_chord_jingle","style:single_chord_jingle","style:bagpipe","style:bossa_nova","style:boogie-woogie","style:banjo","style:math-rock","style:big_band","style:reggae","style:static_power_chord_riff","other:wrong_author","middle_voice:doubles_bass","middle_voice:parallel_octaves","middle_voice:parallel_fourths","middle_voice:parallel_fifths","middle_voice:parallel_thirds","middle_voice:parallel_thirds_with_bass","middle_voice:mixed_parallel","middle_voice:parallel_thirds_and_sixths","middle_voice:parallel_sixths","middle_voice:parallel_thirds_and_chord_tones","middle_voice:lower_chord_tones","middle_voice:any_chord_tones","middle_voice:creative_chord_tones","middle_voice:root","middle_voice:static_chord_tones","middle_voice:drone","middle_voice:riff","middle_voice:riffy_complex","middle_voice:transposed_riff","middle_voice:absent","middle_voice:melody_below_arpeggio","middle_voice:arpeggio","middle_voice:root_octaves","melody:arpeggio","melody:reharmonization","reference:previous_subtune","reference:copy_of_previous_subtune","motive:natural_horn_call","motive:telephone_call","motive:cadential","middle_voice:counterpoint","middle_voice:counterpoint_and_drone","upper_voices:arpeggio","upper_voices:absent","upper_voices:legato_melody","upper_voices:different_strategies","upper_voices:same_range","middle_voice:two_notes","bass:two_notes","upper_voice:riff","percussion:layered","analyzed_in:hopkins","analyzed_in:the common cold","anomaly:strange_offset","lower_voices:double_parallel","lower_voices:same_range","origin:demoscene","origin:russia","game_genre:baseball","lego:pullback","midi:no_beat_grid","midi:extra_half_measure","midi:time_signature_bugs","bassist:James_Jamerson"],sf=e=>{var t,r,n;return Array.from(new Set([...null!==(t=e.tags)&&void 0!==t?t:[],...null!==(n=null===(r=e.tagSpans)||void 0===r?void 0:r.map(({tag:e})=>e))&&void 0!==n?n:[]]))},af=["melody","middle_voice","bass","harmony","form","other"],of=20*af.length,lf=of+70;function uf(e){return"#"+function(e){const t=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,n=parseInt(e.slice(4,6),16)/255;if(function(e,t,r){return.2126*e+.7152*t+.0722*r}(t,r,n)>.5){return(255-255*t).toString(16).padStart(2,"0")+(255-255*r).toString(16).padStart(2,"0")+(255-255*n).toString(16).padStart(2,"0")}return e}(function(e){const t=(16777215&e).toString(16).toUpperCase();return"000000".substr(0,6-t.length)+t}(function(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}(e)))}const cf=e=>e.length>0?e.reduce((e,t)=>e+t.note.midiNumber,0)/e.length:1/0,df=({startSecond:e,endSecond:t,widthInMeasures:r,tag:s,tagVoices:a,setVoiceMask:o,seek:i,removeTag:l,attachVoices:u,setShowIntervals:c})=>{const[d,f]=s.split(":"),m=ff({bass:-1,middle:-1,high:-1},d,f);return n.createElement("div",{className:"stripeTag",style:{position:"absolute",left:ef(e),width:ef(t)-ef(e),backgroundColor:uf(s),color:"white",padding:"0 5px 0 5px",boxSizing:"border-box",height:20,zIndex:4e3-r,display:"flex",flexDirection:"row",justifyContent:"flex-start",gap:"20px",borderRight:"1px solid black",overflow:"hidden"},onClick:e=>e.stopPropagation()},l&&n.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),l()},style:{backgroundColor:"transparent",color:"white",fontSize:20}},"[x]"),n.createElement("a",{href:`/chiptheory/search/${d}/${f}`,target:"_blank",onClick:e=>e.stopPropagation()},n.createElement("span",{style:{fontSize:20}},f.replace(/_/g," "))),u&&!a&&m&&n.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),u()},style:{backgroundColor:"transparent",color:"white",fontSize:20}},"[attach ",1===m.length?"a voice":"voices","]"),n.createElement("span",null,null==a?void 0:a.map(t=>n.createElement("span",{onClick:()=>{const r=[!1,!1,!1,!1,!1];r[t]=!0,o(r),c(!1),i(1e3*e)},style:{fontSize:20,marginRight:"10px",cursor:"pointer"}},"#",t)),(!a||a.length>1)&&n.createElement("span",{onClick:()=>{if(a){const e=[!1,!1,!1,!1,!1];a.forEach(t=>e[t]=!0),o(e)}else o([!0,!0,!0,!0,!0]);i(1e3*e),c(f.startsWith("parallel"))},style:{fontSize:20,cursor:"pointer"}},a?"mix":"play")))},ff=(e,t,r)=>{if("bass"===t)return"parallel_thirds_with_melody"===r?[e.bass,e.high]:[e.bass];if("middle_voice"===t)return"absent"===r?null:r.startsWith("parallel")||r.endsWith("chord_tones")?[e.middle,e.high]:"melody_below_arpeggio"===r?[e.high,e.middle]:[e.middle];if("melody"===t)return"fills_at_rests"===r?[e.high,e.middle]:[e.high];if("timbre"===t){if("oscillator_as_percussion"===r)return[e.bass];if("ultra_fast_notes"===r)return[e.high]}return null},mf=n.memo(({tagSpans:e,measuresAndBeats:t,analysis:r,commitAnalysisUpdate:s,setVoiceMask:a,loggedIn:o,voices:i,seek:l,setShowIntervals:u})=>{const c=new Array(af.length).fill(null).map(()=>[]);return e.map(({tag:d,span:f,voices:m},p)=>{const[h,g]=d.split(":");let b=af.indexOf(h);-1===b&&(b="scale"===h?af.indexOf("harmony"):af.length-1);const v=t.measures[f[0]-1],y=t.measures[Math.min(f[1],t.measures.length-1)];c[b].push(n.createElement(df,{startSecond:v,endSecond:y,widthInMeasures:f[1]-f[0],tag:d,tagVoices:m,setVoiceMask:a,seek:l,removeTag:o&&(()=>{const t=[...e];t.splice(p,1),s(Object.assign(Object.assign({},r),{tagSpans:t}))}),attachVoices:o&&(()=>{const t=((e,t,r)=>{const n=e.map((e,n)=>[cf(e.filter(e=>e.span[0]+.05>=t&&e.span[1]-.05<=r)),n]).sort((e,t)=>e[0]-t[0]);return n[1][0]===1/0?{bass:n[0][1]}:n[2][0]===1/0?{bass:n[0][1],high:n[1][1]}:{bass:n[0][1],middle:n[1][1],high:n[2][1]}})(i,v,y),n=ff(t,h,g);n&&s(Object.assign(Object.assign({},r),{tagSpans:[...e.slice(0,p),{tag:d,span:f,voices:n},...e.slice(p+1)]}))}),setShowIntervals:u}))}),n.createElement("div",{style:{position:"absolute",top:0,left:0,height:20*af.length,zIndex:1e3}},c.map((e,t)=>n.createElement("div",{style:{height:20,position:"absolute",top:20*t,left:0,width:"100%"}},n.createElement("div",{style:{position:"absolute",fontSize:20,padding:"0 5px 0 5px"}},af[t].replace("middle_voice","middle")),e)),n.createElement("div",{style:{height:20,position:"absolute",top:20*af.length,left:0,width:"100%"}},n.createElement("div",{style:{position:"absolute",fontSize:20,padding:"0 5px 0 5px"}},n.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a([!0,!0,!0,!0,!0]),u(!1)},style:{backgroundColor:"transparent",color:"white",fontSize:20}},"[mix]"))))}),pf=(e,t)=>(" "+(e.romanNumerals||"").replace(/-/g," ")+" ").includes(" "+t+" "),hf=(e,t)=>{const r=t.slice(0,t.indexOf("/")),n=t.slice(t.indexOf("/")+1);return"chords"===r?pf(e,n.replace(/-/g," ")):"cover"===r?Boolean(e.basedOn):sf(e).some(e=>e===t.replace("/",":"))},gf=["VI VII I","I III","III IV V","i VI i","i I","IV iv","I VII","VII VI V","VII VI v","V IV I","V vi","V/ii","V7/IV","V/V","V/vi","viio/V","viio7","V+","bII","bvii","io7","I7","I^","viø"],bf={hijaz:[0,1,4,5,7],dorian:[0,2,3,5,7,9,10],pentatonic:[0,3,5,7,10],chromatic:[0,1,2,3,4,5,6],blues:[0,3,5,6,7,10],"whole-tone":[0,2,4,6,8,10],phrygian:[0,1,3,5,7,8,10],nikriz:[0,2,3,6,7],melodic_minor:[0,2,3,5,7,9,11],mixed_minor:[8,9,10,11],natural_minor:[0,2,3,5,7,8,10],mixolydian:[0,2,4,5,7,9,10],lydian:[0,2,4,6,7,9,11],hexatonic_minor_no6:[0,2,3,5,7,10],major:[0,2,4,5,7,9,11],major_pentatonic:[0,2,4,7,9],harmonic_major:[0,2,4,5,7,8,11],hemitonic_pentatonic:[0,2,3,7,8],harmonic_minor:[0,2,3,5,7,8,11],octatonic:[0,2,3,5,6,8,9,11]};var vf=Object(n.memo)(({analyses:e,searchPath:t})=>{t=t||"";const r=Object(vo.g)(),[s,a]=Object(n.useState)({}),[o,i]=Object(n.useState)(0),l=t.slice(0,t.indexOf("/")),u=t.slice(t.indexOf("/")+1);return Object(n.useEffect)(()=>{const t={scale:{hijaz:[],phrygian:[],natural_minor:[],harmonic_minor:[],dorian:[],melodic_minor:[],nikriz:[],octatonic:[],mixed_minor:[],hexatonic_minor_no6:[],hemitonic_pentatonic:[],pentatonic:[],blues:[],mixolydian:[],major:[],lydian:[],harmonic_major:[],major_pentatonic:[]},bass:{},middle_voice:{},form:{},harmony:{},rhythm:{}};let r=0;e&&Object.keys(e).map(n=>Object.keys(e[n]).map(s=>{Object.entries(e[n][s]).map(([e,a])=>{sf(a).map(r=>{const[o,i]=r.split(":");t[o]||(t[o]={}),t[o][i]=[...t[o][i]||[],{game:n,file:s,subtune:e,analysis:a}]}),a.basedOn&&r++})})),a(t),i(r)},[e]),n.createElement("div",{key:"rn"},n.createElement("div",{key:"rn",style:{margin:"0px 0px 30px 0px"}},n.createElement("h6",{style:{marginBottom:"5px"}},"roman numerals"),gf.map(e=>n.createElement("div",{key:e,style:Object.assign({margin:"0px 10px 10px 1px",display:"inline-block"},"chords"===l&&u.replace(/-/g," ")===e?{boxShadow:"0px 0px 0px 1px white"}:{})},n.createElement(Oo,{to:"/search/chords/"+e.replace(/ /g,"-")},n.createElement(Yo,{rnArray:e.split(" "),isSearch:!0}))))),n.createElement("div",{key:"covers"},n.createElement("div",{style:{margin:"0px 0px 30px 0px"}},n.createElement("h6",{style:Object.assign({marginBottom:"5px",cursor:"pointer"},"cover"===l?{color:"yellow"}:{}),onClick:()=>r.push("/search/covers/")},"covers ",n.createElement("span",{style:{fontSize:"16px"}},o)))),Object.entries(s).map(([e,t])=>n.createElement("div",{key:e},n.createElement("h6",{style:{marginBottom:"2px"}},e.replace(/_/g," ")),n.createElement("div",{style:{margin:"0px 0px 30px 0px"}},Object.entries(t).map(([t,s])=>n.createElement("div",{key:t,style:Object.assign({cursor:"pointer"},e===l&&t===u?{color:"yellow"}:{}),onClick:()=>r.push(`/search/${e}/${t}`)},"scale"===e&&t in bf&&n.createElement(Nf,{d:bf[t]})," ",t.replace(/_/g," ")," ",n.createElement("span",{style:{fontSize:"16px"}},s.length)))))))});const yf=({fs:e})=>n.createElement("div",{style:{backgroundColor:"#333",padding:"1px 10px 0px 10px",color:"white",display:"inline-block"}},e),Mf=()=>n.createElement(yf,{fs:"A"}),_f=()=>n.createElement(yf,{fs:"B"}),If=()=>n.createElement(yf,{fs:"C"}),Pf=({d:e})=>n.createElement("div",{style:{width:"15px",height:"13px",backgroundColor:$o[e],display:"inline-block",borderRadius:"3px"}}),Nf=({d:e=null,name:t=null})=>{const r=null!=e?e:bf[t];return n.createElement("div",{style:{display:"inline-block"}},r.map((e,t)=>n.createElement("span",{style:{position:"relative",top:.8*(r.length/2-t),marginRight:"3px"}},n.createElement(Pf,{d:e}))))},Sf=({cn:e})=>n.createElement("div",{style:{width:"24px",height:"18px",display:"inline-block",borderRadius:"10px",backgroundColor:"white"}},n.createElement("div",{style:{display:"grid",placeItems:"center"}},n.createElement("span",{style:{color:"black",fontFamily:"Helvetica, sans-serif",fontWeight:700,fontSize:"14px"}},jo[e]))),Ef=n.createContext(null),Vf=({span:e=null,mask:t,children:r})=>{const s=n.useContext(Ef);return n.createElement("button",{className:"box-button",style:{margin:"0 10px 10px 0"},onClick:()=>s(e,t)},r)},wf=({r:e})=>n.createElement(n.Fragment,null,e),Tf={diversity:[{path:"Nintendo/Armadillo",subtune:"1",title:"functional",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Music for NES/Famicom is very diverse in its structure. I invite you to the journey on discovering it. It can be functional and complex in chords."))},{path:"Nintendo/Bao Xiao Tien Guo (Explosion Sangokushi) - Bao Xiao San Guo (SFX)",subtune:"2",title:"static",text:()=>n.createElement(n.Fragment,null,"It can be static in harmony, it can have riffs and have a dorian feel"," ",n.createElement(Nf,{name:"dorian"}),". What's a dorian feel? Click on the tags below to see other examples which I tagged this way. Maybe you can feel it too.")},{path:"Nintendo/Astyanax",subtune:"8",title:"chromatic",text:()=>n.createElement(n.Fragment,null,"It can be chromatic, with no reuse of a standard tonal theory, yet rhythmically very clear and even.")},{path:"Nintendo/Bakushou! Star Monomane Shitennou",subtune:"20",title:"rock-n-roll",text:()=>n.createElement(n.Fragment,null,"It can employ the language of rock-n-roll and solo-like elements.")},{path:"Nintendo/Barcode World",subtune:"6",title:"lost",text:()=>n.createElement(n.Fragment,null,"It may have short tracks for certain cases - eg. when a player has lost.")},{path:"Nintendo/Bad Dudes  [Bad Dudes vs. Dragon Ninja]",subtune:"6",title:"classic",text:()=>n.createElement(n.Fragment,null,"It can sound very classic. How is this sound achieved? And how to break outside of it?")},{path:"Nintendo/Bucky O'Hare",subtune:"18",title:"80s",text:()=>n.createElement(n.Fragment,null,"It can sound like 80s. Or maybe it sounds completely different for you.")},{path:"Nintendo/Bionic Commando",subtune:"5",title:"complex",text:()=>n.createElement(n.Fragment,null,"Many voice-leading and harmonic techniques can blend in a single piece.")},{path:"Nintendo/Alfred Chicken",subtune:"1",title:"cool timbres",text:()=>n.createElement(n.Fragment,null,"Composers were searching for cool timbres and witty sound effects.")},{path:"Nintendo/Alien 3",subtune:"1",title:"vibes",text:()=>n.createElement(n.Fragment,null,"Sometimes you just vibe.")},{path:"Nintendo/Bucky O'Hare",subtune:"19",title:"boss",text:()=>n.createElement(n.Fragment,null,"Sometimes you fight a boss.")},{path:"Nintendo/Adventures of Lolo 3",subtune:"19",title:"victory",text:()=>n.createElement(n.Fragment,null,"And then, maybe, at some point you celebrate victory.")}],notation:[{path:"Nintendo/1943 - The Battle of Midway",subtune:"10",title:"12 colors",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"I visualize the notes via a piano roll. The notes are painted in 12 rainbow colors. Same notes in different octaves have the same color. A red note is a tonic. I choose it manually for every piece."))},{path:"Nintendo/Exodus - Journey to the Promised Land",subtune:"10",title:"major scale",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Most pieces choose several notes out of these 12 as main ones and use others rarely. A major scale will always have the same seven colors. What is a major scale? It's seven notes with certain intervals chosen from a tonic. A major scale will always have its third note in green."))},{path:"Nintendo/Alien Syndrome",subtune:"1",title:"minor scale",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A minor scale will have that third note one semitone closer to the tonic - and thus it will always be yellow. The fifth note is blue in both scales."),n.createElement("div",null,'Oh and there isn\'t a single thing like a "minor scale". Instead, there are many, depending on which color are second, sixth, seventh notes. Here you see a natural minor scale.'))},{path:"Nintendo/Alfred Chicken",subtune:"2",title:"major chord",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A chord is three notes chosen from the scale."))}],textures:[{path:"Nintendo/Adventures of Lolo 2",subtune:"7",title:"unison",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,'A unison texture, a single melodic line doubled in an octaves, with no bass, no chords. A rare beast in NES. The usage of an unusual scale give it another flavor of "not from here".'),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[1,8],mask:"11000"},"Upper voice"),n.createElement(Vf,{span:[1,8],mask:"00100"},"Lower voice"),n.createElement(Vf,{span:[1,8],mask:"11100"},"Two voices"),n.createElement(Vf,{span:[1,8],mask:"11111"},"Two voices + percussion")))},{path:"Nintendo/Exodus - Journey to the Promised Land",subtune:"1",title:"parallel harmony",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,'Western music language dominates in NES. It favors several simultaneous voices. One of the simplest way to add a second voice is to use parallel harmony. That is, to add notes from the scale at a chosen interval below. Thirds and sixths work perfectly for that, since they are consonant enough and help a listener follow two voices independently. Fourths and fifths are "banned" historically since they can blend together indistinguishably. See'," ",n.createElement(wf,{r:"Huron, 2016"})),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[1,8],mask:"10000"},"Melody"),n.createElement(Vf,{span:[1,8],mask:"01000"},"Lower voice"),n.createElement(Vf,{span:[1,8],mask:"11111"},"Both voices")))},{path:"Nintendo/8 Eyes",subtune:"4",title:"Celtic drone",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"The other way to add two more voices is to make them static. Historically, this is used in some traditional cultures - here most likely it resembles Celtic music, although the drone is also used eg. in Indian music (played by"," ",n.createElement("a",{href:"https://en.wikipedia.org/wiki/Tanpura",target:"_blank"},"tanpura"),")."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Tonic"),n.createElement(Vf,{mask:"01000"},"Fifth"),n.createElement(Vf,{mask:"01100"},"Tonic + fifth"),n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Fleet",subtune:"4 ",title:"static riff",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Here the bass always plays the same 1-measure riff in a pentatonic scale ",n.createElement(Nf,{name:"pentatonic"}),". Above it, the scale is expanded to dorian. Almost everywhere, except for m.28, m.32 and m.33 the middle voice plays exactly the third below the melody. This third is drawn from the scale - two notes below it on the scale - so acoustically it can either be a minor third (narrower) or a minor third (wider). You can check all intervals by hovering over the middle voice."))},{path:"Nintendo/Robocop 3",subtune:"2",title:"two static riffs",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Here the bass plays a one-measure riff. The upper voice has a riff with slight variations between the measures, doubled in parallel fourths in the middle voice. The bass + the upper voice draw notes from the blues scale. The middle voice has the notes outside of this scale, but it's ok since doubling in a perfect fourth creates a blended timbrally rich single upper voice (a distorted guitar) rather than two independent voices. Here the bass voice has a rapid percussion glide in the same channel."),n.createElement("div",null," "),n.createElement("div",null,"The bass voice has a rapid percussion glide in the same channel. After four measures, the whole thing modulates down a fourth."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"01000"},"Melody"),n.createElement(Vf,{mask:"10000"},"Middle voice"),n.createElement(Vf,{mask:"11000"},"Upper voices - parallel fourth"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Big Nose the Caveman",subtune:"2",title:"arpeggios without melody",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(Vf,{mask:"10000"},"Bass"),n.createElement(Vf,{mask:"01000"},"Narrow chords"),n.createElement(Vf,{mask:"00100"},"Wide chords"),n.createElement(Vf,{mask:"01100"},"Upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))}],bass_line:[{path:"Nintendo/All-Pro Basketball",subtune:"3",title:"chord tones",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"If a harmony isn't static and there's a chain of chords, then the structure of the bass line can either outline the current chord or draw/emphasize certain notes from it. In its clearest form, the bass line plays all notes of the chord and no other notes. Here in mm. 1-32 every chord is major, and every chord is outlined via its notes root ",n.createElement(Sf,{cn:0}),", major third ",n.createElement(Sf,{cn:4})," and perfect fifth"," ",n.createElement(Sf,{cn:7})," in a 3+3+2 rhythm. In ",n.createElement(Mf,null)," a melody doubles this bass line in octave, and in the ",n.createElement(_f,null)," there's a separate melody on top of this bass line. Finally, in the Mario cadence (mm. 33-35) the bass line plays mostly the root in octaves. (Why then we see chords"," ",n.createElement(Qo,{rn:"VI-VII-I",searchable:!0})," in those measures?)"),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"01000"},"First bass voice"),n.createElement(Vf,{mask:"00100"},"Second bass voice"),n.createElement(Vf,{mask:"01100"},"Two layered bass voices"),n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Arkanoid",subtune:"6",title:"root in octaves",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"The bass line can play just the root of the chords in octaves. We still speak of chords in measures where no voice plays just the chord tones, because the upper voices emphasize chord tones by either using them on strong metrical positions or by using them at turn points of the contours."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bobble",subtune:"2",title:"root without chords",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Even if there's no middle voice, and the melody isn't clearly outlining the chord tones, the logic and the effect of changes in the bass is similar to the chord changes, especially if the melody doesn't contradict it too much. Here in the part B the bass mostly repeats the melody notes, yet the 2-5-1 cadence in m.23-24 makes it functional and makes the whole period work."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"01000"},"Melody"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bionic Commando",subtune:"3",title:"drone",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"If the harmony is static and there are no chord changes, then the bass can play the tonic of the current key - the"," ",n.createElement("a",{href:"https://en.wikipedia.org/wiki/Drone_(sound)",target:"_blank"},"drone.")),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"001000"},"Bass"),n.createElement(Vf,{mask:"01000"},"Upper voice"),n.createElement(Vf,{mask:"10000"},"Middle voice"),n.createElement(Vf,{mask:"11000"},"Two upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Storm",subtune:"12",title:"drone and fills",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Here the bass plays the drone and also the fills - notes from the scales and chromatic approaches to them - when the melody is sustained. This is logical: over time, there's always something happening, and there's always only one stream of rapid changes."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Barcode World",subtune:"2",title:"root and fifth - 1",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Usually in Western harmony all three chord tones are emphasized in some voice. So, if a melody takes care of the third, the bass can play just root and fifth. It can employ a certain rhythmical figure in which to play these two notes (a riff). Here the riff is"," ",n.createElement("pre",null,"(.) .--5 5--. .--5 5--"),"The fifth can be either above or below the root to make a smoother voice-leading."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"00111"},"Bass + percussion"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"11011"},"Upper voices + percussion"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Storm",subtune:"11",title:"root and fifth - 2",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Even if the harmony itself isn't classic and very chiptune-y - like in this example, where all chords are major (constant structures), the patterns for bass may be the same."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"00111"},"Bass + percussion"),n.createElement(Vf,{mask:"10000"},"Upper voice"),n.createElement(Vf,{mask:"01000"},"Middle voice"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/1943 - The Battle of Midway",subtune:"3",title:"smooth",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"To make a static and smooth bass line that moves by step, a composer can choose the next chord tone that's closest to the previous note. This wording implies that a chain of chords was designed first, and the bass line was inferred from it."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[1,27],mask:"00100"},"Bass"),n.createElement(Vf,{span:[1,27],mask:"00111"},"Bass + percussion"),n.createElement(Vf,{span:[1,27],mask:"10000"},"Melody"),n.createElement(Vf,{span:[1,27],mask:"01000"},"Middle voice"),n.createElement(Vf,{span:[1,27],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[1,27],mask:"11111"},"Mix")))},{path:"Nintendo/Adventures of Lolo 2",subtune:"10",title:"descending diatonic",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"It's possible to build long step-wise descending bass lines by choosing proper chord tones for each chord. This example starts with five descending notes. The middle voice here plays arpeggiated chords."),n.createElement("div",null," "),n.createElement("div",null,"However, just the arpeggio isn't enough. Sometimes the bass here plays the note of the next chord faster than the arpeggio: m.7, m.15, resulting in a richer harmony. In m.8 the bass is indispensable to make it a deceptive cadence: the arpeggio on top simply plays I. Hover the red note in m.8 to see that."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"00111"},"Bass + percussion"),n.createElement(Vf,{mask:"01000"},"Arpeggio"),n.createElement(Vf,{mask:"01100"},"Bass + chords"),n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"11000"},"Melody + chords"),n.createElement(Vf,{mask:"10100"},"Melody + bass"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Burai Fighter",subtune:"8",title:"ascending diatonic",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"The bass line can also go up, although it happens less frequently. Rhythmically a bass line in the part A uses a riff on two notes."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"01000"},"Bass"),n.createElement(Vf,{mask:"01011"},"Bass + percussion"),n.createElement(Vf,{mask:"00100"},"Melody"),n.createElement(Vf,{mask:"10000"},"Middle voice"),n.createElement(Vf,{mask:"10100"},"Upper voices"),n.createElement(Vf,{mask:"11000"},"Lower voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/'89 Dennou Kyuusei Uranai",subtune:"16",title:"descending chromatic",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"The bass line can go down chromatically, which in the absence of clearly arpeggiated chords makes Roman numeral analysis less clear and less helpful. Sometimes the voice-leading is more important than the storyline of implied chords."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"10100"},"Bass + melody"),n.createElement(Vf,{mask:"11000"},"Melody + parallel thirds below"),n.createElement(Vf,{mask:"01000"},"Middle voice"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Banana",subtune:"1",title:"transposed riff",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A bass riff can include non-chord tones as well. Here, as the riff is transposed from a different root, the relative distances from the root are calculated according to a scale (here mixolydian), not chromatically. This isn't universal, and even in this example green and yellow notes are both used on ",n.createElement(Qo,{rn:"VII"})," chords."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[2,9],mask:"00100"},"Bass"),n.createElement(Vf,{span:[2,9],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[2,9],mask:"11111"},"Mix")))},{path:"Nintendo/Bugs Bunny Birthday Blowout, The",subtune:"1",title:"Alberti bass - 1",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("a",{href:"https://en.wikipedia.org/wiki/Alberti_bass",target:"_blank"},"Alberti bass")," ","is a certain riff that can be traced back to at least 18th century. The order of notes is: lowest, highest, middle, highest. Here in m.3 the fifth is omitted in favor of the seventh."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"00111"},"Bass + percussion"),n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"01000"},"Echo"),n.createElement(Vf,{mask:"11000"},"Melody + echo"),n.createElement(Vf,{mask:"11011"},"Melody + echo + percussion"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bobble",subtune:"29",title:"Alberti bass - 2",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,'Even though Alberti bass is classic, the melody shouldn\'t necessarily stay within the standard scale. Here a chromatic melody resembles "Flight of the Bumblebee".'),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[3,10],mask:"00100"},"Alberti bass"),n.createElement(Vf,{span:[3,10],mask:"01000"},"Chromatic melody"),n.createElement(Vf,{span:[3,10],mask:"11111"},"Mix")))},{path:"Nintendo/Faxanadu",subtune:"11",title:"static riff and pedal point",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Previous strategies were used when chords are changing often. Another way of structuring a piece is to use static harmony and employ a static bass riff. A bass in part A here repeats a minor major seventh chord, and a bass in part B plays a static note (a pedal point)."),n.createElement("div",null," "),n.createElement("div",null,"A:"," ",n.createElement(Vf,{span:[5,21],mask:"10000"},"Bass"),n.createElement(Vf,{span:[5,21],mask:"01000"},"Its echo"),n.createElement(Vf,{span:[5,21],mask:"11000"},"Bass + echo"),n.createElement(Vf,{span:[5,21],mask:"00100"},"Melody"),n.createElement(Vf,{span:[5,21],mask:"11111"},"Mix")),n.createElement("div",null," "),n.createElement("div",null,"B:"," ",n.createElement(Vf,{span:[21,37],mask:"00100"},"Bass pedal point"),n.createElement(Vf,{span:[21,37],mask:"01000"},"Arpeggio"),n.createElement(Vf,{span:[21,37],mask:"10000"},"Melody"),n.createElement(Vf,{span:[21,37],mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bath Babes",subtune:"1",title:"static functional riff",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A static riff doesn't necessarily lead to rare harmonies. Here a riff on four notes 1-6-2-5 reminds of a standard major pop/jazz progression ",n.createElement(Qo,{rn:"I-vi-ii-V"}),", yet no chords are present, and the notes go too fast in a 3+3+2"," ",n.createElement("a",{href:"https://en.wikipedia.org/wiki/Tresillo_(rhythm)",target:"_blank"},"tresillo")," ","rhythm."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[5,71],mask:"00100"},"Bass"),n.createElement(Vf,{span:[4,21],mask:"10000"},"Melody"),n.createElement(Vf,{span:[4,21],mask:"01000"},"Middle voice counterpoint"),n.createElement(Vf,{span:[4,21],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[4,21],mask:"11111"},"Mix")))},{path:"Nintendo/Bugs Bunny Crazy Castle, The",subtune:"5",title:"walking bass",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("a",{href:"https://en.wikipedia.org/wiki/Bassline#Walking_bass",target:"_blank"},"Walking bass")," ","usually consists of even quarter notes. Besides the chord tones, musicians often play chromatic (semitone) approaches to chord tones of the next measure - below or above."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[5,36],mask:"00100"},"Bass"),n.createElement(Vf,{span:[5,36],mask:"00111"},"Bass + percussion"),n.createElement(Vf,{span:[5,36],mask:"10000"},"Melody"),n.createElement(Vf,{span:[5,36],mask:"01000"},"Echo"),n.createElement(Vf,{span:[5,36],mask:"11000"},"Melody + echo"),n.createElement(Vf,{span:[5,36],mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bath Babes",subtune:"3",title:"exercise 1",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"How is the bass structured here in A+B vs. in A'? Feel free to solo or mute voices via controls in the lower right corner."))},{path:"Nintendo/Crayon Shin-chan - Ora to Poi Poi",subtune:"12",title:"exercise 2",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line in mm.3-6?"))},{path:"Nintendo/Bandit Kings of Ancient China",subtune:"4",title:"exercise 3",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line in different parts here?"))},{path:"Nintendo/Adventures of Rad Gravity, The",subtune:"2",title:"exercise 4",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line in different parts here?"))},{path:"Nintendo/Bad News Baseball",subtune:"6",title:"exercise 5",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Alien 3",subtune:"1",title:"exercise 6",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Arch Rivals - A Basketbrawl!",subtune:"5",title:"exercise 7",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Blaster Master",subtune:"15",title:"exercise 8",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Be-Bop High School - Koukousei Gokuraku Densetsu",subtune:"21",title:"exercise 9",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line here?"))},{path:"Nintendo/Beauty and the Beast",subtune:"1",title:"exercise 10",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What's the structure of the bass line here?"))}],middle_voice:[{path:"Nintendo/8 Eyes",subtune:"10",title:"absent",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Even though NES has three tonal oscillators, there's no need to make a rich track by using all three. Bass + melody can already be solid and full-fledged."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"01000"},"Bass"),n.createElement(Vf,{span:[2,19],mask:"10000"},"Melody"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bucky O'Hare",subtune:"18",title:"echo and parallel fourths",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"In the intro and in the bridge the middle voice enhances the timbre: it plays the melody shifted in time, creating a echo/delay effect."),n.createElement("div",null," "),n.createElement("div",null,"intro:"," ",n.createElement(Vf,{span:[1,8],mask:"01000"},"Melody"),n.createElement(Vf,{span:[1,8],mask:"10000"},"Echo"),n.createElement(Vf,{span:[1,8],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[1,8],mask:"11100"},"Mix without percussion"),n.createElement(Vf,{span:[1,8],mask:"11111"},"Mix")),n.createElement("div",null," "),n.createElement("div",null,"bridge:"," ",n.createElement(Vf,{span:[17,24],mask:"01000"},"Melody"),n.createElement(Vf,{span:[17,24],mask:"10000"},"Echo"),n.createElement(Vf,{span:[17,24],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[17,24],mask:"11100"},"Mix without percussion"),n.createElement(Vf,{span:[17,24],mask:"11111"},"Mix")),n.createElement("div",null," "),n.createElement("div",null,"Parallel fourths blend together and may sound as a single, strong, somewhat distorted voice. (I don't know how much of it is me copying the eternal esoteric narrative from the internet and how much do of it do I really hear.) So, although the scale for the bass and the melody is natural minor ",n.createElement(Nf,{name:"natural_minor"}),", the middle voice uses the dorian note ",n.createElement(Pf,{d:9})," without any distress."),n.createElement("div",null," "),n.createElement("div",null,"verse:"," ",n.createElement(Vf,{span:[9,16],mask:"01000"},"Melody"),n.createElement(Vf,{span:[9,16],mask:"10000"},"Parallel fourths below"),n.createElement(Vf,{span:[9,16],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[9,16],mask:"11100"},"Mix without percussion"),n.createElement(Vf,{span:[9,16],mask:"11111"},"Mix")),n.createElement("div",null," "),n.createElement("div",null,"chorus:"," ",n.createElement(Vf,{span:[25,32],mask:"01000"},"Melody"),n.createElement(Vf,{span:[25,32],mask:"10000"},"Parallel fourths below"),n.createElement(Vf,{span:[25,32],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[25,32],mask:"11100"},"Mix without percussion"),n.createElement(Vf,{span:[25,32],mask:"11111"},"Mix")),n.createElement("div",null," "),n.createElement("div",null,"the entire track: ",n.createElement(Vf,{mask:"11100"},"Mix withouth percussion")," ",n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Slalom",subtune:"10",title:"parallel thirds",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,'One classic way of using a middle voice is to double melody in some interval. For example, in parallel thirds. All notes are taken from a diatonic scale, which means that actually there are two different intervals, both called "thirds": minor thirds ',n.createElement(Sf,{cn:0}),n.createElement(Sf,{cn:3})," and major thirds ",n.createElement(Sf,{cn:0}),n.createElement(Sf,{cn:4}),". As the melody goes, upper voices constantly oscillate between two intervals, making two voices somewhat separable and independent."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"01000"},"Melody"),n.createElement(Vf,{mask:"10000"},"Middle voice"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Faxanadu",subtune:"2",title:"parallel sixths - 1",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"There are two sixths: a minor sixth ",n.createElement(Sf,{cn:0}),n.createElement(Sf,{cn:8})," and a major sixth ",n.createElement(Sf,{cn:0}),n.createElement(Sf,{cn:9}),". As you go up the minor or the major scale in sixths, these intervals alternate in the same way as the thirds. In fact, sixths are reversed thirds (what does that mean?). So doubling with them also creates a separate and interesting second voice."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Mf,null)," starts without the middle voice. Starting from ",n.createElement(yf,{fs:"A'"})," ","parallel sixths are added for the development. How is further development achieved in ",n.createElement(yf,{fs:"A''"}),"?"),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[1,32],mask:"00100"},"Bass"),n.createElement(Vf,{span:[1,32],mask:"10100"},"Melody + bass"),n.createElement(Vf,{span:[9,32],mask:"11000"},"Upper voices from A'"),n.createElement(Vf,{span:[9,32],mask:"11111"},"Mix from A'")),n.createElement("div",null," "),n.createElement("div",null,n.createElement(_f,null)," uses parallel thirds instead."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[33,48],mask:"00100"},"Bass"),n.createElement(Vf,{span:[33,48],mask:"10100"},"Melody + bass"),n.createElement(Vf,{span:[33,48],mask:"11000"},"Upper voices from A'"),n.createElement(Vf,{span:[33,48],mask:"11111"},"Mix from A'")))},{path:"Nintendo/Bucky O'Hare",subtune:"17",title:"parallel sixths - 2",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Here parallel sixths are used to double the melody in ",n.createElement(If,null)),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[13,20],mask:"01000"},"Melody"),n.createElement(Vf,{span:[13,20],mask:"10000"},"Middle voice"),n.createElement(Vf,{span:[13,20],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[13,20],mask:"00100"},"Bass"),n.createElement(Vf,{span:[13,20],mask:"11111"},"Mix")))},{path:"Nintendo/Adventures of Lolo 3",subtune:"12",title:"where is the melody?",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Is the melody here in the middle voice or in the upper voice? Is it as ambiguous as in the previous example?"),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"10000"},"Upper voice"),n.createElement(Vf,{mask:"00100"},"Middle voice"),n.createElement(Vf,{mask:"01000"},"Bass"),n.createElement(Vf,{mask:"11000"},"Upper voice + bass"),n.createElement(Vf,{mask:"01100"},"Middle voice + bass"),n.createElement(Vf,{mask:"10100"},"Upper voices"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Bubble Bath Babes",subtune:"2",title:"thirds and sixths",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Thirds and sixths both work great, and one can mix them in a single track. Notice a small segment of parallel fourths in mm.38-41 and how different it sounds."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/8 Eyes",subtune:"14",title:"lower chords tones",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Here the middle voice double the melody in terms of the rhythm. The intervals used are more diverse, though: apart from thirds and sixths we see fourths and fifths. Why is that?"),n.createElement("div",null," "),n.createElement("div",null,"One explanation may be that the strategy here is different: to simply play some chord tone with the middle voice. So, the role of the middle voice here is more harmonic than melodic. In fact, the melody here is doing the same: it features more leaps to chords tones than a standard step-wise motion."),n.createElement("div",null," "),n.createElement("div",null,"Can the middle voice be heard here as the melody itself?"),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"01000"},"Middle voice"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"10100"},"Upper voice + bass"),n.createElement(Vf,{mask:"01100"},"Middle voice + bass"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle of Olympus",subtune:"1",title:"thirds and chord tones",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"In ",n.createElement(Mf,null)," the middle voice mostly double the melody in thirds. Sometimes the rhythm of the middle voice slows down - then it sustains a chord tone instead. Or you may see it the other way around: the middle voice mostly plays the chord tones, but sometimes it gets distracted by the melody and pairs with it in thirds for brief moments, before gaining consciousness again."),n.createElement("div",null," "),n.createElement("div",null,"Is the chord at the second half of m.3 correctly annotated?"),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[1,8],mask:"10000"},"Melody"),n.createElement(Vf,{span:[1,8],mask:"01000"},"Middle voice"),n.createElement(Vf,{span:[1,8],mask:"00100"},"Bass"),n.createElement(Vf,{span:[1,8],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[1,8],mask:"10100"},"Upper voice + bass"),n.createElement(Vf,{span:[1,8],mask:"01100"},"Middle voice + bass"),n.createElement(Vf,{span:[1,8],mask:"11111"},"Mix")),n.createElement("div",null," "),n.createElement("div",null,"In ",n.createElement(_f,null)," the melody plays arpeggios and the middle voice plays static chord tones, so all three voices create chords together. What happens in m.12?"),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{span:[9,13],mask:"10000"},"Melody"),n.createElement(Vf,{span:[9,13],mask:"01000"},"Middle voice"),n.createElement(Vf,{span:[9,13],mask:"00100"},"Bass"),n.createElement(Vf,{span:[9,13],mask:"11000"},"Upper voices"),n.createElement(Vf,{span:[9,13],mask:"10100"},"Upper voice + bass"),n.createElement(Vf,{span:[9,13],mask:"01100"},"Middle voice + bass"),n.createElement(Vf,{span:[9,13],mask:"11111"},"Mix")))},{path:"Nintendo/Addams Family",subtune:"5",title:"reduced scales",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Here the upper voices go in mixed intervals. What's the logic behind it?"),n.createElement("div",null," "),n.createElement("div",null,"My explanation is that the notes for upper voices aren't drawn from a bigger minor scale. Instead, the local scale is a hemitonic pentatonic ",n.createElement(Nf,{name:"hemitonic_pentatonic"})," in ",n.createElement(Mf,null)," and"," ",n.createElement(yf,{fs:"A'"})," (with one exceptional ",n.createElement(Pf,{d:"5"}),"), and a contrasting brighter hexatonic minor without a sixth degree"," ",n.createElement(Nf,{name:"hexatonic_minor_no6"})," in ",n.createElement(_f,null),", ",n.createElement(yf,{fs:"D"})," and"," ",n.createElement(yf,{fs:"D'"})," (with one neighbor tone ",n.createElement(Pf,{d:"8"}),"). Notice a weird effect in m.17, beat 4."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"10000"},"Melody"),n.createElement(Vf,{mask:"01000"},"Middle voice"),n.createElement(Vf,{mask:"11000"},"Upper voices"),n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{mask:"11111"},"Mix")))},{path:"Nintendo/Battle Chess",subtune:"1",title:"transposed riff",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A transposed riff here oscillates between 5 and 4 for ",n.createElement(Qo,{rn:"i"})," ","and ",n.createElement(Qo,{rn:"VI"}),". It plays a static 5 for other harmonies. Are"," ",n.createElement(_f,null)," and ",n.createElement(yf,{fs:"B'"})," a period?"))},{path:"Nintendo/Armadillo",subtune:"1",title:"exercise 1",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What does the middle voice do in different parts of this track?"))},{path:"Nintendo/Battle Fleet",subtune:"9",title:"exercise 2",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What does the middle voice do here?"))},{path:"Nintendo/Cabal",subtune:"11",title:"exercise 5",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What is going on here?"))},{path:"Nintendo/Barcode World",subtune:"2",title:"exercise 6",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What does the middle voice do here?"))},{path:"Nintendo/Hero Quest",subtune:"5",title:"exercise 10",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"What does the middle voice do here?"))}],minor:[{path:"Nintendo/Battle Chess",subtune:"1",title:"natural minor",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A pure natural minor ",n.createElement(Nf,{name:"natural_minor"})," harmony isn't easily found. When it does, it lacks the leading tone, so the two avaiable dominants are ",n.createElement(Qo,{rn:"v"})," and ",n.createElement(Qo,{rn:"VII"}),"."))},{path:"Nintendo/Armadillo",subtune:"3",title:"hexatonic minor",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Sometimes a minor scale ",n.createElement(Nf,{name:"hexatonic_minor_no6"})," ","specifically lacks the sixth scale degree (",n.createElement(Pf,{d:"8"})," or ",n.createElement(Pf,{d:"9"}),"), making it hexatonic and ambiguos - neither aeolian nor dorian."))}],modulation:[{path:"Nintendo/Bandit Kings of Ancient China",subtune:"7",title:"(1)",text:()=>n.createElement(n.Fragment,null)},{path:"Nintendo/Blackjack",subtune:"2",title:"(2)",text:()=>n.createElement(n.Fragment,null)},{path:" Nintendo/Battle Storm",subtune:"1",title:"(3)",text:()=>n.createElement(n.Fragment,null)},{path:" Nintendo/Battle Storm",subtune:"2",title:"(4)",text:()=>n.createElement(n.Fragment,null,"Compare with the previous example. Should a modulation be marked in mm.5-6?")},{path:" Nintendo/Bionic Commando",subtune:"5",title:"(5)",text:()=>n.createElement(n.Fragment,null)}],form:[{path:"Nintendo/Bonza",subtune:"1",title:"period",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,'A form is how repetitions of music material are structured on various levels. Oxford Companion to Music: "A period consists of two phrases, antecedent and consequent, each of which begins with the same basic motif". In periods in NES, one to several measures repeat verbatim, and the ending changes.'),n.createElement("div",null," "),n.createElement("div",null,'We\'ll only call it a "normal" period if the consequent ends in a more stable way than the antecedent. So, here the antecedent ends on',n.createElement(Qo,{rn:"VII"}),", and the consequent squashes the ",n.createElement(Qo,{rn:"VI-VII"})," ","chords and adds ",n.createElement(Qo,{rn:"i"})," after them."),n.createElement("div",null," "),n.createElement("div",null,"Chords in m.9 aren't present in a clear form - your analysis may vary."))},{path:"Nintendo/Battle of Olympus",subtune:"1",title:"exact repetition",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"Reuse of material shouldn't necessarily make a contrast between a part and its repetition. A part can be repeated verbatim before moving on to the next part. In this case, A+A is not a period."))},{path:"Nintendo/Battle of Olympus",subtune:"4",title:"two periods",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"The entire piece may consist of two periods, thus making it a binary form. Here antecedents end with ",n.createElement(Qo,{rn:"V"})," and consequents - with ",n.createElement(Qo,{rn:"V-i"})," - the most common way."))}],classical_harmony:[{path:"Nintendo/Binary Land",subtune:"1",title:"viio/V I64",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"This example isn't original NES. It's an arrangement of Erik Satie - Je Te Veux, composed around 1897. So there's no surprise that some classical idioms used here aren't used a century after it without bearing the meaning \"common practice\". Among them the"," ",n.createElement(Qo,{rn:"viio/V-I64"})))}],jazz_harmony:[{path:"Nintendo/Blue Marlin, The",subtune:"3",title:"diatonic seventh chords",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"In ",n.createElement(Mf,null)," the chords are played by the middle voice, so they are clearly seventh chords. In ",n.createElement(_f,null)," it's a bit more shadowed."),n.createElement("div",null," "),n.createElement("div",null,n.createElement(Vf,{mask:"00100"},"Bass"),n.createElement(Vf,{span:[5,36],mask:"01000"},"Middle voice"),n.createElement(Vf,{span:[5,36],mask:"10000"},"Melody"),n.createElement(Vf,{span:[5,36],mask:"01100"},"Bass + middle voice"),n.createElement(Vf,{mask:"11111"},"Mix")))}],misc:[{path:"Nintendo/BreakThru",subtune:"6",title:"chord-scale theory",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,"A major scale is used for non-chord tones everywhere except on"," ",n.createElement(Qo,{rn:"iv"})," where a minor scale is used. To be precise, a scale played ",n.createElement(Qo,{rn:"IV"})," is lydian and is taken from a major scale for"," ",n.createElement(Qo,{rn:"I"}),". A scale played ",n.createElement(Qo,{rn:"iv"})," is dorian and is taken from a natural minor scale for ",n.createElement(Qo,{rn:"i"}),". (This is a poorly written paragraph.)"),n.createElement("div",null," "),n.createElement("div",null,"To hear it clearer, slow down the speed in Settings."))},{path:"Nintendo/Armadillo",subtune:"4",title:"ii and IV are synonyms",text:()=>n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(Qo,{rn:"ii"})," and ",n.createElement(Qo,{rn:"IV"})," are synonyms. Compare m.9 and m.17."))}]},Of=e=>Object.assign(Object.assign({},Tf[e.split("/")[0]][Number(e.split("/")[1])-1]),{index:Number(e.split("/")[1])}),kf=()=>n.createElement("div",null,n.createElement("span",{style:{color:"white"}},"Music Theory through NES Soundtracks"),n.createElement("div",null," "),n.createElement("ol",{style:{margin:"0 0 100px 0",columnGap:"20px",columnWidth:"250px"}},Object.keys(Tf).map(e=>n.createElement("li",{style:{breakInside:"avoid"}},n.createElement(Oo,{to:{pathname:`/book/${e}/1`}},e.replace(/_/g," ")),n.createElement("ol",null,Tf[e].map(({title:t},r)=>n.createElement("li",null,n.createElement(Oo,{to:{pathname:`/book/${e}/${r+1}`}},null!=t?t:r))))))),n.createElement("span",{style:{color:"white"}},"NES Games"),n.createElement("div",null," ")),xf=({path:e,playSegment:t,analysis:r})=>{if(!r)return n.createElement(n.Fragment,null);const{title:s,text:a,index:o}=Of(e),[i,l]=(e=>{let[t,r]=e.split("/");r=Number(r)-1;let n=null,s=null;return r>0&&(n=`/book/${t}/${r}`),r+1<Tf[t].length&&(s=`/book/${t}/${r+2}`),[n,s]})(e);return n.createElement("div",{className:"App-main-content-area settings book-chapter",key:"BookExample"},n.createElement("div",null,n.createElement("div",{style:{display:"flex",flexDirection:"row"}},n.createElement("div",{style:{marginBottom:"10px"}},n.createElement(Oo,{to:{pathname:i}},n.createElement("button",{className:"box-button",disabled:!i},"<"))," ",n.createElement(Oo,{to:{pathname:l}},n.createElement("button",{className:"box-button",disabled:!l},">"))," ",n.createElement("span",{style:{color:"white"}},o,". ",s)))),n.createElement(Ef.Provider,{value:t},n.createElement("div",null,a&&a(t))," "),r.tags&&(!s||!s.startsWith("exercise"))&&n.createElement("div",null,n.createElement("div",null," "),n.createElement("div",null," "),n.createElement("div",null," "),n.createElement("div",null,"Tags:"),r.tags.map(e=>n.createElement("div",{key:e},n.createElement("a",{href:"https://vpavlenko.github.io/chiptheory/search/"+e.replace(":","/"),target:"_blank"},e.replace(":",": ").replace(/_/g," "))))),n.createElement("div",null,n.createElement("div",null," "),n.createElement("div",null," "),n.createElement("div",null," "),r&&gf.map(e=>pf(r,e)&&n.createElement("div",{style:{marginBottom:"10px"}},n.createElement(Oo,{to:"/search/chords/"+e.replace(/ /g,"-")},n.createElement(Yo,{rnArray:e.split(" "),isSearch:!0}))))))},Rf=({degree:e})=>n.createElement("div",{style:{height:8,width:"100%",backgroundColor:$o[e],margin:"10px",position:"absolute",left:0,top:(19-e)%12*8}}),Af=({degrees:e})=>n.createElement("div",{style:{display:"inline-block",position:"relative",height:96,width:"60px"}},e.toReversed().map(e=>n.createElement(Rf,{degree:e}))),Cf=()=>n.createElement("div",{style:{width:"100%",height:"100%",padding:"10px",backgroundColor:"black"}},n.createElement("div",null,"Chords in natural major: I = ",n.createElement(Af,{degrees:[0,4,7]}),", ii ="," ",n.createElement(Af,{degrees:[2,5,9]})),n.createElement("div",null,"I IV V7 I = ",n.createElement(Af,{degrees:[0,4,7]}),n.createElement(Af,{degrees:[5,9,0]}),n.createElement(Af,{degrees:[7,11,2,5]}),n.createElement(Af,{degrees:[0,4,7]})));function Df(e){var t=e.send;return e.send=function(){var r=arguments;return new Promise((function(n,s){e.onload=function(){e.status<200||e.status>=300?s({status:e.status,statusText:e.statusText}):n(e)},e.onerror=function(){s({status:e.status,statusText:e.statusText})};try{t.apply(e,r)}catch(e){}}))},e}function jf(e){return(jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==jf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===jf(a)?a:String(a)),n)}var s,a}var Bf=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(i.a)(this),this.data={},this.request=null}var t,r,n;return t=e,(r=[{key:"fetchCached",value:function(e){var t=this;return this.data[e]?Promise.resolve(this.data[e]):(this.request&&this.request.abort(),this.request=Df(new XMLHttpRequest),this.request.responseType="json",this.request.open("GET",e),this.request.send().then((function(r){if(r.status>=200&&r.status<400)return t.data[e]=r.response,r.response;throw Error("RequestCache HTTP "+r.status)})))}}])&&Ff(t.prototype,r),n&&Ff(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Lf=r(30),Uf=r.n(Lf),qf=r(3);function zf(e){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hf=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",i=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,s){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new S(s||[]);return n(o,"_invoke",{value:_(e,r,i)}),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&r.call(b,a)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var s;n(this,"_invoke",{value:function(n,a){function o(){return new t((function(s,o){!function n(s,a,o,i){var l=c(e[s],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==zf(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,i)}))}i(l.arg)}(n,a,s,o)}))}return s=s?s.then(o,o):o()}})}function _(e,t,r){var n="suspendedStart";return function(s,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===s)throw a;return V()}for(r.method=s,r.arg=a;;){var o=r.delegate;if(o){var i=I(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function I(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var s=c(n,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,d;var a=s.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:V}}function V(){return{value:void 0,done:!0}}return m.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(M.prototype),l(M.prototype,o,(function(){return this})),e.AsyncIterator=M,e.async=function(t,r,n,s,a){void 0===a&&(a=Promise);var o=new M(u(t,r,n,s),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var s=n.arg;N(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function Wf(e,t,r,n,s,a,o){try{var i=e[a](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,s)}function Gf(e){return function(e){if(Array.isArray(e))return $f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kf(e,t,r){return(t=Jf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jf(n.key),n)}}function Jf(e){var t=function(e,t){if("object"!==zf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==zf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zf(t)?t:String(t)}function Qf(e,t){return(Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rm(e);if(t){var s=rm(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return em(this,r)}}function em(e,t){if(t&&("object"===zf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tm(e)}function tm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rm(e){return(rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}(o,e);var t,r,n,s,a=Zf(o);function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(tm(r=a.call(this))),r.player=null,r.players=e,r.currIdx=0,r.context=null,r.currUrl=null,r.shuffle=0,r.shuffleOrder=[],r.songRequest=null,r.repeat=0,r.history=t,r.players.forEach((function(e){e.on("playerStateUpdate",r.handlePlayerStateUpdate),e.on("playerError",r.handlePlayerError)})),r}return t=o,(r=[{key:"handlePlayerError",value:function(e){this.emit("playerError",e),this.context?this.nextSong():this.emit("sequencerStateUpdate",{isEjected:!0})}},{key:"handlePlayerStateUpdate",value:function(e){var t=e.isStopped;console.debug("Sequencer.handlePlayerStateUpdate(isStopped=%s)",t),t?(this.currUrl=null,this.context&&this.nextSong()):this.emit("sequencerStateUpdate",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(r),!0).forEach((function(t){Kf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:this.currUrl,hasPlayer:!0,isEjected:!1},e))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.currIdx=t,this.context=e,1===this.shuffle&&this.setShuffle(this.shuffle),this.playCurrentSong(r)}},{key:"playCurrentSong",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currIdx;1===this.shuffle&&(t=this.shuffleOrder[t],console.log("Shuffle (%s): %s",this.currIdx,t)),this.playSong(this.context[t],e)}},{key:"playSonglist",value:function(e){this.playContext(e,0)}},{key:"toggleShuffle",value:function(){this.setShuffle(!this.shuffle)}},{key:"setShuffle",value:function(e){var t=this;this.shuffle=e,1===this.shuffle&&this.context?(this.shuffleOrder=[this.currIdx].concat(Gf(Ga()(this.context.map((function(e,t){return t})).filter((function(e){return e!==t.currIdx}))))),this.currIdx=0):this.shuffleOrder&&null!==this.shuffleOrder[this.currIdx]&&(this.currIdx=this.shuffleOrder[this.currIdx])}},{key:"setRepeat",value:function(e){this.repeat=e}},{key:"advanceSong",value:function(e){null!=this.context&&(2!==this.repeat&&(this.currIdx+=e),this.currIdx<0||this.currIdx>=this.context.length?1===this.repeat?(this.currIdx=(this.currIdx+this.context.length)%this.context.length,this.playCurrentSong()):(console.debug("Sequencer.advanceSong(direction=%s) %s passed end of context length %s",e,this.currIdx,this.context.length),this.currIdx=0,this.context=null,this.player.stop(),this.emit("sequencerStateUpdate",{isEjected:!0})):this.playCurrentSong())}},{key:"nextSong",value:function(){this.advanceSong(1)}},{key:"prevSong",value:function(){this.advanceSong(-1)}},{key:"playSubtune",value:function(e){var t=window.location.pathname.replace("/chiptheory/","/"),r=new URLSearchParams(window.location.search);r.set("subtune",e+1),this.history.push({pathname:t,search:r.toString()}),this.player.playSubtune(e)}},{key:"prevSubtune",value:function(){var e=this.player.getSubtune()-1;e<0||this.playSubtune(e)}},{key:"nextSubtune",value:function(){var e=this.player.getSubtune()+1;e>=this.player.getNumSubtunes()||this.playSubtune(e)}},{key:"getPlayer",value:function(){return this.player}},{key:"getCurrContext",value:function(){return this.context}},{key:"getCurrIdx",value:function(){return this.shuffle?this.shuffleOrder[this.currIdx]:this.currIdx}},{key:"getCurrUrl",value:function(){return this.currUrl}},{key:"playSong",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!==this.player&&this.player.suspend();for(var n=(e=e.startsWith("http")?e:qf.CATALOG_PREFIX+encodeURIComponent(encodeURIComponent(e))).split(".").pop().toLowerCase(),s=0;s<this.players.length;s++)if(this.players[s].canPlay(n)){this.player=this.players[s];break}null!==this.player?(this.songRequest&&this.songRequest.abort(),this.songRequest=Df(new XMLHttpRequest),this.songRequest.responseType="arraybuffer",this.songRequest.open("GET",e),this.songRequest.send().then((function(e){return e.response})).then((function(n){t.currUrl=e;var s=e.replace(qf.CATALOG_PREFIX,"");t.playSongBuffer(s,n,r)})).catch((function(r){t.handlePlayerError(r.message||"HTTP ".concat(r.status," ").concat(r.statusText," ").concat(e))}))):this.emit("playerError",'The file format ".'.concat(n,'" was not recognized.'))}},{key:"playSongFile",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;null!==this.player&&this.player.suspend();var n=e.split(".").pop().toLowerCase(),s=this.players.find((function(e){return e.canPlay(n)}));null!=s?(this.player=s,this.context=[],this.currUrl=null,this.playSongBuffer(e,t,r)):this.emit("playerError",'The file format ".'.concat(n,'" was not recognized.'))}},{key:"playSongBuffer",value:(s=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){Wf(a,n,s,o,i,"next",e)}function i(e){Wf(a,n,s,o,i,"throw",e)}o(void 0)}))}}(Hf().mark((function e(t,r){var n,s,a,o=arguments;return Hf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:0,s=new Uint8Array(r),this.player.setTempo(1),e.prev=3,e.next=6,this.player.loadData(s,t,n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.handlePlayerError("Unable to play ".concat(t," (").concat(e.t0.message,")."));case 11:a=this.player.getNumVoices(),this.player.setVoiceMask(Gf(Array(a)).fill(!0));case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return s.apply(this,arguments)})}])&&Yf(t.prototype,r),n&&Yf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Uf.a);function sm(e){return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var am,om=(am="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(){var e,t,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n;s.ready=new Promise((function(r,n){e=r,t=n}));var a,o,i,l=Object.assign({},s),u="./this.program",c=!0,d=!1,f="";function m(e){return s.locateFile?s.locateFile(e,f):f+e}(c||d)&&(d?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),am&&(f=am),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var p,h,g=s.print||console.log.bind(console),b=s.printErr||console.error.bind(console);Object.assign(s,l),l=null,s.arguments&&s.arguments,s.thisProgram&&(u=s.thisProgram),s.quit&&s.quit,s.wasmBinary&&(p=s.wasmBinary),s.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":sm(WebAssembly))&&z("no native wasm support detected");var v,y,M,_,I,P,N,S,E=!1;function V(e,t){e||z(t)}function w(){var e=h.buffer;s.HEAP8=v=new Int8Array(e),s.HEAP16=M=new Int16Array(e),s.HEAPU8=y=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=_=new Int32Array(e),s.HEAPU32=I=new Uint32Array(e),s.HEAPF32=P=new Float32Array(e),s.HEAPF64=S=new Float64Array(e),s.HEAP64=N=new BigInt64Array(e),s.HEAPU64=new BigUint64Array(e)}var T=[],O=[],k=[];function x(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)C(s.preRun.shift());Z(T)}function R(){s.noFSInit||Oe.init.initialized||Oe.init(),Oe.ignorePermissions=!1,ve.init(),Z(O)}function A(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)j(s.postRun.shift());Z(k)}function C(e){T.unshift(e)}function D(e){O.unshift(e)}function j(e){k.unshift(e)}var F=0,B=null,L=null;function U(e){F++,s.monitorRunDependencies&&s.monitorRunDependencies(F)}function q(e){if(F--,s.monitorRunDependencies&&s.monitorRunDependencies(F),0==F&&(null!==B&&(clearInterval(B),B=null),L)){var t=L;L=null,t()}}function z(e){s.onAbort&&s.onAbort(e),b(e="Aborted("+e+")"),E=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw t(r),r}var H,W="data:application/octet-stream;base64,";function G(e){return e.startsWith(W)}function $(e){if(e==H&&p)return new Uint8Array(p);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}function X(e){return p||!c&&!d||"function"!=typeof fetch?Promise.resolve().then((function(){return $(e)})):fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return $(e)}))}function K(e,t,r){return X(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(r,(function(e){b("failed to asynchronously prepare wasm: ".concat(e)),z(e)}))}function Y(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||G(t)||"function"!=typeof fetch?K(t,r,n):fetch(t,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(n,(function(e){return b("wasm streaming compile failed: ".concat(e)),b("falling back to ArrayBuffer instantiation"),K(t,r,n)}))}))}function J(){var e={a:bt};function r(e,t){var r=e.exports;return h=(vt=r).r,w(),vt.pb,D(vt.s),q(),r}if(U(),s.instantiateWasm)try{return s.instantiateWasm(e,r)}catch(e){b("Module.instantiateWasm callback failed with error: ".concat(e)),t(e)}return Y(p,H,e,(function(e){r(e.instance)})).catch(t),{}}G(H="chip-core.wasm")||(H=m(H));var Q={510956:function(e){console.log("Error during V2M conversion.",e)}},Z=function(e){for(;e.length>0;)e.shift()(s)};function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i8";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return v[e>>0];case"i16":return M[e>>1];case"i32":return _[e>>2];case"i64":return N[e>>3];case"float":return P[e>>2];case"double":return S[e>>3];case"*":return I[e>>2];default:z("invalid type for getValue: ".concat(t))}}function te(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i8";switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":v[e>>0]=t;break;case"i16":M[e>>1]=t;break;case"i32":_[e>>2]=t;break;case"i64":N[e>>3]=BigInt(t);break;case"float":P[e>>2]=t;break;case"double":S[e>>3]=t;break;case"*":I[e>>2]=t;break;default:z("invalid type for setValue: ".concat(r))}}var re="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,ne=function(e,t,r){for(var n=t+r,s=t;e[s]&&!(s>=n);)++s;if(s-t>16&&e.buffer&&re)return re.decode(e.subarray(t,s));for(var a="";t<s;){var o=e[t++];if(128&o){var i=63&e[t++];if(192!=(224&o)){var l=63&e[t++];if((o=224==(240&o)?(15&o)<<12|i<<6|l:(7&o)<<18|i<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var u=o-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&o)<<6|i)}else a+=String.fromCharCode(o)}return a},se=function(e,t){return e?ne(y,e,t):""},ae=function(e,t,r,n){z("Assertion failed: ".concat(se(e),", at: ")+[t?se(t):"unknown filename",r,n?se(n):"unknown function"])};function oe(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){I[this.ptr+4>>2]=e},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(e){I[this.ptr+8>>2]=e},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,v[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=v[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,v[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=v[this.ptr+13>>0]},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)},this.set_adjusted_ptr=function(e){I[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Nt(this.get_type()))return I[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var ie=function(e,t,r){throw new oe(e).init(t,r),e},le=function(e){return _[yt()>>2]=e,e},ue={isAbs:function(e){return"/"===e.charAt(0)},splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var s=e[n];"."===s?e.splice(n,1):".."===s?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t=ue.isAbs(e),r="/"===e.substr(-1);return(e=ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=ue.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=ue.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return ue.normalize(e.join("/"))},join2:function(e,t){return ue.normalize(e+"/"+t)}},ce=function(){if("object"==("undefined"==typeof crypto?"undefined":sm(crypto))&&"function"==typeof crypto.getRandomValues)return function(e){return crypto.getRandomValues(e)};z("initRandomDevice")},de=function(e){return(de=ce())(e)},fe={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:Oe.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t=ue.isAbs(n)}return(t?"/":"")+(e=ue.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=fe.resolve(e).substr(1),t=fe.resolve(t).substr(1);for(var n=r(e.split("/")),s=r(t.split("/")),a=Math.min(n.length,s.length),o=a,i=0;i<a;i++)if(n[i]!==s[i]){o=i;break}var l=[];for(i=o;i<n.length;i++)l.push("..");return(l=l.concat(s.slice(o))).join("/")}},me=[],pe=function(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},he=function(e,t,r,n){if(!(n>0))return 0;for(var s=r,a=r+n-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),i<=127){if(r>=a)break;t[r++]=i}else if(i<=2047){if(r+1>=a)break;t[r++]=192|i>>6,t[r++]=128|63&i}else if(i<=65535){if(r+2>=a)break;t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|63&i}else{if(r+3>=a)break;t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|63&i}}return t[r]=0,r-s};function ge(e,t,r){var n=r>0?r:pe(e)+1,s=new Array(n),a=he(e,s,0,s.length);return t&&(s.length=a),s}var be=function(){if(!me.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;me=ge(e,!0)}return me.shift()},ve={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ve.ttys[e]={input:[],output:[],ops:t},Oe.registerDevice(e,ve.stream_ops)},stream_ops:{open:function(e){var t=ve.ttys[e.node.rdev];if(!t)throw new Oe.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.fsync(e.tty)},fsync:function(e){e.tty.ops.fsync(e.tty)},read:function(e,t,r,n,s){if(!e.tty||!e.tty.ops.get_char)throw new Oe.ErrnoError(60);for(var a=0,o=0;o<n;o++){var i;try{i=e.tty.ops.get_char(e.tty)}catch(e){throw new Oe.ErrnoError(29)}if(void 0===i&&0===a)throw new Oe.ErrnoError(6);if(null==i)break;a++,t[r+o]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,n,s){if(!e.tty||!e.tty.ops.put_char)throw new Oe.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,t[r+a])}catch(e){throw new Oe.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){return be()},put_char:function(e,t){null===t||10===t?(g(ne(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(g(ne(e.output,0)),e.output=[])},ioctl_tcgets:function(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets:function(e,t,r){return 0},ioctl_tiocgwinsz:function(e){return[24,80]}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(b(ne(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&e.output.length>0&&(b(ne(e.output,0)),e.output=[])}}},ye=function(e,t){return y.fill(0,e,e+t),e},Me=function(e,t){return Math.ceil(e/t)*t},_e=function(e){e=Me(e,65536);var t=Mt(65536,e);return t?ye(t,e):0},Ie={ops_table:null,mount:function(e){return Ie.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(Oe.isBlkdev(r)||Oe.isFIFO(r))throw new Oe.ErrnoError(63);Ie.ops_table||(Ie.ops_table={dir:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,lookup:Ie.node_ops.lookup,mknod:Ie.node_ops.mknod,rename:Ie.node_ops.rename,unlink:Ie.node_ops.unlink,rmdir:Ie.node_ops.rmdir,readdir:Ie.node_ops.readdir,symlink:Ie.node_ops.symlink},stream:{llseek:Ie.stream_ops.llseek}},file:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:{llseek:Ie.stream_ops.llseek,read:Ie.stream_ops.read,write:Ie.stream_ops.write,allocate:Ie.stream_ops.allocate,mmap:Ie.stream_ops.mmap,msync:Ie.stream_ops.msync}},link:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,readlink:Ie.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:Oe.chrdev_stream_ops}});var s=Oe.createNode(e,t,r,n);return Oe.isDir(s.mode)?(s.node_ops=Ie.ops_table.dir.node,s.stream_ops=Ie.ops_table.dir.stream,s.contents={}):Oe.isFile(s.mode)?(s.node_ops=Ie.ops_table.file.node,s.stream_ops=Ie.ops_table.file.stream,s.usedBytes=0,s.contents=null):Oe.isLink(s.mode)?(s.node_ops=Ie.ops_table.link.node,s.stream_ops=Ie.ops_table.link.stream):Oe.isChrdev(s.mode)&&(s.node_ops=Ie.ops_table.chrdev.node,s.stream_ops=Ie.ops_table.chrdev.stream),s.timestamp=Date.now(),e&&(e.contents[t]=s,e.timestamp=s.timestamp),s},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var r=e.contents;e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Oe.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Oe.isDir(e.mode)?t.size=4096:Oe.isFile(e.mode)?t.size=e.usedBytes:Oe.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ie.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Oe.genericErrors[44]},mknod:function(e,t,r,n){return Ie.createNode(e,t,r,n)},rename:function(e,t,r){if(Oe.isDir(e.mode)){var n;try{n=Oe.lookupNode(t,r)}catch(e){}if(n)for(var s in n.contents)throw new Oe.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=r,t.contents[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var r=Oe.lookupNode(e,t);for(var n in r.contents)throw new Oe.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=Ie.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!Oe.isLink(e.mode))throw new Oe.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,s){var a=e.node.contents;if(s>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-s,n);if(o>8&&a.subarray)t.set(a.subarray(s,s+o),r);else for(var i=0;i<o;i++)t[r+i]=a[s+i];return o},write:function(e,t,r,n,s,a){if(t.buffer===v.buffer&&(a=!1),!n)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(r,r+n),o.usedBytes=n,n;if(0===o.usedBytes&&0===s)return o.contents=t.slice(r,r+n),o.usedBytes=n,n;if(s+n<=o.usedBytes)return o.contents.set(t.subarray(r,r+n),s),n}if(Ie.expandFileStorage(o,s+n),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(r,r+n),s);else for(var i=0;i<n;i++)o.contents[s+i]=t[r+i];return o.usedBytes=Math.max(o.usedBytes,s+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Oe.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Oe.ErrnoError(28);return n},allocate:function(e,t,r){Ie.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,s){if(!Oe.isFile(e.node.mode))throw new Oe.ErrnoError(43);var a,o,i=e.node.contents;if(2&s||i.buffer!==v.buffer){if((r>0||r+t<i.length)&&(i=i.subarray?i.subarray(r,r+t):Array.prototype.slice.call(i,r,r+t)),o=!0,!(a=_e(t)))throw new Oe.ErrnoError(48);v.set(i,a)}else o=!1,a=i.byteOffset;return{ptr:a,allocated:o}},msync:function(e,t,r,n,s){return Ie.stream_ops.write(e,t,0,n,r,!1),0}}},Pe=function(e,t,r,n){var s=n?"":"al ".concat(e);o(e,(function(r){V(r,'Loading data file "'.concat(e,'" failed (no arrayBuffer).')),t(new Uint8Array(r)),s&&q()}),(function(t){if(!r)throw'Loading data file "'.concat(e,'" failed.');r()})),s&&U()},Ne=s.preloadPlugins||[],Se=function(e,t,r,n){"undefined"!=typeof Browser&&Browser.init();var s=!1;return Ne.forEach((function(a){s||a.canHandle(t)&&(a.handle(e,t,r,n),s=!0)})),s},Ee=function(e,t,r,n,s,a,o,i,l,u){var c=t?fe.resolve(ue.join2(e,t)):e;function d(r){function d(r){u&&u(),i||Oe.createDataFile(e,t,r,n,s,l),a&&a(),q()}Se(r,c,d,(function(){o&&o(),q()}))||d(r)}"cp ".concat(c),U(),"string"==typeof r?Pe(r,(function(e){return d(e)}),o):d(r)},Ve=function(e){var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===t)throw new Error("Unknown file open mode: ".concat(e));return t},we=function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},Te={dbs:{},indexedDB:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==("undefined"==typeof window?"undefined":sm(window))&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),V(e,"IDBFS used, but indexedDB not supported"),e})),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return Ie.mount.apply(null,arguments)},syncfs:function(e,t,r){Te.getLocalSet(e,(function(n,s){if(n)return r(n);Te.getRemoteSet(e,(function(e,n){if(e)return r(e);var a=t?n:s,o=t?s:n;Te.reconcile(a,o,r)}))}))},quit:function(){Object.values(Te.dbs).forEach((function(e){return e.close()})),Te.dbs={}},getDB:function(e,t){var r,n=Te.dbs[e];if(n)return t(null,n);try{r=Te.indexedDB().open(e,Te.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,r=e.target.result,n=e.target.transaction;(t=r.objectStoreNames.contains(Te.DB_STORE_NAME)?n.objectStore(Te.DB_STORE_NAME):r.createObjectStore(Te.DB_STORE_NAME)).indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,Te.dbs[e]=n,t(null,n)},r.onerror=function(e){t(e.target.error),e.preventDefault()}},getLocalSet:function(e,t){var r={};function n(e){return"."!==e&&".."!==e}function s(e){return function(t){return ue.join2(e,t)}}for(var a=Oe.readdir(e.mountpoint).filter(n).map(s(e.mountpoint));a.length;){var o,i=a.pop();try{o=Oe.stat(i)}catch(e){return t(e)}Oe.isDir(o.mode)&&a.push.apply(a,Oe.readdir(i).filter(n).map(s(i))),r[i]={timestamp:o.mtime}}return t(null,{type:"local",entries:r})},getRemoteSet:function(e,t){var r={};Te.getDB(e.mountpoint,(function(e,n){if(e)return t(e);try{var s=n.transaction([Te.DB_STORE_NAME],"readonly");s.onerror=function(e){t(e.target.error),e.preventDefault()},s.objectStore(Te.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var s=e.target.result;if(!s)return t(null,{type:"remote",db:n,entries:r});r[s.primaryKey]={timestamp:s.key},s.continue()}}catch(e){return t(e)}}))},loadLocalEntry:function(e,t){var r,n;try{n=Oe.lookupPath(e).node,r=Oe.stat(e)}catch(e){return t(e)}return Oe.isDir(r.mode)?t(null,{timestamp:r.mtime,mode:r.mode}):Oe.isFile(r.mode)?(n.contents=Ie.getFileDataAsTypedArray(n),t(null,{timestamp:r.mtime,mode:r.mode,contents:n.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,r){try{if(Oe.isDir(t.mode))Oe.mkdirTree(e,t.mode);else{if(!Oe.isFile(t.mode))return r(new Error("node type not supported"));Oe.writeFile(e,t.contents,{canOwn:!0})}Oe.chmod(e,t.mode),Oe.utime(e,t.timestamp,t.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,t){try{var r=Oe.stat(e);Oe.isDir(r.mode)?Oe.rmdir(e):Oe.isFile(r.mode)&&Oe.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,r){var n=e.get(t);n.onsuccess=function(e){r(null,e.target.result)},n.onerror=function(e){r(e.target.error),e.preventDefault()}},storeRemoteEntry:function(e,t,r,n){try{var s=e.put(r,t)}catch(e){return void n(e)}s.onsuccess=function(){n(null)},s.onerror=function(e){n(e.target.error),e.preventDefault()}},removeRemoteEntry:function(e,t,r){var n=e.delete(t);n.onsuccess=function(){r(null)},n.onerror=function(e){r(e.target.error),e.preventDefault()}},reconcile:function(e,t,n){var s=0,a=[];Object.keys(e.entries).forEach((function(r){var n=e.entries[r],o=t.entries[r];o&&n.timestamp.getTime()==o.timestamp.getTime()||(a.push(r),s++)}));var o=[];if(Object.keys(t.entries).forEach((function(t){e.entries[t]||(o.push(t),s++)})),!s)return n(null);var i=!1,l=("remote"===e.type?e.db:t.db).transaction([Te.DB_STORE_NAME],"readwrite"),u=l.objectStore(Te.DB_STORE_NAME);function c(e){if(e&&!i)return i=!0,n(e)}l.onerror=function(e){c(r.error),e.preventDefault()},l.oncomplete=function(e){i||n(null)},a.sort().forEach((function(e){"local"===t.type?Te.loadRemoteEntry(u,e,(function(t,r){if(t)return c(t);Te.storeLocalEntry(e,r,c)})):Te.loadLocalEntry(e,(function(t,r){if(t)return c(t);Te.storeRemoteEntry(u,e,r,c)}))})),o.sort().reverse().forEach((function(e){"local"===t.type?Te.removeLocalEntry(e,c):Te.removeRemoteEntry(u,e,c)}))}},Oe={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e=fe.resolve(e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};if((t=Object.assign(r,t)).recurse_count>8)throw new Oe.ErrnoError(32);for(var n=e.split("/").filter((function(e){return!!e})),s=Oe.root,a="/",o=0;o<n.length;o++){var i=o===n.length-1;if(i&&t.parent)break;if(s=Oe.lookupNode(s,n[o]),a=ue.join2(a,n[o]),Oe.isMountpoint(s)&&(!i||i&&t.follow_mount)&&(s=s.mounted.root),!i||t.follow)for(var l=0;Oe.isLink(s.mode);){var u=Oe.readlink(a);a=fe.resolve(ue.dirname(a),u);var c=Oe.lookupPath(a,{recurse_count:t.recurse_count+1});if(s=c.node,l++>40)throw new Oe.ErrnoError(32)}}return{path:a,node:s}},getPath:function(e){for(var t;;){if(Oe.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?"".concat(r,"/").concat(t):r+t:r}t=t?"".concat(e.name,"/").concat(t):e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%Oe.nameTable.length},hashAddNode:function(e){var t=Oe.hashName(e.parent.id,e.name);e.name_next=Oe.nameTable[t],Oe.nameTable[t]=e},hashRemoveNode:function(e){var t=Oe.hashName(e.parent.id,e.name);if(Oe.nameTable[t]===e)Oe.nameTable[t]=e.name_next;else for(var r=Oe.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=Oe.mayLookup(e);if(r)throw new Oe.ErrnoError(r,e);for(var n=Oe.hashName(e.id,t),s=Oe.nameTable[n];s;s=s.name_next){var a=s.name;if(s.parent.id===e.id&&a===t)return s}return Oe.lookup(e,t)},createNode:function(e,t,r,n){var s=new Oe.FSNode(e,t,r,n);return Oe.hashAddNode(s),s},destroyNode:function(e){Oe.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Oe.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Oe.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return Oe.lookupNode(e,t),20}catch(e){}return Oe.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=Oe.lookupNode(e,t)}catch(e){return e.errno}var s=Oe.nodePermissions(e,"wx");if(s)return s;if(r){if(!Oe.isDir(n.mode))return 54;if(Oe.isRoot(n)||Oe.getPath(n)===Oe.cwd())return 10}else if(Oe.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?Oe.isLink(e.mode)?32:Oe.isDir(e.mode)&&("r"!==Oe.flagsToPermissionString(t)||512&t)?31:Oe.nodePermissions(e,Oe.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(){for(var e=0;e<=Oe.MAX_OPEN_FDS;e++)if(!Oe.streams[e])return e;throw new Oe.ErrnoError(33)},getStreamChecked:function(e){var t=Oe.getStream(e);if(!t)throw new Oe.ErrnoError(8);return t},getStream:function(e){return Oe.streams[e]},createStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return Oe.FSStream||(Oe.FSStream=function(){this.shared={}},Oe.FSStream.prototype={},Object.defineProperties(Oe.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(e){this.shared.flags=e}},position:{get:function(){return this.shared.position},set:function(e){this.shared.position=e}}})),e=Object.assign(new Oe.FSStream,e),-1==t&&(t=Oe.nextfd()),e.fd=t,Oe.streams[t]=e,e},closeStream:function(e){Oe.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Oe.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Oe.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Oe.devices[e]={stream_ops:t}},getDevice:function(e){return Oe.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Oe.syncFSRequests++,Oe.syncFSRequests>1&&b("warning: ".concat(Oe.syncFSRequests," FS.syncfs operations in flight at once, probably just doing extra work"));var r=Oe.getMounts(Oe.root.mount),n=0;function s(e){return Oe.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,s(e));++n>=r.length&&s(null)}r.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,r){var n,s="/"===r,a=!r;if(s&&Oe.root)throw new Oe.ErrnoError(10);if(!s&&!a){var o=Oe.lookupPath(r,{follow_mount:!1});if(r=o.path,n=o.node,Oe.isMountpoint(n))throw new Oe.ErrnoError(10);if(!Oe.isDir(n.mode))throw new Oe.ErrnoError(54)}var i={type:e,opts:t,mountpoint:r,mounts:[]},l=e.mount(i);return l.mount=i,i.root=l,s?Oe.root=l:n&&(n.mounted=i,n.mount&&n.mount.mounts.push(i)),l},unmount:function(e){var t=Oe.lookupPath(e,{follow_mount:!1});if(!Oe.isMountpoint(t.node))throw new Oe.ErrnoError(28);var r=t.node,n=r.mounted,s=Oe.getMounts(n);Object.keys(Oe.nameTable).forEach((function(e){for(var t=Oe.nameTable[e];t;){var r=t.name_next;s.includes(t.mount)&&Oe.destroyNode(t),t=r}})),r.mounted=null;var a=r.mount.mounts.indexOf(n);r.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=Oe.lookupPath(e,{parent:!0}).node,s=ue.basename(e);if(!s||"."===s||".."===s)throw new Oe.ErrnoError(28);var a=Oe.mayCreate(n,s);if(a)throw new Oe.ErrnoError(a);if(!n.node_ops.mknod)throw new Oe.ErrnoError(63);return n.node_ops.mknod(n,s,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Oe.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Oe.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",s=0;s<r.length;++s)if(r[s]){n+="/"+r[s];try{Oe.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,Oe.mknod(e,t,r)},symlink:function(e,t){if(!fe.resolve(e))throw new Oe.ErrnoError(44);var r=Oe.lookupPath(t,{parent:!0}).node;if(!r)throw new Oe.ErrnoError(44);var n=ue.basename(t),s=Oe.mayCreate(r,n);if(s)throw new Oe.ErrnoError(s);if(!r.node_ops.symlink)throw new Oe.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,s=ue.dirname(e),a=ue.dirname(t),o=ue.basename(e),i=ue.basename(t);if(r=Oe.lookupPath(e,{parent:!0}).node,n=Oe.lookupPath(t,{parent:!0}).node,!r||!n)throw new Oe.ErrnoError(44);if(r.mount!==n.mount)throw new Oe.ErrnoError(75);var l,u=Oe.lookupNode(r,o),c=fe.relative(e,a);if("."!==c.charAt(0))throw new Oe.ErrnoError(28);if("."!==(c=fe.relative(t,s)).charAt(0))throw new Oe.ErrnoError(55);try{l=Oe.lookupNode(n,i)}catch(e){}if(u!==l){var d=Oe.isDir(u.mode),f=Oe.mayDelete(r,o,d);if(f)throw new Oe.ErrnoError(f);if(f=l?Oe.mayDelete(n,i,d):Oe.mayCreate(n,i))throw new Oe.ErrnoError(f);if(!r.node_ops.rename)throw new Oe.ErrnoError(63);if(Oe.isMountpoint(u)||l&&Oe.isMountpoint(l))throw new Oe.ErrnoError(10);if(n!==r&&(f=Oe.nodePermissions(r,"w")))throw new Oe.ErrnoError(f);Oe.hashRemoveNode(u);try{r.node_ops.rename(u,n,i)}catch(e){throw e}finally{Oe.hashAddNode(u)}}},rmdir:function(e){var t=Oe.lookupPath(e,{parent:!0}).node,r=ue.basename(e),n=Oe.lookupNode(t,r),s=Oe.mayDelete(t,r,!0);if(s)throw new Oe.ErrnoError(s);if(!t.node_ops.rmdir)throw new Oe.ErrnoError(63);if(Oe.isMountpoint(n))throw new Oe.ErrnoError(10);t.node_ops.rmdir(t,r),Oe.destroyNode(n)},readdir:function(e){var t=Oe.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Oe.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Oe.lookupPath(e,{parent:!0}).node;if(!t)throw new Oe.ErrnoError(44);var r=ue.basename(e),n=Oe.lookupNode(t,r),s=Oe.mayDelete(t,r,!1);if(s)throw new Oe.ErrnoError(s);if(!t.node_ops.unlink)throw new Oe.ErrnoError(63);if(Oe.isMountpoint(n))throw new Oe.ErrnoError(10);t.node_ops.unlink(t,r),Oe.destroyNode(n)},readlink:function(e){var t=Oe.lookupPath(e).node;if(!t)throw new Oe.ErrnoError(44);if(!t.node_ops.readlink)throw new Oe.ErrnoError(28);return fe.resolve(Oe.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=Oe.lookupPath(e,{follow:!t}).node;if(!r)throw new Oe.ErrnoError(44);if(!r.node_ops.getattr)throw new Oe.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return Oe.stat(e,!0)},chmod:function(e,t,r){var n;if(!(n="string"==typeof e?Oe.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new Oe.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){Oe.chmod(e,t,!0)},fchmod:function(e,t){var r=Oe.getStreamChecked(e);Oe.chmod(r.node,t)},chown:function(e,t,r,n){var s;if(!(s="string"==typeof e?Oe.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Oe.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:function(e,t,r){Oe.chown(e,t,r,!0)},fchown:function(e,t,r){var n=Oe.getStreamChecked(e);Oe.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new Oe.ErrnoError(28);var r;if(!(r="string"==typeof e?Oe.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Oe.ErrnoError(63);if(Oe.isDir(r.mode))throw new Oe.ErrnoError(31);if(!Oe.isFile(r.mode))throw new Oe.ErrnoError(28);var n=Oe.nodePermissions(r,"w");if(n)throw new Oe.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=Oe.getStreamChecked(e);if(0==(2097155&r.flags))throw new Oe.ErrnoError(28);Oe.truncate(r.node,t)},utime:function(e,t,r){var n=Oe.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r){if(""===e)throw new Oe.ErrnoError(44);var n;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?Ve(t):t)?4095&r|32768:0,"object"==sm(e))n=e;else{e=ue.normalize(e);try{n=Oe.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(n){if(128&t)throw new Oe.ErrnoError(20)}else n=Oe.mknod(e,r,0),a=!0;if(!n)throw new Oe.ErrnoError(44);if(Oe.isChrdev(n.mode)&&(t&=-513),65536&t&&!Oe.isDir(n.mode))throw new Oe.ErrnoError(54);if(!a){var o=Oe.mayOpen(n,t);if(o)throw new Oe.ErrnoError(o)}512&t&&!a&&Oe.truncate(n,0),t&=-131713;var i=Oe.createStream({node:n,path:Oe.getPath(n),flags:t,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return i.stream_ops.open&&i.stream_ops.open(i),!s.logReadFiles||1&t||(Oe.readFiles||(Oe.readFiles={}),e in Oe.readFiles||(Oe.readFiles[e]=1)),i},close:function(e){if(Oe.isClosed(e))throw new Oe.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Oe.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(Oe.isClosed(e))throw new Oe.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Oe.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Oe.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,s){if(n<0||s<0)throw new Oe.ErrnoError(28);if(Oe.isClosed(e))throw new Oe.ErrnoError(8);if(1==(2097155&e.flags))throw new Oe.ErrnoError(8);if(Oe.isDir(e.node.mode))throw new Oe.ErrnoError(31);if(!e.stream_ops.read)throw new Oe.ErrnoError(28);var a=void 0!==s;if(a){if(!e.seekable)throw new Oe.ErrnoError(70)}else s=e.position;var o=e.stream_ops.read(e,t,r,n,s);return a||(e.position+=o),o},write:function(e,t,r,n,s,a){if(n<0||s<0)throw new Oe.ErrnoError(28);if(Oe.isClosed(e))throw new Oe.ErrnoError(8);if(0==(2097155&e.flags))throw new Oe.ErrnoError(8);if(Oe.isDir(e.node.mode))throw new Oe.ErrnoError(31);if(!e.stream_ops.write)throw new Oe.ErrnoError(28);e.seekable&&1024&e.flags&&Oe.llseek(e,0,2);var o=void 0!==s;if(o){if(!e.seekable)throw new Oe.ErrnoError(70)}else s=e.position;var i=e.stream_ops.write(e,t,r,n,s,a);return o||(e.position+=i),i},allocate:function(e,t,r){if(Oe.isClosed(e))throw new Oe.ErrnoError(8);if(t<0||r<=0)throw new Oe.ErrnoError(28);if(0==(2097155&e.flags))throw new Oe.ErrnoError(8);if(!Oe.isFile(e.node.mode)&&!Oe.isDir(e.node.mode))throw new Oe.ErrnoError(43);if(!e.stream_ops.allocate)throw new Oe.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,s){if(0!=(2&n)&&0==(2&s)&&2!=(2097155&e.flags))throw new Oe.ErrnoError(2);if(1==(2097155&e.flags))throw new Oe.ErrnoError(2);if(!e.stream_ops.mmap)throw new Oe.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,s)},msync:function(e,t,r,n,s){return e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,s):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new Oe.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'.concat(r.encoding,'"'));var n=Oe.open(e,r.flags),s=Oe.stat(e),a=s.size,o=new Uint8Array(a);return Oe.read(n,o,0,a,0),"utf8"===r.encoding?t=ne(o,0):"binary"===r.encoding&&(t=o),Oe.close(n),t},writeFile:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.flags=r.flags||577;var n=Oe.open(e,r.flags,r.mode);if("string"==typeof t){var s=new Uint8Array(pe(t)+1),a=he(t,s,0,s.length);Oe.write(n,s,0,a,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Oe.write(n,t,0,t.byteLength,void 0,r.canOwn)}Oe.close(n)},cwd:function(){return Oe.currentPath},chdir:function(e){var t=Oe.lookupPath(e,{follow:!0});if(null===t.node)throw new Oe.ErrnoError(44);if(!Oe.isDir(t.node.mode))throw new Oe.ErrnoError(54);var r=Oe.nodePermissions(t.node,"x");if(r)throw new Oe.ErrnoError(r);Oe.currentPath=t.path},createDefaultDirectories:function(){Oe.mkdir("/tmp"),Oe.mkdir("/home"),Oe.mkdir("/home/web_user")},createDefaultDevices:function(){Oe.mkdir("/dev"),Oe.registerDevice(Oe.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,s){return n}}),Oe.mkdev("/dev/null",Oe.makedev(1,3)),ve.register(Oe.makedev(5,0),ve.default_tty_ops),ve.register(Oe.makedev(6,0),ve.default_tty1_ops),Oe.mkdev("/dev/tty",Oe.makedev(5,0)),Oe.mkdev("/dev/tty1",Oe.makedev(6,0));var e=new Uint8Array(1024),t=0,r=function(){return 0===t&&(t=de(e).byteLength),e[--t]};Oe.createDevice("/dev","random",r),Oe.createDevice("/dev","urandom",r),Oe.mkdir("/dev/shm"),Oe.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Oe.mkdir("/proc");var e=Oe.mkdir("/proc/self");Oe.mkdir("/proc/self/fd"),Oe.mount({mount:function(){var t=Oe.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var r=+t,n=Oe.getStreamChecked(r),s={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return s.parent=s,s}},t}},{},"/proc/self/fd")},createStandardStreams:function(){s.stdin?Oe.createDevice("/dev","stdin",s.stdin):Oe.symlink("/dev/tty","/dev/stdin"),s.stdout?Oe.createDevice("/dev","stdout",null,s.stdout):Oe.symlink("/dev/tty","/dev/stdout"),s.stderr?Oe.createDevice("/dev","stderr",null,s.stderr):Oe.symlink("/dev/tty1","/dev/stderr"),Oe.open("/dev/stdin",0),Oe.open("/dev/stdout",1),Oe.open("/dev/stderr",1)},ensureErrnoError:function(){Oe.ErrnoError||(Oe.ErrnoError=function(e,t){this.name="ErrnoError",this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Oe.ErrnoError.prototype=new Error,Oe.ErrnoError.prototype.constructor=Oe.ErrnoError,[44].forEach((function(e){Oe.genericErrors[e]=new Oe.ErrnoError(e),Oe.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Oe.ensureErrnoError(),Oe.nameTable=new Array(4096),Oe.mount(Ie,{},"/"),Oe.createDefaultDirectories(),Oe.createDefaultDevices(),Oe.createSpecialDirectories(),Oe.filesystems={MEMFS:Ie,IDBFS:Te}},init:function(e,t,r){Oe.init.initialized=!0,Oe.ensureErrnoError(),s.stdin=e||s.stdin,s.stdout=t||s.stdout,s.stderr=r||s.stderr,Oe.createStandardStreams()},quit:function(){Oe.init.initialized=!1;for(var e=0;e<Oe.streams.length;e++){var t=Oe.streams[e];t&&Oe.close(t)}},findObject:function(e,t){var r=Oe.analyzePath(e,t);return r.exists?r.object:null},analyzePath:function(e,t){try{e=(n=Oe.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Oe.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=ue.basename(e),n=Oe.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:Oe.getPath(e);for(var s=t.split("/").reverse();s.length;){var a=s.pop();if(a){var o=ue.join2(e,a);try{Oe.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,r,n,s){var a=ue.join2("string"==typeof e?e:Oe.getPath(e),t),o=we(n,s);return Oe.create(a,o)},createDataFile:function(e,t,r,n,s,a){var o=t;e&&(e="string"==typeof e?e:Oe.getPath(e),o=t?ue.join2(e,t):e);var i=we(n,s),l=Oe.create(o,i);if(r){if("string"==typeof r){for(var u=new Array(r.length),c=0,d=r.length;c<d;++c)u[c]=r.charCodeAt(c);r=u}Oe.chmod(l,146|i);var f=Oe.open(l,577);Oe.write(f,r,0,r.length,0,a),Oe.close(f),Oe.chmod(l,i)}return l},createDevice:function(e,t,r,n){var s=ue.join2("string"==typeof e?e:Oe.getPath(e),t),a=we(!!r,!!n);Oe.createDevice.major||(Oe.createDevice.major=64);var o=Oe.makedev(Oe.createDevice.major++,0);return Oe.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,s,a){for(var o=0,i=0;i<s;i++){var l;try{l=r()}catch(e){throw new Oe.ErrnoError(29)}if(void 0===l&&0===o)throw new Oe.ErrnoError(6);if(null==l)break;o++,t[n+i]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,s,a){for(var o=0;o<s;o++)try{n(t[r+o])}catch(e){throw new Oe.ErrnoError(29)}return s&&(e.node.timestamp=Date.now()),o}}),Oe.mkdev(s,a,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ge(a(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Oe.ErrnoError(29)}},createLazyFile:function(e,t,r,n,s){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),s=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;s||(o=n);var i=this;i.setDataGetter((function(e){var t=e*o,s=(e+1)*o-1;if(s=Math.min(s,n-1),void 0===i.chunks[e]&&(i.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var s=new XMLHttpRequest;if(s.open("GET",r,!1),n!==o&&s.setRequestHeader("Range","bytes="+e+"-"+t),s.responseType="arraybuffer",s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.send(null),!(s.status>=200&&s.status<300||304===s.status))throw new Error("Couldn't load "+r+". Status: "+s.status);return void 0!==s.response?new Uint8Array(s.response||[]):ge(s.responseText||"",!0)}(t,s)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!a&&n||(o=n=1,n=this.getter(0).length,o=n,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new a;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var i={isDevice:!1,contents:o}}else i={isDevice:!1,url:r};var l=Oe.createFile(e,t,i,n,s);i.contents?l.contents=i.contents:i.url&&(l.contents=null,l.url=i.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var u={};function c(e,t,r,n,s){var a=e.node.contents;if(s>=a.length)return 0;var o=Math.min(a.length-s,n);if(a.slice)for(var i=0;i<o;i++)t[r+i]=a[s+i];else for(i=0;i<o;i++)t[r+i]=a.get(s+i);return o}return Object.keys(l.stream_ops).forEach((function(e){var t=l.stream_ops[e];u[e]=function(){return Oe.forceLoadFile(l),t.apply(null,arguments)}})),u.read=function(e,t,r,n,s){return Oe.forceLoadFile(l),c(e,t,r,n,s)},u.mmap=function(e,t,r,n,s){Oe.forceLoadFile(l);var a=_e(t);if(!a)throw new Oe.ErrnoError(48);return c(e,v,a,t,r),{ptr:a,allocated:!0}},l.stream_ops=u,l}},ke={DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if(ue.isAbs(t))return t;var n;if(n=-100===e?Oe.cwd():ke.getStreamFromFD(e).path,0==t.length){if(!r)throw new Oe.ErrnoError(44);return n}return ue.join2(n,t)},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&ue.normalize(t)!==ue.normalize(Oe.getPath(e.node)))return-54;throw e}_[r>>2]=n.dev,_[r+4>>2]=n.mode,I[r+8>>2]=n.nlink,_[r+12>>2]=n.uid,_[r+16>>2]=n.gid,_[r+20>>2]=n.rdev,N[r+24>>3]=BigInt(n.size),_[r+32>>2]=4096,_[r+36>>2]=n.blocks;var s=n.atime.getTime(),a=n.mtime.getTime(),o=n.ctime.getTime();return N[r+40>>3]=BigInt(Math.floor(s/1e3)),I[r+48>>2]=s%1e3*1e3,N[r+56>>3]=BigInt(Math.floor(a/1e3)),I[r+64>>2]=a%1e3*1e3,N[r+72>>3]=BigInt(Math.floor(o/1e3)),I[r+80>>2]=o%1e3*1e3,N[r+88>>3]=BigInt(n.ino),0},doMsync:function(e,t,r,n,s){if(!Oe.isFile(t.node.mode))throw new Oe.ErrnoError(43);if(2&n)return 0;var a=y.slice(e,e+r);Oe.msync(t,a,s,r,n)},varargs:void 0,get:function(){var e=_[ke.varargs>>2];return ke.varargs+=4,e},getp:function(){return ke.get()},getStr:function(e){return se(e)},getStreamFromFD:function(e){return Oe.getStreamChecked(e)}};function xe(e,t,r){ke.varargs=r;try{var n=ke.getStreamFromFD(e);switch(t){case 0:if((s=ke.get())<0)return-28;for(;Oe.streams[s];)s++;return Oe.createStream(n,s).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var s=ke.get();return n.flags|=s,0;case 5:return s=ke.getp(),M[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return le(28),-1;default:return-28}}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return-e.errno}}function Re(e,t,r){ke.varargs=r;try{var n=ke.getStreamFromFD(e);switch(t){case 21509:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var s=n.tty.ops.ioctl_tcgets(n),a=ke.getp();_[a>>2]=s.c_iflag||0,_[a+4>>2]=s.c_oflag||0,_[a+8>>2]=s.c_cflag||0,_[a+12>>2]=s.c_lflag||0;for(var o=0;o<32;o++)v[a+o+17>>0]=s.c_cc[o]||0;return 0}return 0;case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){a=ke.getp();var i=_[a>>2],l=_[a+4>>2],u=_[a+8>>2],c=_[a+12>>2],d=[];for(o=0;o<32;o++)d.push(v[a+o+17>>0]);return n.tty.ops.ioctl_tcsets(n.tty,t,{c_iflag:i,c_oflag:l,c_cflag:u,c_lflag:c,c_cc:d})}return 0;case 21519:return n.tty?(a=ke.getp(),_[a>>2]=0,0):-59;case 21520:return n.tty?-28:-59;case 21531:return a=ke.getp(),Oe.ioctl(n,t,a);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var f=n.tty.ops.ioctl_tiocgwinsz(n.tty);a=ke.getp(),M[a>>1]=f[0],M[a+2>>1]=f[1]}return 0;case 21524:case 21515:return n.tty?0:-59;default:return-28}}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ae(e,t,r,n){ke.varargs=n;try{t=ke.getStr(t),t=ke.calculateAt(e,t);var s=n?ke.get():0;return Oe.open(t,r,s).fd}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return-e.errno}}function Ce(e,t){try{return e=ke.getStr(e),ke.doStat(Oe.stat,e,t)}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return-e.errno}}var De=9007199254740992,je=-9007199254740992,Fe=function(e){return e<je||e>De?NaN:Number(e)};function Be(e,t,r,n,s,a){a=Fe(a);try{if(isNaN(a))return 61;var o=ke.getStreamFromFD(s);2&r&&ke.doMsync(e,o,t,n,a),Oe.munmap(o)}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return-e.errno}}var Le=function(){z("")},Ue=[],qe=function(e,t){var r;for(Ue.length=0;r=y[e++];)t+=105!=r&&t%8?4:0,Ue.push(106==r?N[t>>3]:105==r?_[t>>2]:S[t>>3]),t+=105==r?4:8;return Ue},ze=function(e,t,r){var n=qe(t,r);return Q[e].apply(null,n)},He=function(e,t,r){return ze(e,t,r)},We=function(e,t,r){return y.copyWithin(e,t,t+r)},Ge=function(){return 2147483648},$e=function(e){var t=(e-h.buffer.byteLength+65535)/65536;try{return h.grow(t),w(),1}catch(e){}},Xe=function(e){var t=y.length;e>>>=0;var r=Ge();if(e>r)return!1;for(var n,s,a=1;a<=4;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var i=Math.min(r,(n=Math.max(e,o))+((s=65536)-n%s)%s);if($e(i))return!0}return!1},Ke={},Ye=function(){return u||"./this.program"},Je=function e(){if(!e.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":sm(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ye()};for(var r in Ke)void 0===Ke[r]?delete t[r]:t[r]=Ke[r];var n=[];for(var r in t)n.push("".concat(r,"=").concat(t[r]));e.strings=n}return e.strings},Qe=function(e,t){for(var r=0;r<e.length;++r)v[t++>>0]=e.charCodeAt(r);v[t>>0]=0},Ze=function(e,t){var r=0;return Je().forEach((function(n,s){var a=t+r;I[e+4*s>>2]=a,Qe(n,a),r+=n.length+1})),0},et=function(e,t){var r=Je();I[e>>2]=r.length;var n=0;return r.forEach((function(e){return n+=e.length+1})),I[t>>2]=n,0};function tt(e){try{var t=ke.getStreamFromFD(e);return Oe.close(t),0}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return e.errno}}var rt=function(e,t,r,n){for(var s=0,a=0;a<r;a++){var o=I[t>>2],i=I[t+4>>2];t+=8;var l=Oe.read(e,v,o,i,n);if(l<0)return-1;if(s+=l,l<i)break;void 0!==n&&(n+=l)}return s};function nt(e,t,r,n){try{var s=ke.getStreamFromFD(e),a=rt(s,t,r);return I[n>>2]=a,0}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return e.errno}}function st(e,t,r,n){t=Fe(t);try{if(isNaN(t))return 61;var s=ke.getStreamFromFD(e);return Oe.llseek(s,t,r),N[n>>3]=BigInt(s.position),s.getdents&&0===t&&0===r&&(s.getdents=null),0}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return e.errno}}var at=function(e,t,r,n){for(var s=0,a=0;a<r;a++){var o=I[t>>2],i=I[t+4>>2];t+=8;var l=Oe.write(e,v,o,i,n);if(l<0)return-1;s+=l,void 0!==n&&(n+=l)}return s};function ot(e,t,r,n){try{var s=ke.getStreamFromFD(e),a=at(s,t,r);return I[n>>2]=a,0}catch(e){if(void 0===Oe||"ErrnoError"!==e.name)throw e;return e.errno}}var it=0,lt=function(e){return s["_"+e]},ut=function(e,t){v.set(e,t)},ct=function(e,t,r){return he(e,y,t,r)},dt=function(e){var t=pe(e)+1,r=Pt(t);return ct(e,r,t),r},ft=function(e,t,r,n,s){var a={string:function(e){var t=0;return null!=e&&0!==e&&(t=dt(e)),t},array:function(e){var t=Pt(e.length);return ut(e,t),t}},o=lt(e),i=[],l=0;if(n)for(var u=0;u<n.length;u++){var c=a[r[u]];c?(0===l&&(l=_t()),i[u]=c(n[u])):i[u]=n[u]}var d=o.apply(null,i);return d=function(e){return 0!==l&&It(l),function(e){return"string"===t?se(e):"boolean"===t?Boolean(e):e}(e)}(d)},mt=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Oe.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},pt=365,ht=146;Object.defineProperties(mt.prototype,{read:{get:function(){return(this.mode&pt)===pt},set:function(e){e?this.mode|=pt:this.mode&=~pt}},write:{get:function(){return(this.mode&ht)===ht},set:function(e){e?this.mode|=ht:this.mode&=~ht}},isFolder:{get:function(){return Oe.isDir(this.mode)}},isDevice:{get:function(){return Oe.isChrdev(this.mode)}}}),Oe.FSNode=mt,Oe.createPreloadedFile=Ee,Oe.staticInit();var gt,bt={a:ae,b:ie,c:xe,h:Re,i:Ae,o:Ce,p:Be,e:Le,k:He,j:We,n:Xe,l:Ze,m:et,d:tt,g:nt,q:st,f:ot},vt=J(),yt=(s._cqt_init=function(e,t,r,n,a,o){return(s._cqt_init=vt.t)(e,t,r,n,a,o)},s._cqt_calc=function(e,t){return(s._cqt_calc=vt.u)(e,t)},s._cqt_render_line=function(e){return(s._cqt_render_line=vt.v)(e)},s._cqt_bin_to_freq=function(e){return(s._cqt_bin_to_freq=vt.w)(e)},s._fluid_synth_noteon=function(e,t,r,n){return(s._fluid_synth_noteon=vt.x)(e,t,r,n)},s._fluid_synth_noteoff=function(e,t,r){return(s._fluid_synth_noteoff=vt.y)(e,t,r)},s._fluid_synth_write_float=function(e,t,r,n,a,o,i,l){return(s._fluid_synth_write_float=vt.z)(e,t,r,n,a,o,i,l)},s._fluid_synth_all_notes_off=function(e,t){return(s._fluid_synth_all_notes_off=vt.A)(e,t)},s._adl_rt_noteOn=function(e,t,r,n){return(s._adl_rt_noteOn=vt.B)(e,t,r,n)},s._adl_rt_noteOff=function(e,t,r){return(s._adl_rt_noteOff=vt.C)(e,t,r)},s._adl_rt_patchChange=function(e,t,r){return(s._adl_rt_patchChange=vt.D)(e,t,r)},s._adl_rt_pitchBend=function(e,t,r){return(s._adl_rt_pitchBend=vt.E)(e,t,r)},s._adl_rt_controllerChange=function(e,t,r,n){return(s._adl_rt_controllerChange=vt.F)(e,t,r,n)},s._adl_rt_channelAfterTouch=function(e,t,r){return(s._adl_rt_channelAfterTouch=vt.G)(e,t,r)},s._adl_panic=function(e){return(s._adl_panic=vt.H)(e)},s._adl_rt_resetState=function(e){return(s._adl_rt_resetState=vt.I)(e)},s._tp_note_on=function(e,t,r){return(s._tp_note_on=vt.J)(e,t,r)},s._tp_note_off=function(e,t){return(s._tp_note_off=vt.K)(e,t)},s._tp_program_change=function(e,t){return(s._tp_program_change=vt.L)(e,t)},s._tp_pitch_bend=function(e,t){return(s._tp_pitch_bend=vt.M)(e,t)},s._tp_control_change=function(e,t,r){return(s._tp_control_change=vt.N)(e,t,r)},s._tp_channel_pressure=function(e,t){return(s._tp_channel_pressure=vt.O)(e,t)},s._tp_render=function(e,t){return(s._tp_render=vt.P)(e,t)},s._tp_panic=function(){return(s._tp_panic=vt.Q)()},s._tp_panic_channel=function(e){return(s._tp_panic_channel=vt.R)(e)},s._tp_reset=function(){return(s._tp_reset=vt.S)()},s._tp_init=function(e){return(s._tp_init=vt.T)(e)},s._new_fluid_settings=function(){return(s._new_fluid_settings=vt.U)()},s._fluid_settings_setstr=function(e,t,r){return(s._fluid_settings_setstr=vt.V)(e,t,r)},s._fluid_settings_setint=function(e,t,r){return(s._fluid_settings_setint=vt.W)(e,t,r)},s._fluid_settings_setnum=function(e,t,r){return(s._fluid_settings_setnum=vt.X)(e,t,r)},s._new_fluid_synth=function(e){return(s._new_fluid_synth=vt.Y)(e)},s._fluid_synth_set_interp_method=function(e,t,r){return(s._fluid_synth_set_interp_method=vt.Z)(e,t,r)},s._adl_init=function(e){return(s._adl_init=vt._)(e)},s._adl_setSoftPanEnabled=function(e,t){return(s._adl_setSoftPanEnabled=vt.$)(e,t)},s._adl_setNumChips=function(e,t){return(s._adl_setNumChips=vt.aa)(e,t)},s._tp_unload_soundfont=function(){return(s._tp_unload_soundfont=vt.ba)()},s._tp_load_soundfont=function(e){return(s._tp_load_soundfont=vt.ca)(e)},s._fluid_synth_sfload=function(e,t,r){return(s._fluid_synth_sfload=vt.da)(e,t,r)},s._tp_add_soundfont=function(e){return(s._tp_add_soundfont=vt.ea)(e)},s._tp_set_reverb=function(e){return(s._tp_set_reverb=vt.fa)(e)},s._fluid_synth_set_reverb_on=function(e,t){return(s._fluid_synth_set_reverb_on=vt.ga)(e,t)},s._fluid_synth_set_reverb=function(e,t,r,n,a){return(s._fluid_synth_set_reverb=vt.ha)(e,t,r,n,a)},s._tp_get_polyphony=function(){return(s._tp_get_polyphony=vt.ia)()},s._fluid_synth_get_polyphony=function(e){return(s._fluid_synth_get_polyphony=vt.ja)(e)},s._tp_set_polyphony=function(e){return(s._tp_set_polyphony=vt.ka)(e)},s._fluid_synth_set_polyphony=function(e,t){return(s._fluid_synth_set_polyphony=vt.la)(e,t)},s._tp_get_channel_in_use=function(e){return(s._tp_get_channel_in_use=vt.ma)(e)},s._tp_get_channel_program=function(e){return(s._tp_get_channel_program=vt.na)(e)},s._tp_set_channel_mute=function(e,t){return(s._tp_set_channel_mute=vt.oa)(e,t)},s._tp_set_bank=function(e){return(s._tp_set_bank=vt.pa)(e)},s._adl_setBank=function(e,t){return(s._adl_setBank=vt.qa)(e,t)},s._tp_set_synth_engine=function(e){return(s._tp_set_synth_engine=vt.ra)(e)},s._tp_set_ch10_melodic=function(e){return(s._tp_set_ch10_melodic=vt.sa)(e)},s._fluid_synth_bank_select=function(e,t,r){return(s._fluid_synth_bank_select=vt.ta)(e,t,r)},s._tp_get_fluid_synth=function(){return(s._tp_get_fluid_synth=vt.ua)()},s._malloc=function(e){return(s._malloc=vt.va)(e)},s._gme_open_data=function(e,t,r,n){return(s._gme_open_data=vt.wa)(e,t,r,n)},s._gme_delete=function(e){return(s._gme_delete=vt.xa)(e)},s._gme_track_count=function(e){return(s._gme_track_count=vt.ya)(e)},s._gme_track_info=function(e,t,r){return(s._gme_track_info=vt.za)(e,t,r)},s._gme_start_track=function(e,t){return(s._gme_start_track=vt.Aa)(e,t)},s._gme_play=function(e,t,r){return(s._gme_play=vt.Ba)(e,t,r)},s._gme_set_fade=function(e,t,r){return(s._gme_set_fade=vt.Ca)(e,t,r)},s._gme_track_ended=function(e){return(s._gme_track_ended=vt.Da)(e)},s._gme_tell_scaled=function(e){return(s._gme_tell_scaled=vt.Ea)(e)},s._gme_seek_scaled=function(e,t){return(s._gme_seek_scaled=vt.Fa)(e,t)},s._gme_voice_count=function(e){return(s._gme_voice_count=vt.Ga)(e)},s._gme_ignore_silence=function(e,t){return(s._gme_ignore_silence=vt.Ha)(e,t)},s._gme_set_tempo=function(e,t){return(s._gme_set_tempo=vt.Ia)(e,t)},s._gme_mute_voices=function(e,t){return(s._gme_mute_voices=vt.Ja)(e,t)},s._gme_voice_name=function(e,t){return(s._gme_voice_name=vt.Ka)(e,t)},s._gme_get_chip_state=function(e){return(s._gme_get_chip_state=vt.La)(e)},s._xmp_start_player=function(e,t,r){return(s._xmp_start_player=vt.Ma)(e,t,r)},s._xmp_end_player=function(e){return(s._xmp_end_player=vt.Na)(e)},s._xmp_play_buffer=function(e,t,r,n){return(s._xmp_play_buffer=vt.Oa)(e,t,r,n)},s._xmp_get_frame_info=function(e,t){return(s._xmp_get_frame_info=vt.Pa)(e,t)},s._xmp_get_module_info=function(e,t){return(s._xmp_get_module_info=vt.Qa)(e,t)},s._xmp_create_context=function(){return(s._xmp_create_context=vt.Ra)()},s._xmp_stop_module=function(e){return(s._xmp_stop_module=vt.Sa)(e)},s._xmp_restart_module=function(e){return(s._xmp_restart_module=vt.Ta)(e)},s._xmp_seek_time=function(e,t){return(s._xmp_seek_time=vt.Ua)(e,t)},s._xmp_channel_mute=function(e,t,r){return(s._xmp_channel_mute=vt.Va)(e,t,r)},s._xmp_get_player=function(e,t){return(s._xmp_get_player=vt.Wa)(e,t)},s._xmp_get_format_list=function(){return(s._xmp_get_format_list=vt.Xa)()},s._xmp_inject_event=function(e,t,r){return(s._xmp_inject_event=vt.Ya)(e,t,r)},s._xmp_load_module_from_memory=function(e,t,r){return(s._xmp_load_module_from_memory=vt.Za)(e,t,r)},s._lvgm_init=function(e){return(s._lvgm_init=vt._a)(e)},s._lvgm_load_data=function(e,t,r){return(s._lvgm_load_data=vt.$a)(e,t,r)},s._lvgm_get_position_ms=function(e){return(s._lvgm_get_position_ms=vt.ab)(e)},s._lvgm_get_duration_ms=function(e){return(s._lvgm_get_duration_ms=vt.bb)(e)},s._lvgm_start=function(e){return(s._lvgm_start=vt.cb)(e)},s._lvgm_render=function(e,t,r){return(s._lvgm_render=vt.db)(e,t,r)},s._lvgm_stop=function(e){return(s._lvgm_stop=vt.eb)(e)},s._lvgm_reset=function(e){return(s._lvgm_reset=vt.fb)(e)},s._lvgm_set_playback_speed=function(e,t){return(s._lvgm_set_playback_speed=vt.gb)(e,t)},s._lvgm_get_playback_speed=function(e){return(s._lvgm_get_playback_speed=vt.hb)(e)},s._lvgm_seek_ms=function(e,t){return(s._lvgm_seek_ms=vt.ib)(e,t)},s._lvgm_get_metadata=function(e){return(s._lvgm_get_metadata=vt.jb)(e)},s._lvgm_get_voice_count=function(e){return(s._lvgm_get_voice_count=vt.kb)(e)},s._lvgm_get_voice_name=function(e,t){return(s._lvgm_get_voice_name=vt.lb)(e,t)},s._lvgm_get_chip_state=function(e){return(s._lvgm_get_chip_state=vt.mb)(e)},s._lvgm_set_voice_mask=function(e,t){return(s._lvgm_set_voice_mask=vt.nb)(e,t)},s._lvgm_get_voice_mask=function(e){return(s._lvgm_get_voice_mask=vt.ob)(e)},s._fluid_synth_all_sounds_off=function(e,t){return(s._fluid_synth_all_sounds_off=vt.qb)(e,t)},s._fluid_synth_set_chorus=function(e,t,r,n,a,o){return(s._fluid_synth_set_chorus=vt.rb)(e,t,r,n,a,o)},s._fluid_synth_set_chorus_on=function(e,t){return(s._fluid_synth_set_chorus_on=vt.sb)(e,t)},s._adl_getNumChips=function(e){return(s._adl_getNumChips=vt.tb)(e)},s._adl_getBanksCount=function(){return(s._adl_getBanksCount=vt.ub)()},s._adl_getBankNames=function(){return(s._adl_getBankNames=vt.vb)()},s._adl_generate=function(e,t,r){return(s._adl_generate=vt.wb)(e,t,r)},s._v2m_open=function(e,t,r){return(s._v2m_open=vt.xb)(e,t,r)},s._v2m_write_audio=function(e,t){return(s._v2m_write_audio=vt.yb)(e,t)},s._v2m_get_position_ms=function(){return(s._v2m_get_position_ms=vt.zb)()},s._v2m_get_duration_ms=function(){return(s._v2m_get_duration_ms=vt.Ab)()},s._v2m_seek_ms=function(e){return(s._v2m_seek_ms=vt.Bb)(e)},s._v2m_set_speed=function(e){return(s._v2m_set_speed=vt.Cb)(e)},s._v2m_close=function(){return(s._v2m_close=vt.Db)()},function(){return(yt=vt.Eb)()}),Mt=(s._n64_load_file=function(e,t,r,n){return(s._n64_load_file=vt.Fb)(e,t,r,n)},s._n64_get_duration_ms=function(){return(s._n64_get_duration_ms=vt.Gb)()},s._n64_get_position_ms=function(){return(s._n64_get_position_ms=vt.Hb)()},s._n64_render_audio=function(e,t){return(s._n64_render_audio=vt.Ib)(e,t)},s._n64_seek_ms=function(e){return(s._n64_seek_ms=vt.Jb)(e)},s._n64_shutdown=function(){return(s._n64_shutdown=vt.Kb)()},s._mdx_open=function(e,t,r){return(s._mdx_open=vt.Lb)(e,t,r)},s._mdx_set_dir=function(e,t){return(s._mdx_set_dir=vt.Mb)(e,t)},s._mdx_set_rate=function(e){return(s._mdx_set_rate=vt.Nb)(e)},s._mdx_set_max_loop=function(e,t){return(s._mdx_set_max_loop=vt.Ob)(e,t)},s._mdx_next_frame=function(e){return(s._mdx_next_frame=vt.Pb)(e)},s._mdx_frame_length=function(e){return(s._mdx_frame_length=vt.Qb)(e)},s._mdx_calc_sample=function(e,t,r){return(s._mdx_calc_sample=vt.Rb)(e,t,r)},s._mdx_calc_log=function(e,t,r){return(s._mdx_calc_log=vt.Sb)(e,t,r)},s._mdx_get_title=function(e,t){return(s._mdx_get_title=vt.Tb)(e,t)},s._mdx_get_length=function(e){return(s._mdx_get_length=vt.Ub)(e)},s._mdx_get_tracks=function(e){return(s._mdx_get_tracks=vt.Vb)(e)},s._mdx_get_current_notes=function(e,t,r){return(s._mdx_get_current_notes=vt.Wb)(e,t,r)},s._mdx_close=function(e){return(s._mdx_close=vt.Xb)(e)},s._mdx_create_context=function(){return(s._mdx_create_context=vt.Yb)()},s._mdx_get_position_ms=function(e){return(s._mdx_get_position_ms=vt.Zb)(e)},s._mdx_set_speed=function(e,t){return(s._mdx_set_speed=vt._b)(e,t)},s._mdx_set_position_ms=function(e,t){return(s._mdx_set_position_ms=vt.$b)(e,t)},s._mdx_get_pdx_filename=function(e,t){return(s._mdx_get_pdx_filename=vt.ac)(e,t)},s._mdx_get_track_name=function(e,t){return(s._mdx_get_track_name=vt.bc)(e,t)},s._mdx_get_track_mask=function(e){return(s._mdx_get_track_mask=vt.cc)(e)},s._mdx_set_track_mask=function(e,t){return(s._mdx_set_track_mask=vt.dc)(e,t)},function(e,t){return(Mt=vt.ec)(e,t)}),_t=function(){return(_t=vt.fc)()},It=function(e){return(It=vt.gc)(e)},Pt=function(e){return(Pt=vt.hc)(e)},Nt=function(e){return(Nt=vt.ic)(e)};function St(){function t(){gt||(gt=!0,s.calledRun=!0,E||(R(),e(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),A()))}F>0||(x(),F>0||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t()))}if(s._xmp_version=510632,s._xmp_vercode=87556,s.ccall=ft,s.setValue=te,s.getValue=ee,s.UTF8ToString=se,s.FS=Oe,s.ALLOC_NORMAL=it,L=function e(){gt||St(),gt||(L=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return St(),n.ready}),im={apiKey:"AIzaSyC_zKemNR_zToveh9E7cRKTgE8Rkmfg6ao",authDomain:"chiptheory-bda40.firebaseapp.com",projectId:"chiptheory-bda40",storageBucket:"chiptheory-bda40.appspot.com",messagingSenderId:"564638848686",appId:"1:564638848686:web:061cfa2277b9985e9c3f3f",measurementId:"G-TDLV6BZJ1B"};var lm=Object(n.memo)(um);function um(e){var t,r=e.dim?"DirectoryLink-dim":null,n=e.to.replace("%25","%2525"),a=e.search||(delete(t=Ya.a.parse(window.location.search.substring(1))).q,Ya.a.stringify(t)),o={pathname:n,search:".."===e.children?"":a,state:{prevPathname:window.location.pathname.replace("/chiptheory/","/")}},i=null;return e.isBackLink&&(i=function(t){t.preventDefault(),e.history.goBack()}),s.a.createElement(Oo,{to:o,className:r,onClick:i},e.children)}um.propTypes={to:Ja.string.isRequired,dim:Ja.bool,search:Ja.string,isBackLink:Ja.bool};function cm(){for(var e="",t=0;t<arguments.length;t++){if(!(t<0||arguments.length<=t?void 0:arguments[t]))return"";e+=t<0||arguments.length<=t?void 0:arguments[t]}return e}function dm(e){return e.replace(qf.CATALOG_PREFIX,"/")}function fm(e){return"".concat(qf.API_BASE,"/metadata?path=").concat(encodeURIComponent(e))}function mm(e,t,r){return e.FS.analyzePath(t).exists?(console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t)):(console.log("Downloading ".concat(t,"...")),fetch(r).then((function(e){if(!e.ok)throw Error("HTTP ".concat(e.status," while fetching ").concat(t));return e})).then((function(e){return e.arrayBuffer()})).then((function(r){var n=new Uint8Array(r);return pm(e,t,n,!0)})))}function pm(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!n&&e.FS.analyzePath(t).exists)return console.debug("".concat(t," exists in Emscripten file system.")),Promise.resolve(t);console.debug("Writing ".concat(t," to Emscripten file system..."));var s=Xa.a.dirname(t);return e.FS.mkdirTree(s),e.FS.writeFile(t,r),new Promise((function(r,n){e.FS.syncfs(!1,(function(e){e?(console.error("Error synchronizing to indexeddb.",e),n(e)):(console.debug("Synchronized ".concat(t," to indexeddb.")),r(t))}))}))}function hm(e,t,r){return function(e,t,r,n,s){return n+(e-t)/(r-t)*(s-n)}(e,0,1,t,r)}var gm=r(24);function bm(e){return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==bm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===bm(a)?a:String(a)),n)}var s,a}function ym(e,t,r){return t&&vm(e.prototype,t),r&&vm(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Mm=ym((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=new gm.CalcCascades,n=r.lowpass({order:5,characteristic:"butterworth",Fs:t,Fc:200,gain:0}),s=r.lowpass({order:3,characteristic:"butterworth",Fs:t,Fc:120,gain:0}),a=r.highpass({order:3,characteristic:"butterworth",Fs:t,Fc:25,gain:0}),o=new gm.IirFilter(n),i=new gm.IirFilter(s),l=new gm.IirFilter(a),u=0,c=0,d=0,f=0,m=Math.exp(-1/(.16*t)),p=0,h=Math.exp(-1/(.016*t));function g(e){return e=function(e){return e-(f=m*f+(1-m)*e)}(e),1.414*(p=h*p+(1-h)*Math.abs(e))}this.process=function(e){var t=o.singleStep(e),r=g(t);c=u,u=t,c<0&&u>=0&&(d=(d+1)%Math.pow(2,1));for(var n=0,s=0;s<1;s++){n+=d&1<<s?1:-1}return l.singleStep(i.singleStep(n))*r}}));function _m(e){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Im(e){return function(e){if(Array.isArray(e))return Pm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==_m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===_m(a)?a:String(a)),n)}var s,a}function Em(e,t){return(Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Tm(e);if(t){var s=Tm(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return wm(this,r)}}function wm(e,t){if(t&&("object"===_m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tm(e){return(Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Om=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Em(e,t)}(a,e);var t,r,n,s=Vm(a);function a(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;return Nm(this,a),(r=s.call(this)).core=e,r.paused=!0,r.stopped=!0,r.fileExtensions=[],r.metadata=null,r.sampleRate=t,r.bufferSize=n,r.debug=o,r.timeCount=0,r.renderTime=0,r.perfLoggingInterval=100,r.paramDefs=[],r.params={},r.setChipStateDump=i,r.appTogglePause=l,r}return t=a,n=[{key:"metadataFromFilepath",value:function(e){var t=e.split("/"),r={};return r.title=t.pop(),r.system=t.shift(),"Game MIDI"===r.system?r.game=t.shift():r.artist=t.shift(),r}}],(r=[{key:"togglePause",value:function(){return this.paused=!this.paused,this.paused}},{key:"isPaused",value:function(){return this.paused}},{key:"resume",value:function(){this.stopped=!1,this.paused=!1}},{key:"canPlay",value:function(e){return-1!==this.fileExtensions.indexOf(e.toLowerCase())}},{key:"loadData",value:function(e,t){throw Error("Player.loadData() must be implemented.")}},{key:"stop",value:function(){throw Error("Player.stop() must be implemented.")}},{key:"isPlaying",value:function(){throw Error("Player.isPlaying() must be implemented.")}},{key:"getTempo",value:function(){return console.warn("Player.getTempo() not implemented for this player."),1}},{key:"setTempo",value:function(){console.warn("Player.setTempo() not implemented for this player.")}},{key:"setFadeout",value:function(e){console.warn("Player.setFadeout() not implemented for this player.")}},{key:"getDurationMs",value:function(){return console.warn("Player.getDurationMs() not implemented for this player."),5e3}},{key:"getPositionMs",value:function(){return console.warn("Player.getPositionMs() not implemented for this player."),0}},{key:"seekMs",value:function(e){console.warn("Player.seekMs() not implemented for this player.")}},{key:"getVoiceName",value:function(e){console.warn("Player.getVoiceName() not implemented for this player.")}},{key:"getVoiceMask",value:function(){return console.warn("Player.getVoiceMask() not implemented for this player."),[]}},{key:"setVoiceMask",value:function(){console.warn("Player.setVoiceMask() not implemented for this player.")}},{key:"getNumVoices",value:function(){return 0}},{key:"getNumSubtunes",value:function(){return 1}},{key:"getSubtune",value:function(){return 0}},{key:"getMetadata",value:function(){return{title:null,author:null}}},{key:"getParamDefs",value:function(){return this.paramDefs}},{key:"getBasePlayerState",value:function(){var e=this;return{metadata:this.getMetadata(),durationMs:this.getDurationMs(),positionMs:this.getPositionMs(),numVoices:this.getNumVoices(),numSubtunes:this.getNumSubtunes(),subtune:this.getSubtune(),paramDefs:this.getParamDefs(),tempo:this.getTempo(),voiceMask:this.getVoiceMask(),voiceNames:Im(Array(this.getNumVoices())).map((function(t,r){return e.getVoiceName(r)})),infoTexts:[],isStopped:this.stopped,isPaused:this.paused}}},{key:"suspend",value:function(){this.stopped=!0,this.paused=!0}},{key:"processAudio",value:function(e){var t=performance.now();this.processAudioInner(e);var r=performance.now();if(this.debug&&(this.renderTime+=r-t,this.timeCount++,this.timeCount>=this.perfLoggingInterval)){var n=this.renderTime/this.timeCount,s=1e3*this.bufferSize/this.sampleRate;console.log("[%s] %s ms to render %d frames (%s ms) (%s% utilization)",this.constructor.name,n.toFixed(2),this.bufferSize,s.toFixed(1),(100*n/s).toFixed(1)),this.renderTime=0,this.timeCount=0}}},{key:"processAudioInner",value:function(){throw Error("Player.processAudioInner() must be implemented.")}},{key:"muteAudioDuringCall",value:function(e,t){if(e&&"running"===e.context.state&&!1===this.paused){var r=e.onaudioprocess;e.onaudioprocess=function(n){for(var s=0;s<n.outputBuffer.numberOfChannels;s++)n.outputBuffer.getChannelData(s).fill(0);t(),e.onaudioprocess=r}}else t()}},{key:"handleFileSystemReady",value:function(){}}])&&Sm(t.prototype,r),n&&Sm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Uf.a);function km(e){return(km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(r),!0).forEach((function(t){Um(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qm(n.key),n)}}function Dm(e,t){return(Dm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Lm(e);if(t){var s=Lm(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Fm(this,r)}}function Fm(e,t){if(t&&("object"===km(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bm(e)}function Bm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lm(e){return(Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Um(e,t,r){return(t=qm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qm(e){var t=function(e,t){if("object"!==km(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==km(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===km(t)?t:String(t)}var zm=null,Hm={".spc":5e3,".gym":1e4,".vgm":1e4,".vgz":1e4},Wm=["nsf","nsfe","spc","ay","sgc","gbs"];window.requestIdleCallback=window.requestIdleCallback||function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var Gm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dm(e,t)}(a,e);var t,r,n,s=jm(a);function a(){var e;Am(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Um(Bm(e=s.call.apply(s,[this].concat(r))),"paramDefs",[{id:"subbass",label:"Sub Bass",type:"number",min:0,max:2,step:.01,defaultValue:1},{id:"stereoWidth",label:"Stereo Width",type:"number",min:0,max:1,step:.01,defaultValue:0}]),Object(i.a)(Bm(e)),zm=e.core,e.name="Game Music Emu Player",e.paused=!1,e.fileExtensions=Wm,e.subtune=0,e.tempo=1,e.params={subbass:1},e.voiceMask=[],e.gmeCtx=null,e.seekRequestId=null,e.seekTargetMs=null,e.currentFileExt=null,e.buffer=zm._malloc(16*e.bufferSize),e.emuPtr=zm._malloc(4),e.subBass=new Mm(e.sampleRate),e.params={},e.paramDefs.forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return t=a,(r=[{key:"processAudioInner",value:function(e){var t,r;if(this.paused)for(t=0;t<e.length;t++)e[t].fill(0);else if(this.getPositionMs()>=this.getDurationMs()&&!1===this.fadingOut&&(console.log("Fading out at %d ms.",this.getPositionMs()),this.setFadeout(this.getPositionMs()),this.fadingOut=!0),1!==zm._gme_track_ended(this.gmeCtx)){for(zm._gme_play(this.gmeCtx,2*this.bufferSize,this.buffer),t=0;t<e.length;t++)for(r=0;r<this.bufferSize;r++)e[t][r]=zm.getValue(this.buffer+2*r*2+2*t,"i16")/65535;if(this.seekTargetMs){var n=Math.min(256,this.bufferSize/2);for(r=0;r<n;r++){var s=r/n;e[0][r]*=s,e[1][r]*=s,e[0][this.bufferSize-(r+1)]*=s,e[1][this.bufferSize-(r+1)]*=s}for(r=0;r<this.bufferSize;r++)e[0][r]*=.2,e[1][r]*=.2}if(this.params.stereoWidth<1){var a=hm(this.params.stereoWidth,.5,1);for(r=0;r<this.bufferSize;r++){var o=e[0][r],i=e[1][r];e[0][r]=o*a+i*(1-a),e[1][r]=i*a+o*(1-a)}}if(this.params.subbass>0)for(r=0;r<this.bufferSize;r++){var l=this.subBass.process(e[0][r])*this.params.subbass;for(t=0;t<e.length;t++)e[t][r]+=l}}else this.seekMs(0),this.appTogglePause()}},{key:"playSubtune",value:function(e){this.fadingOut=!1,this.subtune=e,this.metadata=this._parseMetadata(e),console.debug("GMEPlayer.playSubtune(subtune=%s)",e),this.emit("playerStateUpdate",Rm(Rm({},this.getBasePlayerState()),{},{isStopped:!1})),zm._gme_start_track(this.gmeCtx,e),console.time("extract notes from NES file");for(var t=Math.ceil(this.sampleRate/100),r=zm._malloc(16*t),n=[],s=[],a=[],o=[],i=0;i<this.getDurationMs()/1e3*100;++i){zm._gme_play(this.gmeCtx,2*t,r);var l=zm.UTF8ToString(zm._gme_get_chip_state(this.gmeCtx)),u=JSON.parse(l);n.push(u.square1_volume>0?u.square1_period:-1),s.push(u.square2_volume>0?u.square2_period:-1),a.push(u.triangle_volume>0?u.triangle_period:-1),o.push(u.noise_volume>0?u.noise_period:-1)}return this.setChipStateDump({type:"nes",data:{p1:n,p2:s,t:a,n:o}}),console.timeEnd("extract notes from NES file"),zm._gme_start_track(this.gmeCtx,e)}},{key:"loadData",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.subtune=r,this.fadingOut=!1,this.seekTargetMs=null,this.seekRequestId=null,this.currentFileExt=Xa.a.extname(t),this.filepathMeta=Om.metadataFromFilepath(t);var n=t.match(/(\.sgc$|\.kss$|\.nsfe?$|\.ay$|Master System|Game Gear)/i);if(this.params.subbass=n?1:0,0!==zm.ccall("gme_open_data","number",["array","number","number","number"],[e,e.length,this.emuPtr,this.sampleRate]))throw this.stop(),Error("gme_open_data failed");if(this.gmeCtx=zm.getValue(this.emuPtr,"i32"),this.voiceMask=Array(zm._gme_voice_count(this.gmeCtx)).fill(!0),zm._gme_ignore_silence(this.gmeCtx,0),this.resume(),0!==this.playSubtune(this.subtune))throw this.stop(),Error("gme_start_track failed")}},{key:"_parseMetadata",value:function(e){var t=zm._malloc(4);0!==zm._gme_track_info(this.gmeCtx,t,e)&&console.error("could not load metadata");var r=zm.getValue(t,"*"),n=0,s=function(){var e=zm.getValue(r+n,"i32");return n+=4,e},a=function(){for(var e="",t=zm.getValue(r+n,"i8*"),s=0;s<255;s++){var a=zm.getValue(t+s,"i8");if(0===a)break;a<0&&(a=1+(255^Math.abs(a))),e+=String.fromCharCode(a)}return n+=4,e},o={};return o.length=s(),o.intro_length=s(),o.loop_length=s(),o.play_length=s(),n+=48,o.system=a(),o.game=a(),o.title=a()||o.game||this.filepathMeta.title,o.artist=a()||this.filepathMeta.artist,o.copyright=a(),o.comment=a(),o.formatted={title:o.game===o.title?o.title:cm(o.game," - ")+o.title,subtitle:[o.artist,o.system].filter((function(e){return e})).join(" - ")+cm(" (",o.copyright,")")},o}},{key:"getVoiceName",value:function(e){if(this.gmeCtx)return zm.UTF8ToString(zm._gme_voice_name(this.gmeCtx,e))}},{key:"getNumVoices",value:function(){if(this.gmeCtx)return zm._gme_voice_count(this.gmeCtx)}},{key:"getNumSubtunes",value:function(){if(this.gmeCtx)return zm._gme_track_count(this.gmeCtx)}},{key:"getSubtune",value:function(){return this.subtune}},{key:"getPositionMs",value:function(){return this.gmeCtx?zm._gme_tell_scaled(this.gmeCtx):0}},{key:"getDurationMs",value:function(){return this.gmeCtx?this.metadata.play_length:0}},{key:"getMetadata",value:function(){return this.metadata}},{key:"getParameter",value:function(e){return this.params[e]}},{key:"setParameter",value:function(e,t){switch(e){case"subbass":case"stereoWidth":this.params[e]=parseFloat(t);break;default:console.warn('GMEPlayer has no parameter with id "%s".',e)}}},{key:"isPlaying",value:function(){return!this.isPaused()&&1!==zm._gme_track_ended(this.gmeCtx)}},{key:"getTempo",value:function(){return this.tempo}},{key:"setTempo",value:function(e){this.tempo=e,this.gmeCtx&&zm._gme_set_tempo(this.gmeCtx,e)}},{key:"setFadeout",value:function(e){this.gmeCtx&&zm._gme_set_fade(this.gmeCtx,e,4e3)}},{key:"getVoiceMask",value:function(){return this.voiceMask}},{key:"setVoiceMask",value:function(e){if(this.gmeCtx){var t=0;e.forEach((function(e,r){e||(t+=1<<r)})),zm._gme_mute_voices(this.gmeCtx,t),zm._gme_ignore_silence(this.gmeCtx,0===t?0:1),console.log("GMEPlayer: Silence detection is %s.",0===t?"enabled":"disabled"),this.voiceMask=e}}},{key:"doIncrementalSeek",value:function(e){var t=this;this.seekRequestId=requestIdleCallback((function(){var r=Math.min(t.getPositionMs()+e,t.seekTargetMs);zm._gme_seek_scaled(t.gmeCtx,r),r<t.seekTargetMs?t.doIncrementalSeek(e):(zm._gme_set_tempo(t.gmeCtx,t.tempo),t.seekTargetMs=null,t.seekRequestId=null)}))}},{key:"seekMs",value:function(e){var t=this;if(this.gmeCtx)if(Hm[this.currentFileExt]){cancelIdleCallback(this.seekRequestId),this.seekTargetMs=e;var r=Hm[this.currentFileExt];e<this.getPositionMs()&&zm._gme_seek_scaled(this.gmeCtx,0),zm._gme_set_tempo(this.gmeCtx,2),this.doIncrementalSeek(r)}else this.muteAudioDuringCall(this.audioNode,(function(){return zm._gme_seek_scaled(t.gmeCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.gmeCtx&&zm._gme_delete(this.gmeCtx),this.gmeCtx=null,console.debug("GMEPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Cm(t.prototype,r),n&&Cm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Om);function $m(e){return($m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Km(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(r),!0).forEach((function(t){Ym(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ym(e,t,r){return(t=Zm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zm(n.key),n)}}function Zm(e){var t=function(e,t){if("object"!==$m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$m(t)?t:String(t)}function ep(e,t){return(ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=sp(e);if(t){var s=sp(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return rp(this,r)}}function rp(e,t){if(t&&("object"===$m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return np(e)}function np(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sp(e){return(sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ap,op=["mdx"],ip=Math.pow(2,16)-1,lp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ep(e,t)}(a,e);var t,r,n,s=tp(a);function a(){var e;Jm(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),Object(i.a)(np(e)),e.core.FS.mkdirTree("/mdx"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/mdx"),e.name="Sharp X68000 MDX Player",e.speed=1,e.mdxCtx=e.core._mdx_create_context(),e.core._mdx_set_rate(e.sampleRate),e.core._mdx_set_dir(e.mdxCtx,"/mdx"),e.fileExtensions=op,e.buffer=e.core._malloc(4*e.bufferSize),e}return t=a,(r=[{key:"loadData",value:function(e,t){var r,n=this;this.filepathMeta=Om.metadataFromFilepath(t);var s=Xa.a.dirname(t),a=Xa.a.join("/mdx",t);return pm(this.core,a,e).then((function(){var e=n.core.ccall("mdx_get_pdx_filename","string",["number","string"],[n.mdxCtx,a]);if(e){var t=Xa.a.join("/mdx",s,e),r=qf.CATALOG_PREFIX+Xa.a.join(s,e.toUpperCase());return mm(n.core,t,r)}})).then((function(){n.muteAudioDuringCall(n.audioNode,(function(){if(0!==(r=n.core.ccall("mdx_open","number",["number","string","string"],[n.mdxCtx,a,null])))throw console.error("mdx_load_file failed. error code: %d",r),Error("mdx_load_file failed");n.core._mdx_set_speed(n.mdxCtx,n.speed);var e=n.core._malloc(256);n.core._mdx_get_title(n.mdxCtx,e);var s=n.core.HEAPU8.subarray(e,e+256),o=s.indexOf(0),i=new TextDecoder("shift-jis").decode(s.subarray(0,o));n.metadata={title:i||Xa.a.basename(t)},n.resume(),n.emit("playerStateUpdate",Km(Km({},n.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,r;if(this.paused)for(r=0;r<e.length;r++)e[r].fill(0);else for(0===this.core._mdx_calc_sample(this.mdxCtx,this.buffer,this.bufferSize)&&this.stop(),r=0;r<e.length;r++)for(t=0;t<this.bufferSize;t++)e[r][t]=this.core.getValue(this.buffer+2*t*2+2*r,"i16")/ip}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._mdx_set_speed(this.mdxCtx,e)}},{key:"getPositionMs",value:function(){return this.core._mdx_get_position_ms(this.mdxCtx)}},{key:"getDurationMs",value:function(){return 1e3*this.core._mdx_get_length(this.mdxCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"getVoiceName",value:function(e){if(this.mdxCtx)return this.core.UTF8ToString(this.core._mdx_get_track_name(this.mdxCtx,e))}},{key:"getNumVoices",value:function(){if(this.mdxCtx)return this.core._mdx_get_tracks(this.mdxCtx)}},{key:"getVoiceMask",value:function(){for(var e=[],t=this.core._mdx_get_track_mask(this.mdxCtx),r=0;r<this.core._mdx_get_tracks(this.mdxCtx);r++)e.push(0==(t>>r&1));return e}},{key:"setVoiceMask",value:function(e){var t=0;e.forEach((function(e,r){e||(t+=1<<r)})),this.mdxCtx&&this.core._mdx_set_track_mask(this.mdxCtx,t)}},{key:"seekMs",value:function(e){var t=this;this.muteAudioDuringCall(this.audioNode,(function(){return t.core._mdx_set_position_ms(t.mdxCtx,e)}))}},{key:"stop",value:function(){this.suspend(),this.core._mdx_close(this.mdxCtx),console.debug("MDXPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Qm(t.prototype,r),n&&Qm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Om),up=r(63),cp=r.n(up),dp=r(23),fp=r.n(dp),mp=r(64),pp=r.n(mp),hp=["Piano         ","Bright Piano  ","Electric Piano","Honky-tonk    ","Rhodes Piano  ","FM Piano      ","Harpsichord   ","Clavinet      ","Celesta       ","Glockenspiel  ","Music Box     ","Vibraphone    ","Marimba       ","Xylophone     ","Tubular Bells ","Dulcimer      ","Drawbar Organ ","Perc Organ    ","Rock Organ    ","Church Organ  ","Reed Organ    ","Accordion     ","Harmonica     ","Accordion     ","Steel Guitar  ","Nylon Guitar  ","Jazz Guitar   ","Clean Guitar  ","Muted Guitar  ","Overdrive Guit","Distort Guitar","Guit Harmonics","Acoustic Bass ","Finger Bass   ","Picked Bass   ","Fretless Bass ","Slap Bass 1   ","Slap Bass 2   ","Synth Bass 1  ","Synth Bass 2  ","Violin        ","Viola         ","Cello         ","Contrabass    ","Trem Strings  ","Pizz Strings  ","Harp          ","Timpani       ","String Ens 1  ","String Ens 2  ","Syn Strings 1 ","Syn Strings 2 ","Choir Aahs    ","Voice Oohs    ","Synth Voice   ","Orch Hit      ","Trumpet       ","Trombone      ","Tuba          ","Muted Trumpet ","French Horn   ","Brass Section ","SynthBrass 1  ","SynthBrass 2  ","Soprano Sax   ","Alto Sax      ","Tenor Sax     ","Baritone Sax  ","Oboe          ","English Horn  ","Bassoon       ","Clarinet      ","Piccolo       ","Flute         ","Recorder      ","Pan Flute     ","Blown Bottle  ","Shakuhachi    ","Whistle       ","Ocarina       ","Lead: Square  ","Lead: Sawtooth","Lead: Calliope","Lead: Chiff   ","Lead: Charang ","Lead: Voice   ","Lead: Fifths  ","Lead: Bass    ","Pad: New Age  ","Pad: Warm     ","Pad: Polysynth","Pad: Choir    ","Pad: Bowed    ","Pad: Metallic ","Pad: Halo     ","Pad: Sweep    ","FX: Rain      ","FX: Soundtrack","FX: Crystal   ","FX: Atmosphere","FX: Brightness","FX: Goblins   ","FX: Echoes    ","FX: Sci-fi    ","Sitar         ","Banjo         ","Shamisen      ","Koto          ","Kalimba       ","Bag pipe      ","Fiddle        ","Shanai        ","Tinkle Bell   ","Agogo         ","Steel Drums   ","Woodblock     ","Taiko Drum    ","Melodic Tom   ","Synth Drum    ","Reverse Cymbal","Fret Noise    ","Breath Noise  ","Seashore      ","Bird Tweet    ","Telephone Ring","Helicopter    ","Applause      ","Gunshot       "],gp={0:"Std Drum Kit  ",8:"Room Drum Kit ",16:"Power Drum Kit",24:"Elec Drum Kit ",25:"TR808 Drum Kit",32:"Jazz Drum Kit ",40:"Brush Drum Kit"};function bp(e){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e){return function(e){if(Array.isArray(e))return yp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==bp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _p=r(4);r(145);var Ip=[126,127,9,1,247],Pp=[6,38,96,97,98,99,100,101],Np=(Mp(ap={},_p.EVENT_META_TEXT,"Text"),Mp(ap,_p.EVENT_META_COPYRIGHT_NOTICE,"Copyright"),Mp(ap,_p.EVENT_META_TRACK_NAME,"Track"),Mp(ap,_p.EVENT_META_INSTRUMENT_NAME,"Instrument"),Mp(ap,_p.EVENT_META_LYRICS,"Lyrics"),Mp(ap,_p.EVENT_META_MARKER,"Marker"),Mp(ap,_p.EVENT_META_CUE_POINT,"Cue point"),ap);function Sp(e){return("[F0 "+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join(" ")+"]").toUpperCase()}function Ep(e){Object(i.a)(this),e=e||{},this.output=e.output||null,this.synth=e.synth||null,this.programChangeCb=e.programChangeCb,this.speed=1,this.skipSilence=e.skipSilence||!1,this.lastProcessPlayTimestamp=0,this.lastSendTimestamp=0,this.events=[],this.paused=!0,this.useWebMIDI=!1,this.sampleRate=e.sampleRate||44100,this.channelsInUse=[],this.channelMask=[],this.channelProgramNums=[],this.textInfo=[],this.setChipStateDump=e.setChipStateDump,window.addEventListener("unload",this.stop)}Ep.prototype.load=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.stop(),this.position=0,this.elapsedTime=0;var r=e.tracks.map((function(t,r){return e.getTrackEvents(r)}));t?(console.debug("Processing MIDI track loops..."),this.events=e.getLoopedEvents(r,2)):this.events=e.getEvents();var n=e.getTimeEvents(r);this.summarizeMidiEvents();for(var s=[],a=0;a<16;a++)this.channelsInUse[a]&&s.push(a);this.setChipStateDump({type:"midi",data:{events:this.events,activeChannels:s,timebase:e.header.datas.getUint16(12),timeEvents:n}})},Ep.prototype.doSkipSilence=function(){var e=this,t=0,r=0,n=0,s=this.events.find((function(e){return e.subtype===_p.EVENT_MIDI_NOTE_ON}));if(s&&s.playTime>0)if(this.useWebMIDI){for(var a,o=[];this.events[this.position]!==s;){var i=this.events[this.position];if(this.position++,i.type===_p.EVENT_SYSEX||i.type===_p.EVENT_DIVSYSEX){if(console.debug("Sysex event at %s ms:",Math.floor(i.playTime),Sp(i.data)),i.data&&0===i.data[3]&&0===i.data[4])t+=500,r+=500;else{var l=.5*i.length;t+=l,r+=l}n++,a=[i.type].concat(vp(i.data))}else if(-1!==_p.MIDI_1PARAM_EVENTS.indexOf(i.subtype))t+=2,r+=2,a=[(i.subtype<<4)+i.channel,i.param1];else{if(-1===_p.MIDI_2PARAMS_EVENTS.indexOf(i.subtype))continue;t+=2,r+=2,a=[(i.subtype<<4)+i.channel,i.param1,i.param2||0]}o.push({message:a,timestamp:this.lastProcessPlayTimestamp+r})}o.forEach((function(t){var r=t.message,n=t.timestamp;e.send(r,n)})),console.log("Time to first note %s ms was updated to %s ms; %s sysex events",Math.round(s.playTime),t,n),this.lastProcessPlayTimestamp+=t-s.playTime}else this.setPosition(s.playTime-50)},Ep.prototype.play=function(e){return 0===this.position?(this.endCallback=e,this.reset(),this.lastProcessPlayTimestamp=performance.now(),this.skipSilence&&this.doSkipSilence(),this.resume(),1):0},Ep.prototype.processPlaySynth=function(e,t){this.lastProcessPlayTimestamp=performance.now();for(var r=e,n=0,s=64,a=null,o=this.synth,i=1e3*this.speed*(s/this.sampleRate)/2,l=2*t;l>0;l-=s){if(s>l&&(s=l),!this.paused){var u=this.position;for(this.elapsedTime+=i;this.events[u]&&this.elapsedTime>=this.events[u].playTime;u++)switch((a=this.events[u]).subtype){case _p.EVENT_MIDI_NOTE_ON:if(!this.channelMask[a.channel])break;0===a.param2?o.noteOff(a.channel,a.param1):o.noteOn(a.channel,a.param1,a.param2);break;case _p.EVENT_MIDI_NOTE_OFF:o.noteOff(a.channel,a.param1);break;case _p.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(a.channel,a.param1),o.programChange(a.channel,a.param1);break;case _p.EVENT_MIDI_PITCH_BEND:o.pitchBend(a.channel,(a.param2<<7)+a.param1);break;case _p.EVENT_MIDI_CONTROLLER:o.controlChange(a.channel,a.param1,a.param2)}this.position=u}o.render(e,s),e+=4*s,n+=s}if(this.position>=this.events.length){for(var c=0,d=0;d<t;d+=8)if(o.getValue(r+d,"float")>.001){c=1;break}if(0===c)return this.position=0,this.paused=!0,0}return n},Ep.prototype.processPlay=function(){var e=performance.now(),t=(e-this.lastProcessPlayTimestamp)*this.speed;if(this.lastProcessPlayTimestamp=e,!this.paused){var r=0,n=0,s=null;this.elapsedTime+=t;for(var a=this.events[this.position];this.events[this.position]&&a.playTime<this.elapsedTime+33;){if(s=null,n=0,a.type===_p.EVENT_SYSEX||a.type===_p.EVENT_DIVSYSEX)s=[a.type].concat(vp(a.data)),n=a.data&&0===a.data[3]&&0===a.data[4]?50:a.data.length/2,r>0?console.debug("Sysex event at %s ms delayed %s ms:",Math.floor(a.playTime),r,Sp(a.data)):console.debug("Sysex event at %s ms:",Math.floor(a.playTime),Sp(a.data));else switch(a.subtype){case _p.EVENT_MIDI_PROGRAM_CHANGE:this.handleProgramChange(a.channel,a.param1),s=[(a.subtype<<4)+a.channel,a.param1];break;case _p.EVENT_MIDI_CHANNEL_AFTERTOUCH:s=[(a.subtype<<4)+a.channel,a.param1];break;case _p.EVENT_MIDI_NOTE_OFF:case _p.EVENT_MIDI_NOTE_ON:case _p.EVENT_MIDI_NOTE_AFTERTOUCH:case _p.EVENT_MIDI_CONTROLLER:case _p.EVENT_MIDI_PITCH_BEND:if(!this.channelMask[a.channel])break;s=[(a.subtype<<4)+a.channel,a.param1,a.param2||0]}if(s){var o=(a.playTime-this.elapsedTime)/this.speed+this.lastProcessPlayTimestamp;this.send(s,o+r),r+=n,this.lastSendTimestamp=o}this.position++,a=this.events[this.position]}this.position>=this.events.length&&(setTimeout(this.endCallback,133),this.position=0,this.paused=!0)}},Ep.prototype.handleProgramChange=function(e,t){this.channelProgramNums[e]=t,this.programChangeCb()},Ep.prototype.togglePause=function(){return this.paused=!this.paused,!0===this.paused&&this.panic(this.lastSendTimestamp+10),this.paused},Ep.prototype.resume=function(){this.paused=!1},Ep.prototype.stop=function(){this.paused=!0,this.panic()},Ep.prototype.send=function(e,t){try{this.output.send(e,t)}catch(t){console.warn(t),console.warn(e)}},Ep.prototype.panic=function(e){if(this.useWebMIDI)for(var t=0;t<16;t++)this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e);else{for(var r=0;r<16;r++)this.synth.controlChange(r,64,0);this.synth.panic()}},Ep.prototype.reset=function(e){if(this.useWebMIDI){this.send([_p.EVENT_SYSEX].concat(Ip));for(var t=0;t<16;t++)this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+t,64,0],e),this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+t,120,0],e),this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+t,121,0],e)}else this.synth.reset()},Ep.prototype.getDuration=function(){return this.events&&this.events.length>0?this.events[this.events.length-1].playTime:0},Ep.prototype.getPosition=function(){return this.elapsedTime},Ep.prototype.setOutput=function(e){this.panic(this.lastSendTimestamp+10),this.output=e,this.setPosition(this.getPosition()-10)},Ep.prototype.getSpeed=function(){return this.speed},Ep.prototype.setSpeed=function(e){this.speed=Math.max(.1,Math.min(10,e))},Ep.prototype.setPositionSynth=function(e){var t=this.synth;e.forEach((function(e){switch(e.subtype){case _p.EVENT_MIDI_PROGRAM_CHANGE:t.programChange(e.channel,e.param1);break;case _p.EVENT_MIDI_CONTROLLER:default:t.controlChange(e.channel,e.param1,e.param2)}}))},Ep.prototype.setPositionWebMidi=function(e,t){var r,n=this,s=this.paused;this.paused=!0,t.forEach((function(e,t){e.subtype===_p.EVENT_MIDI_PROGRAM_CHANGE?r=[(e.subtype<<4)+e.channel,e.param1]:e.subtype===_p.EVENT_MIDI_CONTROLLER&&(r=[(e.subtype<<4)+e.channel,e.param1,e.param2]),n.send(r,n.lastSendTimestamp+20+2*t)}));var a=t.length,o=2*a;console.log("Scheduled %s events. Resuming playback in %s ms...",a,o),s||setTimeout(this.resume,o)},Ep.prototype.setPosition=function(e){if(!(e<0||e>this.getDuration())){this.lastProcessPlayTimestamp=performance.now(),this.panic(this.lastSendTimestamp+10);var t={},r=[],n=this.position;for(e<this.elapsedTime&&(n=0);this.events[n]&&this.events[n].playTime<e;){var s=this.events[n];s.subtype===_p.EVENT_MIDI_PROGRAM_CHANGE?(this.handleProgramChange(s.channel,s.param1),t["".concat(s.subtype,"-").concat(s.channel)]=s):s.subtype===_p.EVENT_MIDI_CONTROLLER&&(Pp.includes(s.param1)?r.push(s):t["".concat(s.subtype,"-").concat(s.channel,"-").concat(s.param1)]=s),n++}r=Object.values(t).concat(r),this.useWebMIDI?this.setPositionWebMidi(e,r):this.setPositionSynth(r),this.elapsedTime=e,this.position=n}},Ep.prototype.getChannelInUse=function(e){return!!this.channelsInUse[e]},Ep.prototype.getChannelProgramNum=function(e){return this.channelProgramNums[e]},Ep.prototype.summarizeMidiEvents=function(){this.textInfo=[];for(var e=this.channelsInUse,t=this.channelProgramNums,r=this.channelMask,n=0;n<16;n++)e[n]=0,t[n]=0,r[n]=!0;for(var s=0;s<this.events.length;s++){var a=this.events[s];switch(a.subtype){case _p.EVENT_MIDI_NOTE_ON:e[a.channel]=1;break;case _p.EVENT_MIDI_PROGRAM_CHANGE:t[a.channel]||this.handleProgramChange(a.channel,a.param1);break;case _p.EVENT_META_TEXT:case _p.EVENT_META_COPYRIGHT_NOTICE:case _p.EVENT_META_TRACK_NAME:case _p.EVENT_META_LYRICS:case _p.EVENT_META_MARKER:case _p.EVENT_META_CUE_POINT:var o=a.data.map((function(e){return String.fromCharCode(e)})).join("").trim();o&&!o.match(/nstd/i)&&this.textInfo.push("".concat(Np[a.subtype],": ").concat(o))}}},Ep.prototype.setChannelMute=function(e,t){if(this.channelMask[e]=!t,t){var r=this.lastSendTimestamp+10;this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+e,64,0],r),this.send([(_p.EVENT_MIDI_CONTROLLER<<4)+e,120,0],r),this.synth.panicChannel(e)}},Ep.prototype.setUseWebMIDI=function(e){this.useWebMIDI=e,this.setPosition(this.getPosition()-10)};var Vp=Ep;function wp(e){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Tp=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",i=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,s){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new S(s||[]);return n(o,"_invoke",{value:_(e,r,i)}),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&r.call(b,a)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var s;n(this,"_invoke",{value:function(n,a){function o(){return new t((function(s,o){!function n(s,a,o,i){var l=c(e[s],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==wp(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,i)}))}i(l.arg)}(n,a,s,o)}))}return s=s?s.then(o,o):o()}})}function _(e,t,r){var n="suspendedStart";return function(s,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===s)throw a;return V()}for(r.method=s,r.arg=a;;){var o=r.delegate;if(o){var i=I(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function I(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var s=c(n,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,d;var a=s.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:V}}function V(){return{value:void 0,done:!0}}return m.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(M.prototype),l(M.prototype,o,(function(){return this})),e.AsyncIterator=M,e.async=function(t,r,n,s,a){void 0===a&&(a=Promise);var o=new M(u(t,r,n,s),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var s=n.arg;N(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function Op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(r),!0).forEach((function(t){Hp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Op(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xp(e,t,r,n,s,a,o){try{var i=e[a](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,s)}function Rp(e){return function(e){if(Array.isArray(e))return Ap(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ap(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ap(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wp(n.key),n)}}function jp(){return(jp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=Fp(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(arguments.length<3?e:r):s.value}}).apply(this,arguments)}function Fp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zp(e)););return e}function Bp(e,t){return(Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zp(e);if(t){var s=zp(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Up(this,r)}}function Up(e,t){if(t&&("object"===wp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qp(e)}function qp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zp(e){return(zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hp(e,t,r){return(t=Wp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wp(e){var t=function(e,t){if("object"!==wp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==wp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wp(t)?t:String(t)}var Gp=null,$p={send:function(){}},Xp=[$p],Kp=["mid","midi","smf"],Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}(o,e);var t,r,n,s,a=Lp(o);function o(){var e;Cp(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Hp(qp(e=a.call.apply(a,[this].concat(r))),"paramDefs",[{id:"synthengine",label:"Synth Engine",type:"enum",options:[{label:"MIDI Synthesis Engine",items:[{label:"SoundFont (libFluidLite)",value:0},{label:"Adlib/OPL3 FM (libADLMIDI)",value:1},{label:"MIDI Device (Web MIDI)",value:2}]}],defaultValue:0},{id:"soundfont",label:"Soundfont",type:"enum",options:qf.SOUNDFONTS,defaultValue:qf.SOUNDFONTS[1].items[0].value,dependsOn:{param:"synthengine",value:0}},{id:"reverb",label:"Reverb",type:"number",min:0,max:1,step:.01,defaultValue:.33,dependsOn:{param:"synthengine",value:0}},{id:"chorus",label:"Chorus",type:"number",min:0,max:1,step:.01,defaultValue:.5,dependsOn:{param:"synthengine",value:0}},{id:"fluidpoly",label:"Polyphony",type:"number",min:4,max:256,step:4,defaultValue:128,dependsOn:{param:"synthengine",value:0}},{id:"opl3bank",label:"OPL3 Bank",type:"enum",options:[],defaultValue:58,dependsOn:{param:"synthengine",value:1}},{id:"mididevice",label:"MIDI Device",type:"enum",options:[{label:"MIDI Output Devices",items:[{label:"Dummy device",value:0}]}],defaultValue:0,dependsOn:{param:"synthengine",value:2}},{id:"autoengine",label:"Auto Synth Engine Switching",hint:'Switch synth engine based on filenames. Files containing "FM" will play through Adlib/OPL3 synth.',type:"toggle",defaultValue:!0},{id:"gmreset",label:"GM Reset",hint:"Send a GM Reset sysex and reset all controllers on all channels.",type:"button"}]),Object(i.a)(qp(e)),(Gp=e.core)._tp_init(e.sampleRate),Gp.FS.mkdir(qf.SOUNDFONT_MOUNTPOINT),Gp.FS.mount(Gp.FS.filesystems.IDBFS,{},qf.SOUNDFONT_MOUNTPOINT),e.name="MIDI Player",e.fileExtensions=Kp,e.activeChannels=[],e.buffer=Gp._malloc(4*e.bufferSize*2),e.filepathMeta={},e.midiFilePlayer=new Vp({programChangeCb:cp()((function(){return e.emit("playerStateUpdate",{voiceNames:pp()(e.getNumVoices()).map(e.getVoiceName)})}),200),output:$p,skipSilence:!0,sampleRate:e.sampleRate,synth:{noteOn:Gp._tp_note_on,noteOff:Gp._tp_note_off,pitchBend:Gp._tp_pitch_bend,controlChange:Gp._tp_control_change,programChange:Gp._tp_program_change,panic:Gp._tp_panic,panicChannel:Gp._tp_panic_channel,render:Gp._tp_render,reset:Gp._tp_reset,getValue:Gp.getValue},setChipStateDump:e.setChipStateDump});for(var s=Gp._adl_getBanksCount(),l=Gp._adl_getBankNames(),u=[],c=0;c<s;c++)u.push({label:Gp.UTF8ToString(Gp.getValue(l+4*c,"*")),value:c});return e.paramDefs.find((function(e){return"opl3bank"===e.id})).options=[{label:"OPL3 Bank",items:u}],e.webMidiIsInitialized=!1,e.params={},e.transientParams={},e.paramDefs.filter((function(e){return"soundfont"!==e.id})).forEach((function(t){return e.setParameter(t.id,t.defaultValue)})),e}return t=o,(r=[{key:"handleFileSystemReady",value:function(){var e=this.paramDefs.find((function(e){return"soundfont"===e.id}));this.setParameter(e.id,e.defaultValue),this.updateSoundfontParamDefs()}},{key:"processAudioInner",value:function(e){if(2===this.params.synthengine)this.midiFilePlayer.processPlay();else if(this.midiFilePlayer.processPlaySynth(this.buffer,this.bufferSize))for(var t=0;t<e.length;t++)for(var r=0;r<this.bufferSize;r++)e[t][r]=Gp.getValue(this.buffer+4*r*2+4*t,"float");else this.stop()}},{key:"metadataFromFilepath",value:function(e){var t=(e=decodeURIComponent(e)).split("/"),r=t.length,n={};return t.length>=3?n.formatted={title:"".concat(t[1]," - ").concat(t[r-1]),subtitle:t[0]}:2===t.length?n.formatted={title:t[1],subtitle:t[0]}:n.formatted={title:t[0],subtitle:"MIDI"},n}},{key:"ensureWebMidiInitialized",value:function(){var e=this;!0!==this.webMidiIsInitialized&&(this.webMidiIsInitialized=!0,console.debug("Requesting MIDI output devices."),"function"==typeof navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then((function(t){0===t.outputs.length?console.warn("No MIDI output devices found."):(Rp(t.outputs.values()).forEach((function(t){console.debug("MIDI Output:",t),Xp.push(t),e.paramDefs.find((function(e){return"mididevice"===e.id})).options[0].items.push({label:t.name,value:Xp.length-1})})),e.setParameter("mididevice",1))})):console.warn("Web MIDI API not supported. Try Chrome if you want to use external MIDI output devices."))}},{key:"loadData",value:(s=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){xp(a,n,s,o,i,"next",e)}function i(e){xp(a,n,s,o,i,"throw",e)}o(void 0)}))}}(Tp().mark((function e(t,r){var n,s,a,o,i,l,u,c,d,f,m=this;return Tp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureWebMidiInitialized(),this.filepathMeta=this.metadataFromFilepath(r),n={},this.getParameter("autoengine")&&(n.synthengine=this.getSynthengineBasedOnFilename(r),n.opl3bank=this.getOpl3bankBasedOnFilename(r)),0!==this.getParameter("synthengine")){e.next=22;break}return s=fm(r),a=!1,e.next=9,Bf.fetchCached(s);case 9:if(o=e.sent,!(i=o.soundfont)){e.next=21;break}if(l=Xa.a.basename(dm(i)),u="user/".concat(l),n.soundfont=u,this.getParameter("soundfont")===u){e.next=19;break}return e.next=18,mm(Gp,"".concat(qf.SOUNDFONT_MOUNTPOINT,"/").concat(u),i);case 18:this.updateSoundfontParamDefs();case 19:["Centre Court Tennis","Goemon","Bomberman","GoldenEye","Perfect Dark","Banjo Kazooie","Diddy Kong","Zelda"].some((function(e){return i.includes(e)}))&&(console.debug("MIDI channel 10 melodic mode enabled for %s.",l),a=!0);case 21:Gp._tp_set_ch10_melodic(a);case 22:for(Object.keys(this.params).forEach((function(e){n[e]!==m.transientParams[e]&&m.setTransientParameter(e,n[e])})),c=new fp.a(t),d=r.includes("SoundFont MIDI"),this.midiFilePlayer.load(c,d),this.midiFilePlayer.play((function(){return m.emit("playerStateUpdate",{isStopped:!0})})),this.activeChannels=[],f=0;f<16;f++)this.midiFilePlayer.getChannelInUse(f)&&this.activeChannels.push(f);this.resume(),this.emit("playerStateUpdate",kp(kp({},this.getBasePlayerState()),{},{isStopped:!1}));case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getSynthengineBasedOnFilename",value:function(e){return e.toLowerCase().replace("_"," ").match(/(\bfm|fm\b)/i)?1:null}},{key:"getOpl3bankBasedOnFilename",value:function(e){var t=e.toLowerCase().replace("_"," "),r=this.paramDefs.find((function(e){return"opl3bank"===e.id}));if(r){var n=r.options[0].items,s=function(e){return n.findIndex((function(t){return t.label.indexOf(e)>-1}))},a=r.defaultValue;if(t.indexOf("[rick]")>-1?a=s("Descent:: Rick"):t.indexOf("[ham]")>-1?a=s("Descent:: Ham"):t.indexOf("[int]")>-1?a=s("Descent:: Int"):t.indexOf("descent 2")>-1?a=s("Descent 2"):t.indexOf("magic carpet")>-1?a=s("Magic Carpet"):t.indexOf("duke nukem")>-1?a=s("Duke Nukem"):t.indexOf("wacky wheels")>-1?a=s("Apogee IMF"):t.indexOf("warcraft 2")>-1?a=s("Warcraft 2"):t.indexOf("warcraft")>-1?a=s("Warcraft"):t.indexOf("system shock")>-1?a=s("System Shock"):t.indexOf("/hexen")>-1||t.indexOf("/heretic")>-1?a=s("Hexen"):t.indexOf("/raptor")>-1?a=s("Raptor"):t.indexOf("/doom 2")>-1?a=s("Doom 2"):t.indexOf("/doom")>-1&&(a=s("DOOM")),a>-1)return a}return null}},{key:"isPlaying",value:function(){return!this.midiFilePlayer.paused}},{key:"suspend",value:function(){jp(zp(o.prototype),"suspend",this).call(this),this.midiFilePlayer.stop()}},{key:"stop",value:function(){this.suspend(),console.debug("MIDIPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}},{key:"togglePause",value:function(){return this.midiFilePlayer.togglePause()}},{key:"getDurationMs",value:function(){return this.midiFilePlayer.getDuration()}},{key:"getPositionMs",value:function(){return this.midiFilePlayer.getPosition()}},{key:"seekMs",value:function(e){return this.midiFilePlayer.setPosition(e)}},{key:"getTempo",value:function(){return this.midiFilePlayer.getSpeed()}},{key:"setTempo",value:function(e){this.midiFilePlayer.setSpeed(e)}},{key:"getNumVoices",value:function(){return this.activeChannels.length}},{key:"getVoiceName",value:function(e){var t=this.activeChannels[e],r=this.midiFilePlayer.channelProgramNums[t];return 9===t?gp[r]||gp[0]:hp[r]}},{key:"getVoiceMask",value:function(){var e=this;return this.activeChannels.map((function(t){return e.midiFilePlayer.channelMask[t]}))}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,r){var n=t.activeChannels[r];t.midiFilePlayer.setChannelMute(n,!e)}))}},{key:"getMetadata",value:function(){return kp(kp({},this.filepathMeta),{},{infoTexts:[this.midiFilePlayer.textInfo.join("\n")].filter((function(e){return""!==e}))})}},{key:"getParameter",value:function(e){return"fluidpoly"===e?Gp._tp_get_polyphony():null!=this.transientParams[e]?this.transientParams[e]:this.params[e]}},{key:"updateSoundfontParamDefs",value:function(){this.paramDefs=this.paramDefs.map((function(e){if("soundfont"===e.id){var t=e.options[0],r="".concat(qf.SOUNDFONT_MOUNTPOINT,"/user/");Gp.FS.analyzePath(r).exists&&(t.items=Gp.FS.readdir(r).filter((function(e){return e.match(/\.sf2$/i)})).map((function(e){return{label:e,value:"user/".concat(e)}})))}return e}))}},{key:"setTransientParameter",value:function(e,t){null==t?this.setParameter(e,this.params[e]):this.setParameter(e,t,!0)}},{key:"setFluidChorus",value:function(e){var t=Gp._tp_get_fluid_synth();if(0===e)Gp._fluid_synth_set_chorus_on(t,!1);else{Gp._fluid_synth_set_chorus_on(t,!0);var r=Math.round(hm(e,0,4)),n=Math.round(hm(e,2,14));Gp._fluid_synth_set_chorus(t,3,r,.3,n,0)}}},{key:"setParameter",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case"synthengine":t=parseInt(t,10),this.midiFilePlayer.panic(),2===t?this.midiFilePlayer.setUseWebMIDI(!0):(this.midiFilePlayer.setUseWebMIDI(!1),Gp._tp_set_synth_engine(t));break;case"soundfont":var s="".concat(qf.SOUNDFONT_URL_PATH,"/").concat(t);mm(Gp,"".concat(qf.SOUNDFONT_MOUNTPOINT,"/").concat(t),s).then((function(e){return r._loadSoundfont(e)}));break;case"reverb":t=parseFloat(t),Gp._tp_set_reverb(t);break;case"chorus":t=parseFloat(t),this.setFluidChorus(t);break;case"fluidpoly":t=parseInt(t,10),Gp._tp_set_polyphony(t);break;case"opl3bank":t=parseInt(t,10),Gp._tp_set_bank(t);break;case"autoengine":t=!!t;break;case"mididevice":this.midiFilePlayer.setOutput(Xp[t]);break;case"gmreset":this.midiFilePlayer.reset();break;default:console.warn('MIDIPlayer has no parameter with id "%s".',e)}n?this.transientParams[e]=t:(delete this.transientParams[e],this.params[e]=t)}},{key:"_loadSoundfont",value:function(e){console.log("Loading soundfont %s...",e),this.muteAudioDuringCall(this.audioNode,(function(){-1!==Gp.ccall("tp_load_soundfont","number",["string"],[e])&&console.log("Loaded soundfont.")}))}}])&&Dp(t.prototype,r),n&&Dp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(Om);function Jp(e){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(r),!0).forEach((function(t){eh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eh(e,t,r){return(t=ih(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,o,i=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return i}}(e,t)||nh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rh(e){return function(e){if(Array.isArray(e))return sh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nh(e,t){if(e){if("string"==typeof e)return sh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sh(e,t):void 0}}function sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ih(n.key),n)}}function ih(e){var t=function(e,t){if("object"!==Jp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Jp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jp(t)?t:String(t)}function lh(e,t){return(lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function uh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fh(e);if(t){var s=fh(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return ch(this,r)}}function ch(e,t){if(t&&("object"===Jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dh(e)}function dh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fh(e){return(fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mh=["miniusf"],ph=Math.pow(2,16)-1,hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lh(e,t)}(a,e);var t,r,n,s=uh(a);function a(){var e;ah(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),Object(i.a)(dh(e)),e.core.FS.mkdirTree("/n64"),e.core.FS.mount(e.core.FS.filesystems.IDBFS,{},"/n64"),e.name="N64 Player",e.fileExtensions=mh,e.buffer=e.core._malloc(4*e.bufferSize),e}return t=a,(r=[{key:"loadData",value:function(e,t){var r,n=this;this.filepathMeta=Om.metadataFromFilepath(t);var s=String.fromCharCode.apply(null,e).match(/_lib=([^\n]+)/).slice(1);if(0===s.length)throw new Error("No .usflib references found");var a=Xa.a.dirname(t),o=Xa.a.join("/n64",t),i=[pm(this.core,o,e)].concat(rh(s.map((function(e){var t=Xa.a.join("/n64",a,e),r=qf.CATALOG_PREFIX+Xa.a.join(a,e);return mm(n.core,t,r)}))));return Promise.all(i).then((function(e){var s=th(e,1)[0];n.muteAudioDuringCall(n.audioNode,(function(){if(0!==(r=n.core.ccall("n64_load_file","number",["string","number","number","number"],[s,n.buffer,n.bufferSize,n.sampleRate])))throw console.error("n64_load_file failed. error code: %d",r),Error("n64_load_file failed");n.metadata={title:t},n.resume(),n.emit("playerStateUpdate",Zp(Zp({},n.getBasePlayerState()),{},{isStopped:!1}))}))}))}},{key:"processAudioInner",value:function(e){var t,r;if(this.paused)for(r=0;r<e.length;r++)e[r].fill(0);else for(this.core._n64_render_audio(this.buffer,this.bufferSize)<=0&&this.stop(),r=0;r<e.length;r++)for(t=0;t<this.bufferSize;t++)e[r][t]=this.core.getValue(this.buffer+2*t*2+2*r,"i16")/ph}},{key:"getPositionMs",value:function(){return this.core._n64_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._n64_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._n64_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._n64_shutdown(),console.debug("N64Player.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&oh(t.prototype,r),n&&oh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Om);function gh(e){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(r),!0).forEach((function(t){yh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yh(e,t,r){return(t=Ih(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ih(n.key),n)}}function Ih(e){var t=function(e,t){if("object"!==gh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==gh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gh(t)?t:String(t)}function Ph(e,t){return(Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vh(e);if(t){var s=Vh(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Sh(this,r)}}function Sh(e,t){if(t&&("object"===gh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eh(e)}function Eh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vh(e){return(Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wh=["v2m"],Th=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ph(e,t)}(a,e);var t,r,n,s=Nh(a);function a(){var e;Mh(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),Object(i.a)(Eh(e)),e.name="Farbrausch V2M Player",e.speed=1,e.fileExtensions=wh,e.buffer=e.core._malloc(8*e.bufferSize),e}return t=a,(r=[{key:"loadData",value:function(e,t){var r=this.core.ccall("v2m_open","number",["array","number","number"],[e,e.byteLength,this.sampleRate]);if(0!==r)throw console.error("v2m_open failed. error code: %d",r),Error("Unable to load this file!");this.metadata={title:t},this.resume(),this.emit("playerStateUpdate",vh(vh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,r;if(this.paused)for(r=0;r<e.length;r++)e[r].fill(0);else for(0===this.core._v2m_write_audio(this.buffer,this.bufferSize)&&this.stop(),r=0;r<e.length;r++)for(t=0;t<this.bufferSize;t++)e[r][t]=this.core.getValue(this.buffer+4*t*2+4*r,"float")}},{key:"getTempo",value:function(){return this.speed}},{key:"setTempo",value:function(e){return this.speed=e,this.core._v2m_set_speed(e)}},{key:"getPositionMs",value:function(){return this.core._v2m_get_position_ms()}},{key:"getDurationMs",value:function(){return this.core._v2m_get_duration_ms()}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.core._v2m_seek_ms(e)}},{key:"stop",value:function(){this.suspend(),this.core._v2m_close(),console.debug("V2MPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&_h(t.prototype,r),n&&_h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Om);function Oh(e){return(Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(r),!0).forEach((function(t){Rh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rh(e,t,r){return(t=Dh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ch(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dh(n.key),n)}}function Dh(e){var t=function(e,t){if("object"!==Oh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Oh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Oh(t)?t:String(t)}function jh(e,t){return(jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Uh(e);if(t){var s=Uh(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Bh(this,r)}}function Bh(e,t){if(t&&("object"===Oh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lh(e)}function Lh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uh(e){return(Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qh=Math.pow(2,16)-1,zh=["it","mod","s3m","xm"],Hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jh(e,t)}(a,e);var t,r,n,s=Fh(a);function a(){var e;Ah(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),Object(i.a)(Lh(e)),e.name="XMP Player",e.xmpCtx=e.core._xmp_create_context(),e.infoPtr=e.core._malloc(2048),e.fileExtensions=zh,e.initialBPM=125,e.tempoScale=1,e._positionMs=0,e._durationMs=1e3,e.buffer=e.core._malloc(16*e.bufferSize),e}return t=a,(r=[{key:"processAudioInner",value:function(e){var t,r,n,s=this.infoPtr;if(this.paused)for(r=0;r<e.length;r++)e[r].fill(0);else{if(-1===(n=this.core._xmp_play_buffer(this.xmpCtx,this.buffer,4*this.bufferSize,1)))this.stop();else if(0!==n)throw this.suspend(),console.error("xmp_play_buffer failed. error code: %d",n),Error("xmp_play_buffer failed");this.core._xmp_get_frame_info(this.xmpCtx,s);var a=this.core.getValue(s+24,"i32");for(this._positionMs=this.core.getValue(s+28,"i32"),this._maybeInjectTempo(a),r=0;r<e.length;r++)for(t=0;t<this.bufferSize;t++)e[r][t]=this.core.getValue(this.buffer+2*t*2+2*r,"i16")/qh}}},{key:"_parseMetadata",value:function(){var e={},t=this.core,r=this.infoPtr;t._xmp_get_module_info(this.xmpCtx,r);var n=t.getValue(r+20,"*");return e.title=t.UTF8ToString(n,256),e.system=t.UTF8ToString(n+64,256),e.comment=t.UTF8ToString(t.getValue(r+24,"*"),512),t._xmp_get_frame_info(this.xmpCtx,r),this._durationMs=t.getValue(r+32,"i32"),e.patterns=t.getValue(n+128+0,"i32"),e.tracks=t.getValue(n+128+4,"i32"),e.numChannels=t.getValue(n+128+8,"i32"),e.numInstruments=t.getValue(n+128+12,"i32"),e.numSamples=t.getValue(n+128+16,"i32"),e.initialSpeed=t.getValue(n+128+20,"i32"),e.initialBPM=t.getValue(n+128+24,"i32"),e.moduleLength=t.getValue(n+128+28,"i32"),e.restartPosition=t.getValue(n+128+32,"i32"),e.title||(e.title=this.filepathMeta.title),this.initialBPM=e.initialBPM,e}},{key:"loadData",value:function(e,t){var r;if(this.filepathMeta=Om.metadataFromFilepath(t),0!==(r=this.core.ccall("xmp_load_module_from_memory","number",["number","array","number"],[this.xmpCtx,e,e.length])))throw console.error("xmp_load_module_from_memory failed. error code: %d",r),Error("xmp_load_module_from_memory failed");if(0!==(r=this.core._xmp_start_player(this.xmpCtx,this.sampleRate,0)))throw console.error("xmp_start_player failed. error code: %d",r),Error("xmp_start_player failed");this.metadata=this._parseMetadata(t),this.resume(),this.emit("playerStateUpdate",xh(xh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"getVoiceMask",value:function(){for(var e=[],t=0;t<this.metadata.numChannels;t++)e.push(!this.core._xmp_channel_mute(this.xmpCtx,t,-1));return e}},{key:"setVoiceMask",value:function(e){var t=this;e.forEach((function(e,r){t.core._xmp_channel_mute(t.xmpCtx,r,e?0:1)}))}},{key:"getTempo",value:function(){return this.tempoScale}},{key:"setTempo",value:function(e){!this.metadata||this.metadata.initialSpeed?this.tempoScale=e:console.log("Unable to set speed for %s.",this.filepathMeta.title)}},{key:"_maybeInjectTempo",value:function(e){var t=this.core,r=Math.floor(Math.max(Math.min(this.metadata.initialBPM*this.tempoScale,255),20));if(r!==e){console.log("Injecting %d BPM into libxmp. (Initial: %d)",r,this.metadata.initialBPM);for(var n=t._malloc(8),s=0;s<8;s++)t.setValue(n+s,0,"i8");t.setValue(n+3,135,"i8"),t.setValue(n+4,r,"i32"),t._xmp_inject_event(this.xmpCtx,0,n)}}},{key:"getVoiceName",value:function(e){return"Ch ".concat(e+1)}},{key:"getNumVoices",value:function(){return this.metadata.numChannels}},{key:"getNumSubtunes",value:function(){return 0}},{key:"getPositionMs",value:function(){return this._positionMs}},{key:"getDurationMs",value:function(){return this._durationMs}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){var e=this.core._xmp_get_player(this.xmpCtx,8);return!this.isPaused()&&2===e}},{key:"seekMs",value:function(e){this.core._xmp_seek_time(this.xmpCtx,e)}},{key:"stop",value:function(){this.suspend(),this.core._xmp_stop_module(this.xmpCtx),console.debug("XMPPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Ch(t.prototype,r),n&&Ch(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Om),Wh=r(41);function Gh(e){return(Gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(r),!0).forEach((function(t){Kh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kh(e,t,r){return(t=Qh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qh(n.key),n)}}function Qh(e){var t=function(e,t){if("object"!==Gh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Gh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gh(t)?t:String(t)}function Zh(e,t){return(Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ng(e);if(t){var s=ng(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return tg(this,r)}}function tg(e,t){if(t&&("object"===Gh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rg(e)}function rg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ng(e){return(ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sg=["vgm","vgz","gym","s98","dro"],ag=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zh(e,t)}(a,e);var t,r,n,s=eg(a);function a(){var e;Yh(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=s.call.apply(s,[this].concat(r)),Object(i.a)(rg(e)),e.name="LibVGM Player",e.speed=1,e.fileExtensions=sg,e.buffer=e.core._malloc(4*e.bufferSize*2),e.vgmCtx=e.core._lvgm_init(e.sampleRate),console.log("VPDBG: VGMPlayer start"),e}return t=a,(r=[{key:"loadData",value:function(e,t){var r=this.core.ccall("lvgm_load_data","number",["number","array","number"],[this.vgmCtx,e,e.byteLength]);if(0!==r)throw console.error("lvgm_load_data failed. error code: %d",r),Error("Unable to load this file!");this.core._lvgm_start(this.vgmCtx);var n=this.core._lvgm_get_metadata(this.vgmCtx),s={title:this.core.UTF8ToString(this.core.getValue(n+0,"i32")),artist:this.core.UTF8ToString(this.core.getValue(n+4,"i32")),game:this.core.UTF8ToString(this.core.getValue(n+8,"i32")),system:this.core.UTF8ToString(this.core.getValue(n+12,"i32")),date:this.core.UTF8ToString(this.core.getValue(n+16,"i32")),comment:this.core.UTF8ToString(this.core.getValue(n+20,"i32"))};s.formatted={title:s.game===s.title?s.title:cm(s.game," - ")+s.title,subtitle:[s.artist,s.system].filter((function(e){return e})).join(" - ")+cm(" (",s.date,")")},this.metadata=s,this.resume(),this.emit("playerStateUpdate",Xh(Xh({},this.getBasePlayerState()),{},{isStopped:!1}))}},{key:"processAudioInner",value:function(e){var t,r;if(this.paused)for(r=0;r<e.length;r++)e[r].fill(0);else for(0===this.core._lvgm_render(this.vgmCtx,this.buffer,this.bufferSize)&&this.stop(),r=0;r<e.length;r++)for(t=0;t<this.bufferSize;t++)e[r][t]=this.core.getValue(this.buffer+4*t*2+4*r,"i32")/134217728}},{key:"getTempo",value:function(){if(this.vgmCtx)return this.core._lvgm_get_playback_speed(this.vgmCtx)}},{key:"setTempo",value:function(e){if(this.vgmCtx)return this.core._lvgm_set_playback_speed(this.vgmCtx,e)}},{key:"getPositionMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_position_ms(this.vgmCtx)}},{key:"getDurationMs",value:function(){if(this.vgmCtx)return this.core._lvgm_get_duration_ms(this.vgmCtx)}},{key:"getNumVoices",value:function(){if(this.vgmCtx)return this.core._lvgm_get_voice_count(this.vgmCtx)}},{key:"getMetadata",value:function(){return this.metadata}},{key:"isPlaying",value:function(){return!this.isPaused()}},{key:"seekMs",value:function(e){this.vgmCtx&&this.core._lvgm_seek_ms(this.vgmCtx,e)}},{key:"getVoiceName",value:function(e){if(this.vgmCtx)return this.core.UTF8ToString(this.core._lvgm_get_voice_name(this.vgmCtx,e))}},{key:"getVoiceMask",value:function(){if(this.vgmCtx){for(var e=this.core._lvgm_get_voice_mask(this.vgmCtx),t=[],r=0n;r<64n;r++)t.push(0n===(e&1n<<r));return t}return[]}},{key:"setVoiceMask",value:function(e){var t=this;if(this.vgmCtx){setInterval((function(){console.log("_lvgm_get_chip_state: ",t.core.UTF8ToString(t.core._lvgm_get_chip_state(t.vgmCtx)))}),1e3);var r=0n;e.forEach((function(e,t){e||(r+=1n<<BigInt(t))})),this.core._lvgm_set_voice_mask(this.vgmCtx,r)}}},{key:"stop",value:function(){this.suspend(),this.vgmCtx&&this.core._lvgm_stop(this.vgmCtx),console.debug("VGMPlayer.stop()"),this.emit("playerStateUpdate",{isStopped:!0})}}])&&Jh(t.prototype,r),n&&Jh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Om);var og=function(e){var t=e.handlePlayerError,r=e.playerError,n=e.showPlayerError;return s.a.createElement("div",{hidden:!n,className:"error-box-outer"},s.a.createElement("div",{className:"error-box"},s.a.createElement("div",{className:"message"},"Error: ",r),s.a.createElement("button",{className:"box-button message-box-button",onClick:function(){return t(null)}},"Close")))},ig=r(65),lg=r.n(ig),ug=r(66),cg=r.n(ug);function dg(e){return(dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fg(e){return function(e){if(Array.isArray(e))return mg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==dg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==dg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===dg(a)?a:String(a)),n)}var s,a}function hg(e,t){return(hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yg(e);if(t){var s=yg(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return bg(this,r)}}function bg(e,t){if(t&&("object"===dg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vg(e)}function vg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yg(e){return(yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hg(e,t)}(o,e);var t,r,n,a=gg(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(vg(t=a.call(this,e))),t}return t=o,(r=[{key:"handleVoiceToggle",value:function(e,t){var r=this.props.voiceMask;(e=e.nativeEvent||{}).altKey||e.shiftKey||e.metaKey?r.every((function(e,r){return r===t===e}))?r.fill(!0):(r.fill(!1),r[t]=!0):r[t]=!r[t],this.props.handleSetVoiceMask(r)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"PlayerParams"},this.props.numVoices>1&&s.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},s.a.createElement("label",{className:"PlayerParams-label"},"Voices (alt+click to solo):"," "),s.a.createElement("div",{className:"PlayerParams-voiceList"},fg(Array(this.props.numVoices)).map((function(t,r){return s.a.createElement("label",{className:"App-voice-label inline",key:r},s.a.createElement("input",{title:"Alt+click to solo. Alt+click again to unmute all.",type:"checkbox",onChange:function(t){return e.handleVoiceToggle(t,r)},checked:e.props.voiceMask[r]}),e.props.voiceNames[r])})))),s.a.createElement("span",{className:"PlayerParams-param PlayerParams-group"},s.a.createElement("label",{htmlFor:"tempo",className:"PlayerParams-label"},"Speed:"," "),s.a.createElement("input",{id:"tempo",disabled:this.props.ejected,type:"range",value:this.props.tempo,min:"0.3",max:"2.0",step:"0.05",onInput:this.props.handleTempoChange,onChange:this.props.handleTempoChange})," ",this.props.tempo.toFixed(2)),this.props.paramDefs.map((function(t){var r=e.props.getParameter(t.id),n=t.dependsOn;if(n&&e.props.getParameter(n.param)!==n.value)return null;switch(t.type){case"enum":return s.a.createElement("span",{key:t.id,className:"PlayerParams-param"},s.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),s.a.createElement("select",{id:t.id,onChange:function(r){e.props.setParameter(t.id,r.target.value),e.forceUpdate()},value:r},t.options.map((function(e){return s.a.createElement("optgroup",{key:e.label,label:e.label},e.items.map((function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.label)})))}))));case"number":return s.a.createElement("span",{key:t.id,className:"PlayerParams-param"},s.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label"},t.label,":"," "),s.a.createElement("input",{id:t.id,type:"range",title:t.hint,min:t.min,max:t.max,step:t.step,onChange:function(r){e.props.setParameter(t.id,r.target.value),e.forceUpdate()},value:r})," ",void 0!==r&&t.step>=1?r:r.toFixed(2));case"toggle":return s.a.createElement("span",{key:t.id,className:"PlayerParams-param"},s.a.createElement("input",{type:"checkbox",id:t.id,onChange:function(r){e.props.setParameter(t.id,r.target.checked),e.forceUpdate()},checked:r}),s.a.createElement("label",{htmlFor:t.id,title:t.hint,className:"PlayerParams-label inline"},t.label));case"button":return s.a.createElement("button",{key:t.id,title:t.hint,className:"box-button",onClick:function(){e.props.setParameter(t.id,!0)}},t.label);default:return null}})))}}])&&pg(t.prototype,r),n&&pg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(n.PureComponent);function _g(e){return(_g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ig(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==_g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===_g(a)?a:String(a)),n)}var s,a}function Pg(e,t){return(Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ng(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Vg(e);if(t){var s=Vg(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Sg(this,r)}}function Sg(e,t){if(t&&("object"===_g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eg(e)}function Eg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vg(e){return(Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}(o,e);var t,r,n,a=Ng(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(Eg(t=a.call(this,e))),t.node=s.a.createRef(),t.state={dragging:!1,draggedPos:null},t}return t=o,(r=[{key:"onMouseMove",value:function(e){if(this.state.dragging){var t=this.node.current,r=Math.max(Math.min((e.clientX-t.offsetLeft)/t.offsetWidth,1),0);this.setState({draggedPos:r}),this.props.onDrag(r)}}},{key:"onMouseDown",value:function(e){var t=this;e.preventDefault(),e.persist(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.setState({dragging:!0},(function(){return t.onMouseMove(e)}))}},{key:"onMouseUp",value:function(e){var t=this;document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),setTimeout((function(){t.setState({dragging:!1})}),150),this.props.onChange(this.state.draggedPos)}},{key:"render",value:function(){var e=100*Math.max(Math.min(this.state.dragging?this.state.draggedPos:this.props.pos,1),0)+"%";return s.a.createElement("div",{ref:this.node,className:"Slider",onMouseDown:this.onMouseDown},s.a.createElement("div",{className:"Slider-rail"}),s.a.createElement("div",{className:"Slider-knob",style:{left:e}}))}}])&&Ig(t.prototype,r),n&&Ig(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(n.PureComponent);function Tg(e){return(Tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Og(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==Tg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Tg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===Tg(a)?a:String(a)),n)}var s,a}function kg(e,t){return(kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Cg(e);if(t){var s=Cg(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Rg(this,r)}}function Rg(e,t){if(t&&("object"===Tg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ag(e)}function Ag(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cg(e){return(Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}(o,e);var t,r,n,a=xg(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(Ag(t=a.call(this,e))),t.state={draggedSongPositionMs:-1,currentSongPositionMs:0},t.timer=null,t}return t=o,(r=[{key:"componentDidUpdate",value:function(e){var t=this;!0===e.paused&&!1===this.props.paused?this.timer=setInterval((function(){var e=t.props,r=e.getCurrentPositionMs,n=e.currentSongDurationMs;t.setState({currentSongPositionMs:Math.min(r(),n)})}),100):!1===e.paused&&!0===this.props.paused&&clearInterval(this.timer)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"getSongPos",value:function(){return this.state.currentSongPositionMs/this.props.currentSongDurationMs}},{key:"getTimeLabel",value:function(){var e=this.state.draggedSongPositionMs>=0?this.state.draggedSongPositionMs:this.state.currentSongPositionMs;return this.getTime(e)}},{key:"getTime",value:function(e){var t=e<0?"-":"";e=Math.abs(e);var r,n=Math.floor(e/6e4),s=(Math.floor(e%6e4/100)/10).toFixed(1);return"".concat(t).concat(n,":").concat((r=s)<10?"0"+r:r)}},{key:"handlePositionDrag",value:function(e){var t=e.target?e.target.value:e;this.setState({draggedSongPositionMs:t*this.props.currentSongDurationMs})}},{key:"handlePositionDrop",value:function(e){this.setState({draggedSongPositionMs:-1,currentSongPositionMs:this.state.draggedSongPositionMs}),this.props.onChange(e)}},{key:"render",value:function(){return s.a.createElement("div",{className:"TimeSlider"},s.a.createElement(wg,{pos:this.getSongPos(),onDrag:this.handlePositionDrag,onChange:this.handlePositionDrop}),s.a.createElement("div",{className:"TimeSlider-labels"},s.a.createElement("div",null,this.getTimeLabel()),s.a.createElement("div",null,this.getTime(this.props.currentSongDurationMs))))}}])&&Og(t.prototype,r),n&&Og(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.a.Component),jg=Object(n.memo)(Fg);function Fg(e){return s.a.createElement("div",{className:"VolumeSlider"},s.a.createElement("input",{type:"range",title:"Volume",min:0,max:150,step:1,onChange:e.onChange,onDoubleClick:e.handleReset,onContextMenu:e.handleReset,value:e.value}),s.a.createElement("div",{className:"VolumeSlider-labels"},s.a.createElement("div",null,"Volume"),s.a.createElement("div",null,e.value,"%")))}var Bg=Object(n.memo)(Lg);function Lg(e){var t=e.currentSongDurationMs,r=e.currentSongNumSubtunes,n=e.currentSongNumVoices,a=e.currentSongSubtune,o=e.ejected,i=e.imageUrl,l=(e.infoTexts,e.paused),u=e.showPlayerSettings,c=e.songUrl,d=e.subtitle,f=e.tempo,m=e.title,p=e.voiceNames,h=e.voiceMask,g=e.volume,b=e.handleSetVoiceMask,v=e.handleTempoChange,y=e.handleTimeSliderChange,M=e.handleVolumeChange,_=e.nextSubtune,I=e.prevSubtune,P=e.sequencer,N=(e.toggleInfo,e.togglePause),S=Object(vo.h)().pathname.includes("/book/");return s.a.createElement("div",{className:"AppFooter",style:{height:u?100:0}},s.a.createElement("div",{className:"AppFooter-main"},s.a.createElement("div",{className:"AppFooter-main-inner"},s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement("span",{style:{whiteSpace:"nowrap"}},s.a.createElement("button",{onClick:N,title:l?"Resume":"Pause",className:"box-button",disabled:o},l?" ► ":" ⏸ ")," ","Tune ",a+1," of ",r," ",s.a.createElement("button",{className:"box-button",disabled:o||S,onClick:I},"<")," ",s.a.createElement("button",{className:"box-button",disabled:o||S,onClick:_},">")),s.a.createElement(Dg,{paused:l,currentSongDurationMs:t,getCurrentPositionMs:function(){return P&&P.getPlayer()?P.getPlayer().getPositionMs():0},onChange:y}),s.a.createElement(jg,{onChange:function(e){M(e.target.value)},handleReset:function(e){M(100),e.preventDefault(),e.stopPropagation()},title:"Double-click or right-click to reset to 100%.",value:g})),!o&&s.a.createElement("div",{className:"SongDetails"},s.a.createElement("div",{className:"SongDetails-title"},m," ",s.a.createElement("img",{alt:"Copy link",src:cg.a,style:{verticalAlign:"bottom"}})," ",s.a.createElement("a",{style:{color:"var(--neutral4)"},href:c},s.a.createElement("img",{alt:"Download",src:lg.a,style:{verticalAlign:"bottom"}}))," ",s.a.createElement("span",{style:{marginLeft:"20px"}},d))))),u&&s.a.createElement("div",{className:"AppFooter-settings"},P.getPlayer()?s.a.createElement(Mg,{ejected:o,tempo:f,numVoices:n,voiceMask:h,voiceNames:p,handleTempoChange:v,handleSetVoiceMask:b,getParameter:P.getPlayer().getParameter,setParameter:P.getPlayer().setParameter,paramDefs:P.getPlayer().getParamDefs()}):s.a.createElement("div",null,"(No active player)")),i&&s.a.createElement("img",{alt:"Cover art",className:"AppFooter-art",src:i}))}function Ug(e){return(Ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==Ug(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ug(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===Ug(a)?a:String(a)),n)}var s,a}function Hg(e,t){return(Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$g(e);if(t){var s=$g(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Gg(this,r)}}function Gg(e,t){if(t&&("object"===Ug(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $g(e){return($g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hg(e,t)}(o,e);var t,r,n,a=Wg(o);function o(){return qg(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"render",value:function(){return s.a.createElement("header",{className:"AppHeader"},s.a.createElement(Oo,{className:"AppHeader-title",to:{pathname:"/"}},"Rawl")," • ",s.a.createElement(Oo,{className:"AppHeader-title",to:{pathname:"/browse/MIDI"}},"MIDI")," • ","Built on top of"," ",s.a.createElement("a",{href:"https://chiptune.app/",target:"_blank",rel:"noopener noreferrer"},"Chip Player JS"),this.props.user?s.a.createElement(s.a.Fragment,null," • ","Logged in as ",this.props.user.displayName,"."," ",s.a.createElement("a",{href:"#",onClick:this.props.handleLogout},"Logout")):s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:"#",onClick:this.props.handleLogin},".")," "))}}])&&zg(t.prototype,r),n&&zg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.a.PureComponent),Kg=r(42),Yg=r.n(Kg);const Jg=Id.a.span`
  border-radius: 0px;
  background-color: ${e=>e.backgroundColor||"#ccc"};
  color: ${e=>e.color||"black"};
  font-size: 20px;
  padding: 2px 5px;
  max-width: 400px;
`;var Qg=({analysis:e,index:t})=>{var r;const s=Object.entries(e.modulations||{}),a=[];return a.push(n.createElement(Jg,null,t)),e.comment&&a.push(n.createElement(Jg,{key:"comment",backgroundColor:"#cc4"},e.comment)),4!==(null!==(r=e.beatsPerMeasure)&&void 0!==r?r:4)&&a.push(n.createElement(Jg,{key:"beats",backgroundColor:"#99f"},e.beatsPerMeasure+"/4")),sf(e).map(e=>a.push(n.createElement(Jg,{key:"tag_"+e,backgroundColor:uf(e),color:"white"},e.split(":").join(": ").replace(/_/g," ")))),e.romanNumerals&&a.push(n.createElement(si,{key:"formAndHarmony",analysis:e})),e.basedOn&&a.push(n.createElement(Jg,{key:"basedOn",backgroundColor:"#cfc"},e.basedOn)),s.length>0&&a.push(n.createElement(Jg,{key:"modulations",backgroundColor:"#fcc"},"mod: "+s.map(([t,r])=>((e,t)=>{const r=(e-t+12)%12;return r>6?`-${12-r}st`:`+${r}st`})(r,e.tonic)).join(", "))),0===a.length&&a.push(n.createElement(Jg,{key:"index",backgroundColor:"white"},t)),n.createElement("div",{style:{display:"inline-block",backgroundColor:"transparent",margin:"5px 20px 20px 0px",padding:"0px",fontFamily:"Helvetica, sans-serif",fontSize:"12pt",color:"white",cursor:"pointer"}},n.createElement("div",{style:{display:"flex",flexDirection:"column"}},a))},Zg=["items"];function eb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,o,i=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rb(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var nb=Object(n.memo)(sb);function sb(e){var t,r=e.items,s=rb(e,Zg),a=s.currContext,o=s.currIdx,i=s.handleSongClick,l=s.browsePath,u=s.playContext,c=s.analyses,d=s.searchPath,f=s.bookPath,m=s.isSearch,p=Object(vo.h)();Object(n.useEffect)((function(){var e,t=r.find((function(e){return"directory"!==e.type}));if(t&&null!=t&&null!==(e=t.path)&&void 0!==e&&e.startsWith("/Nintendo/")){console.log("firstSongItem",t);var n=".."===t.path?l.substr(0,l.lastIndexOf("/")):t.path.replace("%","%25").replace("#","%23").replace(/^\//,""),s=new URLSearchParams(p.search).get("subtune")||(f?Of(f).subtune:1);s=parseInt(s,10)-1;var a=qf.CATALOG_PREFIX+n;i(a,u,t.idx,s)({preventDefault:function(){}})}}),[r.length,p]);var h=Ya.a.parse(window.location.search.substring(1));delete h.q;var g=Ya.a.stringify(h),b=Object(vo.g)(),v=Yg()(null===(t=b.location.state)||void 0===t?void 0:t.prevPathname,"/"),y=Yg()(window.location.pathname,"/"),M=v===y.substring(0,y.lastIndexOf("/"));return n.createElement("div",null,n.createElement("div",{style:d?{}:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start"}},r.map((function(e){var t,s,f=".."===e.path?l.substr(0,l.lastIndexOf("/")):e.path.replace("%","%25").replace("#","%23").replace("&","%26").replace(/^\//,""),p=e.path.split("/").pop(),h=a===u&&o===e.idx,v=".."===e.path&&M,y=eb(-1===(s=(t=f).lastIndexOf("/"))?[t,""]:[t.substring(0,s),t.substring(s+1)],2),_=y[0],I=y[1],P=c&&(c[f]&&Object.values(c[f])||c[_]&&c[_][I]);if(P&&P[0]&&(P=P[0]),"directory"===e.type)return n.createElement("div",{key:p,className:"BrowseList-row"+(r.length>4?" BrowseList-row-mainPage":"")},n.createElement("div",{className:"BrowseList-colName"},n.createElement(lm,{dim:!P,to:"/browse/"+f,search:g,isBackLink:v,history:b},p)),P&&n.createElement("div",null,Object.entries(P).map((function(e){var t=eb(e,2),r=t[0],s=t[1],a=parseInt(r,10)+1;return!d||hf(s,d)?n.createElement(lm,{key:a,dim:new Boolean(P),to:"/browse/"+f,search:"?subtune=".concat(a)},m&&n.createElement("div",{style:{marginBottom:"40px"}},n.createElement(Qg,{analysis:s,index:a}))):null}))));var N=qf.CATALOG_PREFIX+f;return n.createElement("div",{key:p,className:(h?"Song-now-playing BrowseList-row":"BrowseList-row")+" BrowseList-row-mainPage"},n.createElement("div",{className:"BrowseList-colName"},f.startsWith("Nintendo")?n.createElement("a",{onClick:function(t){return i(N,u,e.idx)(t)}},p):n.createElement("a",{onClick:function(t){var r=window.location.pathname.replace("/chiptheory/","/"),n=new URLSearchParams(window.location.search);n.set("song",p),b.push({pathname:r,search:n.toString()}),i(N,u,e.idx)(t)},style:{color:P?"#ff0":"#aaa"}},p)))}))))}function ab(e){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(){return(ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ib(e){return function(e){if(Array.isArray(e))return lb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ub(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==ab(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ab(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===ab(a)?a:String(a)),n)}var s,a}function cb(e,t){return(cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pb(e);if(t){var s=pb(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return fb(this,r)}}function fb(e,t){if(t&&("object"===ab(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mb(e)}function mb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pb(e){return(pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cb(e,t)}(o,e);var t,r,n,a=db(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),u(mb(t=a.call(this,e))),t}return t=o,(r=[{key:"componentDidMount",value:function(){this.navigate()}},{key:"componentWillUnmount",value:function(){this.saveScrollPosition(this.props.locationKey)}},{key:"saveScrollPosition",value:function(e){var t=Math.round(this.props.scrollContainerRef.current.scrollTop);sessionStorage.setItem(e,t.toString())}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.browsePath!==this.props.browsePath&&this.saveScrollPosition(e.locationKey),null}},{key:"componentDidUpdate",value:function(e,t){if(this.navigate(),"POP"===this.props.historyAction){var r=this.props,n=r.browsePath,s=r.locationKey;if(sessionStorage.getItem(s)){var a=sessionStorage.getItem(s);this.props.scrollContainerRef.current.scrollTo(0,a),sessionStorage.removeItem(s),console.debug("%s (%s) scroll position restored to %s",n,s,a)}}else e.locationKey!==this.props.locationKey&&this.props.scrollContainerRef.current.scrollTo(0,0)}},{key:"handleShufflePlay",value:function(){this.props.handleShufflePlay(this.props.browsePath)}},{key:"navigate",value:function(){var e=this.props,t=e.browsePath,r=e.listing,n=e.fetchDirectory;r||n(t)}},{key:"render",value:function(){var e=this.props,t=e.listing,r=e.browsePath,n=e.searchPath,a=e.playContext,o=e.analyses,i="Nintendo"===r,l=((e,t,r)=>r&&t?e.filter(({path:e})=>".."===e||t[e.slice(1)]&&Object.values(t[e.slice(1)]).some(e=>Object.values(e).some(e=>hf(e,r)))):e)([{path:"..",type:"directory"}].concat(ib(t||[])),o,n),u=new URLSearchParams(window.location.search);return s.a.createElement(s.a.Fragment,null,i||n?s.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:"50px",height:"100%"}},s.a.createElement("div",{style:{overflowY:"auto",height:"100%"}},s.a.createElement(vf,{analyses:o,searchPath:n})),s.a.createElement("div",{style:{overflowY:"auto",height:"100%"}},!n&&s.a.createElement(kf,null),s.a.createElement(nb,ob({key:r},this.props,{playContext:a,items:l,isSearch:!!n})))):s.a.createElement("div",{style:{height:r.startsWith("Nintendo")||u.get("song")?"1px":"100%",overflow:"scroll",margin:0}},s.a.createElement(nb,ob({key:r},this.props,{playContext:a,items:l}))))}}])&&ub(t.prototype,r),n&&ub(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.a.PureComponent);function gb(e){return(gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(s=n.key,a=void 0,a=function(e,t){if("object"!==gb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==gb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===gb(a)?a:String(a)),n)}var s,a}function yb(e,t){return(yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ib(e);if(t){var s=Ib(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return _b(this,r)}}function _b(e,t){if(t&&("object"===gb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ib(e){return(Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pb=r(3).FORMATS.filter((function(e){return"miniusf"!==e})).map((function(e){return".".concat(e)})),Nb=Math.floor(Pb.length/2)-1,Sb="Formats: ".concat(Pb.slice(0,Nb).join(" ")),Eb=Pb.slice(Nb).join(" "),Vb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yb(e,t)}(o,e);var t,r,n,a=Mb(o);function o(){return bb(this,o),a.apply(this,arguments)}return t=o,(r=[{key:"render",value:function(){return s.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box-outer"},s.a.createElement("div",{hidden:!this.props.dropzoneProps.isDragActive,className:"message-box drop-message"},s.a.createElement("div",{className:"message-box-inner"},"Drop files to play!",s.a.createElement("br",null),Sb,s.a.createElement("br",null),Eb,s.a.createElement("br",null),s.a.createElement("br",null),"Drop a SoundFont (.sf2) to customize MIDI playback.")))}}])&&vb(t.prototype,r),n&&vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.a.PureComponent);function wb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,o,i=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,s=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ob=Object(n.memo)(kb);function kb(e){var t=e.infoTexts,r=void 0===t?[]:t,a=e.showInfo,o=e.toggleInfo,i=wb(Object(n.useState)(0),2),l=i[0],u=i[1],c=(r[l]||"").trim(),d=Math.min(40,c.split("\n").length+6);Object(n.useEffect)((function(){u(0)}),[r]);var f=Object(n.useCallback)((function(){u(Math.max(0,l-1))}),[l]),m=Object(n.useCallback)((function(){u(Math.min(r.length-1,l+1))}),[r,l]);return s.a.createElement("div",{hidden:!a,className:"message-box-outer"},s.a.createElement("div",{hidden:!a,className:"message-box",style:{height:a?"calc(".concat(d," * var(--charH))"):0}},s.a.createElement("div",{className:"message-box-inner"},s.a.createElement("pre",{style:{maxHeight:"100%",margin:0}},c)),s.a.createElement("div",{className:"message-box-footer"},s.a.createElement("button",{className:"box-button message-box-button",onClick:o},"Close"),r.length>1&&s.a.createElement("span",null,s.a.createElement("button",{disabled:0===l,className:"box-button message-box-button",onClick:f},"<")," ",s.a.createElement("button",{disabled:l===r.length-1,className:"box-button message-box-button",onClick:m},">")))))}var xb=Object(n.memo)(Rb);function Rb(e){var t,r=e.ejected,n=e.tempo,a=e.currentSongNumVoices,o=e.voiceMask,i=e.voiceNames,l=e.handleSetVoiceMask,u=e.handleTempoChange,c=e.sequencer;return s.a.createElement("div",{className:"Settings"},s.a.createElement("h3",null,(null==c||null===(t=c.getPlayer())||void 0===t?void 0:t.name)||"Player"," Settings"),null!=c&&c.getPlayer()?s.a.createElement(Mg,{ejected:r,tempo:n,numVoices:a,voiceMask:o,voiceNames:i,handleTempoChange:u,handleSetVoiceMask:l,getParameter:c.getPlayer().getParameter,setParameter:c.getPlayer().setParameter,paramDefs:c.getPlayer().getParamDefs()}):s.a.createElement("div",null,"(No active player)"))}var Ab=r(67),Cb=r(69),Db=r.n(Cb);function jb(e){return(jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wb(n.key),n)}}function Bb(e,t){return(Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zb(e);if(t){var s=zb(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Ub(this,r)}}function Ub(e,t){if(t&&("object"===jb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qb(e)}function qb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zb(e){return(zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hb(e,t,r){return(t=Wb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wb(e){var t=function(e,t){if("object"!==jb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==jb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jb(t)?t:String(t)}var Gb=["Linear FFT","Log FFT","Constant Q"],$b=[{label:"None",description:"No attenuation"},{label:"A-Weighting",description:"Darkens low and high frequencies to approximate sensitivity of human hearing."}],Xb=[512,1024,2048,4096,8192],Kb=["512","1K","2K","4K","8K","16K"],Yb=[1,2,4],Jb=["Lo","Med","Hi"],Qb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}(o,e);var t,r,n,a=Lb(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Hb(qb(t=a.call(this,e)),"handleModeClick",(function(e){var r=parseInt(e.target.value,10);t.setState({vizMode:r}),t.spectrogram.setMode(r)})),Hb(qb(t),"handleWeightingModeClick",(function(e){var r=parseInt(e.target.value,10);t.setState({weightingMode:r}),t.spectrogram.setWeighting(r)})),Hb(qb(t),"handleFFTSizeClick",(function(e){var r=parseInt(e.target.value,10);t.setState({fftSize:r}),t.spectrogram.setFFTSize(r)})),Hb(qb(t),"handleSpeedClick",(function(e){var r=parseInt(e.target.value,10);t.setState({speed:r}),t.spectrogram.setSpeed(r)})),Hb(qb(t),"handleToggleVisualizer",(function(e){t.setState({enabled:!t.state.enabled})})),t.state={vizMode:2,weightingMode:1,fftSize:2048,speed:2,enabled:!1},t.freqCanvasRef=s.a.createRef(),t.specCanvasRef=s.a.createRef(),t.pianoKeysRef=s.a.createRef(),t}return t=o,(r=[{key:"componentDidMount",value:function(){this.spectrogram=new Ab.a(this.props.chipCore,this.props.audioCtx,this.props.sourceNode,this.freqCanvasRef.current,this.specCanvasRef.current,this.pianoKeysRef.current),this.spectrogram.setMode(this.state.vizMode),this.spectrogram.setWeighting(this.state.weightingMode),this.spectrogram.setSpeed(this.state.speed)}},{key:"componentDidUpdate",value:function(e){this.spectrogram.setPaused(!this.state.enabled||this.props.paused)}},{key:"render",value:function(){var e=this,t={display:this.state.enabled?"block":"none",width:448,boxSizing:"border-box"};return s.a.createElement("div",{className:"Visualizer"},s.a.createElement("h3",{className:"Visualizer-toggle"},s.a.createElement("label",{className:"inline"},s.a.createElement("input",{onChange:this.props.handleToggleAnalysis,type:"checkbox",checked:this.props.analysisEnabled,name:"analysis-enabled"}),"Analysis"),s.a.createElement("label",{className:"inline",style:{marginLeft:"20px"}},s.a.createElement("input",{onChange:this.handleToggleVisualizer,type:"checkbox",checked:this.state.enabled,name:"visualizer-enabled"}),"Visualizer"),s.a.createElement("label",{className:"inline",style:{marginLeft:"20px"}},s.a.createElement("input",{onChange:this.props.handleToggleSettings,type:"checkbox",checked:this.props.settingsEnabled,name:"settings-enabled"}),"Settings")),s.a.createElement("div",{className:"Visualizer-options",style:t},s.a.createElement("div",null,"Mode:"," ",Gb.map((function(t,r){return s.a.createElement("label",{key:"m_"+r,className:"inline"},s.a.createElement("input",{onClick:e.handleModeClick,type:"radio",name:"spectrogram-mode",defaultChecked:e.state.vizMode===r,value:r}),t)}))),2===this.state.vizMode?s.a.createElement("div",null,"Weighting:"," ",$b.map((function(t,r){return s.a.createElement("label",{title:t.description,key:"w_"+r,className:"inline"},s.a.createElement("input",{onClick:e.handleWeightingModeClick,type:"radio",name:"weighting-mode",defaultChecked:e.state.weightingMode===r,value:r}),t.label)}))):s.a.createElement("div",null,"FFT Size:"," ",Xb.map((function(t,r){return s.a.createElement("label",{key:"f_"+r,className:"inline"},s.a.createElement("input",{onClick:e.handleFFTSizeClick,type:"radio",name:"fft-size",defaultChecked:e.state.fftSize===t,value:t}),Kb[r])}))),s.a.createElement("div",{title:"Vertical scrolling speed (pixels per frame)"},"Speed:"," ",Yb.map((function(t,r){return s.a.createElement("label",{key:"s_"+r,className:"inline"},s.a.createElement("input",{onClick:e.handleSpeedClick,type:"radio",name:"speed",defaultChecked:e.state.speed===t,value:t}),Jb[r])})))),s.a.createElement("canvas",{style:t,className:"Visualizer-analyzer",width:448,height:60,ref:this.freqCanvasRef}),s.a.createElement("canvas",{style:t,className:"Visualizer-spectrogram",width:448,height:800,ref:this.specCanvasRef}),s.a.createElement("img",{src:Db.a,className:"Visualizer-overlay",ref:this.pianoKeysRef,alt:"Piano keys",style:{display:this.state.enabled&&2===this.state.vizMode?"block":"none",width:448}}))}}])&&Fb(t.prototype,r),n&&Fb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(n.PureComponent);function Zb(e){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e){return function(e){if(Array.isArray(e))return nv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=rv(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function rv(e,t){if(e){if("string"==typeof e)return nv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nv(e,t):void 0}}function nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sv(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sv=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",i=s.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,s){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new S(s||[]);return n(o,"_invoke",{value:_(e,r,i)}),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function m(){}function p(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==t&&r.call(b,a)&&(h=b);var v=p.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var s;n(this,"_invoke",{value:function(n,a){function o(){return new t((function(s,o){!function n(s,a,o,i){var l=c(e[s],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Zb(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,i)}))}i(l.arg)}(n,a,s,o)}))}return s=s?s.then(o,o):o()}})}function _(e,t,r){var n="suspendedStart";return function(s,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===s)throw a;return V()}for(r.method=s,r.arg=a;;){var o=r.delegate;if(o){var i=I(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function I(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var s=c(n,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,d;var a=s.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:V}}function V(){return{value:void 0,done:!0}}return m.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:m,configurable:!0}),m.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(M.prototype),l(M.prototype,o,(function(){return this})),e.AsyncIterator=M,e.async=function(t,r,n,s,a){void 0===a&&(a=Promise);var o=new M(u(t,r,n,s),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var i=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var s=n.arg;N(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function av(e,t,r,n,s,a,o){try{var i=e[a](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,s)}function ov(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){av(a,n,s,o,i,"next",e)}function i(e){av(a,n,s,o,i,"throw",e)}o(void 0)}))}}function iv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gv(n.key),n)}}function lv(e,t){return(lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function uv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fv(e);if(t){var s=fv(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return cv(this,r)}}function cv(e,t){if(t&&("object"===Zb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dv(e)}function dv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fv(e){return(fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(r),!0).forEach((function(t){hv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hv(e,t,r){return(t=gv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gv(e){var t=function(e,t){if("object"!==Zb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zb(t)?t:String(t)}var bv=function(e,t){var r=pv({},e);for(var n in t)for(var s in r[n]||(r[n]={}),t[n])for(var a in r[n][s]||(r[n][s]={}),t[n][s])r[n][s][a]=t[n][s][a];return r},vv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}(l,e);var t,r,n,a,o,i=uv(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),hv(dv(t=i.call(this,e)),"onDrop",(function(e){var r=new FileReader,n=e[0],s=Xa.a.extname(n.name).toLowerCase();".sf2"!==s||t.midiPlayer?(r.onload=ov(sv().mark((function e(){var a,o,i;return sv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(".sf2"!==s||!t.midiPlayer){e.next=11;break}return a="user/".concat(n.name),!0,o=!1,e.next=6,pm(t.chipCore,"".concat(qf.SOUNDFONT_MOUNTPOINT,"/").concat(a),new Uint8Array(r.result),!0);case 6:t.midiPlayer.updateSoundfontParamDefs(),t.midiPlayer.setParameter("soundfont",a,o),t.forceUpdate(),e.next=13;break;case 11:i=r.result,t.sequencer.playSongFile(n.name,i);case 13:case"end":return e.stop()}}),e)}))),r.readAsArrayBuffer(n)):t.handlePlayerError("MIDIPlayer has not been created - unable to load SoundFont.")})),u(dv(t)),t.attachMediaKeyHandlers(),t.contentAreaRef=s.a.createRef(),t.playContexts={},t.errorTimer=null,t.midiPlayer=null,window.ChipPlayer=dv(t);var r=Y(im),n=Qr(r);t.db=aa(r),Ba(ua(t.db,"users","hqAWkYyzu2hIzNgE3ui89f41vFA2")).then((function(e){e.exists()&&e.data().analyses&&t.setState({analyses:bv(Wh,e.data().analyses)})})),function(e,t,r,n){Object(ue.i)(e).onAuthStateChanged(t,r,n)}(n,(function(e){if(t.setState({user:e,loadingUser:!!e}),e){t.setState({analysisEnabled:!0});var r=ua(t.db,"users",e.uid);Ba(r).then((function(n){if(n.exists()){var s=n.data();t.setState({faves:s.faves||[],showPlayerSettings:!!s.settings&&s.settings.showPlayerSettings})}else console.debug("Creating user document",e.uid),La(r,{faves:[],settings:{},user:{email:e.email}})})).finally((function(){t.setState({loadingUser:!1})}))}}));var a=t.audioCtx=window.audioCtx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"playback"}),o=Math.max(Math.pow(2,Math.ceil(Math.log2((a.baseLatency||.001)*a.sampleRate))),2048),c=t.gainNode=a.createGain();c.gain.value=1,c.connect(a.destination);var d=t.playerNode=a.createScriptProcessor(o,0,2);return d.connect(c),function(e){if(console.log("AudioContext initial state is %s.",e.state),"suspended"===e.state){var t=["touchstart","touchend","mousedown","mouseup"],r=function r(){return e.resume().then((function(){return t.forEach((function(e){return document.body.removeEventListener(e,r)}))}))};t.forEach((function(e){return document.body.addEventListener(e,r,!1)}))}}(a),console.log("Sample rate: %d hz. Base latency: %d. Buffer size: %d.",a.sampleRate,a.baseLatency*a.sampleRate,o),t.state={loading:!0,loadingUser:!0,paused:!0,ejected:!0,playerError:null,currentSongMetadata:{},currentSongNumVoices:0,currentSongNumSubtunes:0,currentSongSubtune:0,currentSongDurationMs:1,currentSongPositionMs:0,tempo:1,voiceMask:Array(qf.MAX_VOICES).fill(!0),voiceNames:Array(qf.MAX_VOICES).fill(""),imageUrl:null,infoTexts:[],showInfo:!1,showPlayerError:!1,showPlayerSettings:!1,user:null,faves:[],songUrl:null,volume:100,repeat:0,shuffle:0,directories:{},hasPlayer:!1,paramDefs:[],chipStateDump:{},analysisEnabled:!1,analyses:Wh},t.initChipCore(a,d,o),t}return t=l,r=[{key:"initChipCore",value:(o=ov(sv().mark((function e(t,r,n){var s,a,o,i,l,u,c,d,f=this;return sv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new om({locateFile:function(e,t){return e.endsWith(".wasm")||e.endsWith(".wast")?"".concat("","/").concat(e):t+e},print:function(e){return console.debug("[stdout] "+e)},printErr:function(e){return console.debug("[stderr] "+e)}});case 3:this.chipCore=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),Object.assign(this.state,{playerError:"Error loading player engine. Old browser?",loading:!1}),e.abrupt("return");case 10:s=Ya.a.parse(window.location.search.substring(1)).debug,a=this,o=[Yp,Gm,Hh,Th,hh,lp,ag].map((function(e){return new e(f.chipCore,t.sampleRate,n,s,(function(e){return a.setState({chipStateDump:e})}),f.togglePause)})),this.midiPlayer=o[0],r.onaudioprocess=function(e){for(var t=[],r=0;r<e.outputBuffer.numberOfChannels;r++)t.push(e.outputBuffer.getChannelData(r));var n,s=tv(o);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.stopped||a.processAudio(t)}}catch(e){s.e(e)}finally{s.f()}},this.chipCore.FS.syncfs(!0,(function(e){e&&console.log("Error populating FS from indexeddb.",e),o.forEach((function(e){return e.handleFileSystemReady()}))})),this.sequencer=new nm(o,this.props.history),this.sequencer.on("sequencerStateUpdate",this.handleSequencerStateUpdate),this.sequencer.on("playerError",this.handlePlayerError),(i=Ya.a.parse(window.location.search.substring(1))).play&&(l=i.play,u=Xa.a.dirname(i.play),delete i.play,c=Ya.a.stringify(i),d=c?"?".concat(c):"",this.fetchDirectory(u).then((function(){f.props.history.replace("/browse/".concat(u).concat(d));var e=f.playContexts[u].indexOf(l);f.playContext(f.playContexts[u],e),i.t&&setTimeout((function(){f.sequencer.getPlayer()&&f.sequencer.getPlayer().seekMs(parseInt(i.t,10))}),100)}))),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r){return o.apply(this,arguments)})},{key:"handleLogin",value:function(){(async function(e,t,r){const n=_t(e);ye(e,t,Dt);const s=pr(n,r);return new _r(n,"signInViaPopup",t,s).executeNotNull()})(Qr(),new Bt).then((function(e){console.log("Firebase auth result:",e)})).catch((function(e){console.log("Firebase auth error:",e)}))}},{key:"handleLogout",value:function(){var e=this;(function(e){return Object(ue.i)(e).signOut()})(Qr()).then((function(){e.setState({user:null,faves:[]})}))}},{key:"handleToggleFavorite",value:function(){}},{key:"saveAnalysis",value:(a=ov(sv().mark((function e(t){var r,n,s,a,o,i,l,u,c,d,f,m,p;return sv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=null===(r=this.sequencer)||void 0===r?void 0:r.getCurrIdx())){e.next=3;break}return e.abrupt("return");case 3:if(s=this.playContexts[this.browsePath]&&this.playContexts[this.browsePath][n],a=this.state.currentSongSubtune,s){e.next=7;break}return e.abrupt("return");case 7:if(o=s.lastIndexOf("/"),i=s.substring(0,o),l=s.substring(o+1),!(u=this.state.user)){e.next=22;break}return d=ua(this.db,"users",u.uid),e.next=15,Ba(d);case 15:return f=e.sent,m=f.exists?f.data():{},p=hv({},i,hv({},l,hv({},a,t))),m.analyses=bv(null!==(c=m.analyses)&&void 0!==c?c:{},p),e.next=21,La(d,m).catch((function(e){console.log("Couldn't save analysis.",e),alert("Could not save analysis")}));case 21:this.setState((function(e){return{analyses:bv(e.analyses,p)}}));case 22:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"attachMediaKeyHandlers",value:function(){var e=this;"mediaSession"in navigator&&(console.log("Attaching Media Key event handlers."),this.mediaSessionAudio=document.createElement("audio"),this.mediaSessionAudio.src="/5-seconds-of-silence.mp3",this.mediaSessionAudio.loop=!0,this.mediaSessionAudio.volume=0,navigator.mediaSession.setActionHandler("play",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("pause",(function(){return e.togglePause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return e.prevSong()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return e.nextSong()})),navigator.mediaSession.setActionHandler("seekbackward",(function(){return e.seekRelative(-5e3)})),navigator.mediaSession.setActionHandler("seekforward",(function(){return e.seekRelative(5e3)}))),document.addEventListener("keydown",(function(t){if(!t.ctrlKey&&!t.metaKey){switch(t.key){case"Escape":e.setState({showInfo:!1}),t.target.blur()}if("INPUT"!==t.target.tagName||"text"!==t.target.type){switch(t.key){case" ":e.togglePause(),t.preventDefault();break;case"-":e.setSpeedRelative(-.1);break;case"_":e.setSpeedRelative(-.01);break;case"=":e.setSpeedRelative(.1);break;case"+":e.setSpeedRelative(.01)}if("INPUT"!==t.target.tagName||"range"!==t.target.type)switch(t.key){case"ArrowLeft":e.seekRelative(-5e3),t.preventDefault();break;case"ArrowRight":e.seekRelative(5e3),t.preventDefault()}}}}))}},{key:"playContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.sequencer.playContext(e,t,r)}},{key:"prevSong",value:function(){this.sequencer.prevSong()}},{key:"nextSong",value:function(){this.sequencer.nextSong()}},{key:"prevSubtune",value:function(){this.sequencer.prevSubtune()}},{key:"nextSubtune",value:function(){this.sequencer.nextSubtune()}},{key:"handleSequencerStateUpdate",value:function(e){var t=this,r=e.isEjected;if(console.log("App.handleSequencerStateUpdate(isEjected=%s)",r),r)this.setState({ejected:!0,currentSongSubtune:0,currentSongMetadata:{},currentSongNumVoices:0,currentSongPositionMs:0,currentSongDurationMs:1,currentSongNumSubtunes:0,imageUrl:null,songUrl:null}),"mediaSession"in navigator&&(this.mediaSessionAudio.pause(),navigator.mediaSession.playbackState="none","MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({})));else{var n=this.sequencer.getPlayer(),s=this.sequencer.getCurrUrl();if(s){var a=function(e){return fm(dm(e))}(s);Bf.fetchCached(a).then((function(e){var r=e.imageUrl,n=e.infoTexts,s=[].concat(ev(n),ev(t.state.infoTexts));t.setState({imageUrl:r,infoTexts:s}),"mediaSession"in navigator&&(navigator.mediaSession.metadata.artwork=null==r?[]:[{src:r,sizes:"512x512"}])})).catch((function(e){t.setState({imageUrl:null})}))}var o,i,u=n.getMetadata();"mediaSession"in navigator&&(this.mediaSessionAudio.play(),"MediaMetadata"in window&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:u.title||(null===(o=u.formatted)||void 0===o?void 0:o.title),artist:u.artist||(null===(i=u.formatted)||void 0===i?void 0:i.subtitle),album:u.game,artwork:[]}))),this.setState(pv(pv({},l.mapSequencerStateToAppState(e)),{},{showInfo:!1}))}}},{key:"handlePlayerError",value:function(e){var t=this;e&&this.setState({playerError:e}),this.setState({showPlayerError:!!e}),clearTimeout(this.errorTimer),this.errorTimer=setTimeout((function(){return t.setState({showPlayerError:!1})}),qf.ERROR_FLASH_DURATION_MS)}},{key:"togglePause",value:function(){if(!this.state.ejected&&this.sequencer.getPlayer()){var e=this.sequencer.getPlayer().togglePause();"mediaSession"in navigator&&(e?this.mediaSessionAudio.pause():this.mediaSessionAudio.play()),this.setState({paused:e})}}},{key:"toggleSettings",value:function(){var e=!this.state.showPlayerSettings;this.setState({showPlayerSettings:e});var t=this.state.user;t&&function(e,t,r,...n){const s=Ma((e=zn(e,oa)).firestore);let a;return a="string"==typeof(t=Object(en.e)(t))||t instanceof da?Na(s,"updateDoc",e._key,t,r,n):Pa(s,"updateDoc",e._key,t),Zs(ra(e.firestore),[a.toMutation(e._key,Rs.exists(!0))])}(ua(this.db,"users",t.uid),{settings:{showPlayerSettings:e}}).catch((function(e){console.log("Couldn't update settings in Firebase.",e)}))}},{key:"handleTimeSliderChange",value:function(e){if(this.sequencer.getPlayer()){var t=e.target?e.target.value:e,r=Math.floor(t*this.state.currentSongDurationMs);if(this.seekRelativeInner(r),qf.REPLACE_STATE_ON_SEEK){var n=pv(pv({},Ya.a.parse(window.location.search.substr(1))),{},{t:r}),s="?"+Ya.a.stringify(n).replace(/%20/g,"+").replace(/%2F/g,"/");window.history.replaceState(null,"",s)}}}},{key:"seekRelative",value:function(e){if(this.sequencer.getPlayer()){var t=this.state.currentSongDurationMs,r=Ha()(this.sequencer.getPlayer().getPositionMs()+e,0,t);this.seekRelativeInner(r)}}},{key:"seekRelativeInner",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!r&&this.state.seekCallback&&this.state.seekCallback(e),this.sequencer.getPlayer().seekMs(e),this.setState({currentSongPositionMs:e}),setTimeout((function(){t.sequencer.getPlayer().isPlaying()&&t.setState({currentSongPositionMs:t.sequencer.getPlayer().getPositionMs()})}),100)}},{key:"handleSetVoiceMask",value:function(e){this.sequencer.getPlayer()&&(this.sequencer.getPlayer().setVoiceMask(e),this.setState({voiceMask:ev(e)}))}},{key:"handleTempoChange",value:function(e){if(this.sequencer.getPlayer()){var t=parseFloat(e.target?e.target.value:e)||1;this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"setSpeedRelative",value:function(e){if(this.sequencer.getPlayer()){var t=Ha()(this.state.tempo+e,.1,2);this.sequencer.getPlayer().setTempo(t),this.setState({tempo:t})}}},{key:"handleShufflePlay",value:function(e){var t=this;"favorites"===e?this.sequencer.playContext(Ga()(this.state.faves)):fetch("".concat(qf.API_BASE,"/shuffle?path=").concat(encodeURI(e),"&limit=100")).then((function(e){return e.json()})).then((function(e){return e.items.map((function(e){return e.replace("%","%25").replace("#","%23").replace(/^\//,"")}))})).then((function(e){return t.sequencer.playContext(e)}))}},{key:"handleCycleShuffle",value:function(){var e=(this.state.shuffle+1)%2;this.setState({shuffle:e}),this.sequencer.setShuffle(e)}},{key:"handleSongClick",value:function(e,t,r){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return function(a){a.preventDefault(),t?n.playContext(t,r,s):n.sequencer.playSonglist([e])}}},{key:"handleVolumeChange",value:function(e){this.setState({volume:e}),this.gainNode.gain.value=Math.max(0,Math.min(2,.01*e))}},{key:"handleCycleRepeat",value:function(){var e=(this.state.repeat+1)%3;this.setState({repeat:e}),this.sequencer.setRepeat(e)}},{key:"toggleInfo",value:function(){this.setState({showInfo:!this.state.showInfo})}},{key:"fetchDirectory",value:function(e){var t=this;return fetch("".concat(qf.API_BASE,"/browse?path=%2F").concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(r){t.playContexts[e]=r.filter((function(e){return"file"===e.type})).map((function(e){return e.path.replace("%","%25").replace("#","%23").replace(/^\//,"")}));var n=pv(pv({},t.state.directories),{},hv({},e,r));t.setState({directories:n})}))}},{key:"getCurrentSongLink",value:function(){var e=this.sequencer.getCurrUrl();return e?"/?play="+encodeURIComponent(e.replace(qf.CATALOG_PREFIX,"")):"#"}},{key:"render",value:function(){var e,t,r,n=this,a=(r=this.state.currentSongMetadata).formatted?r.formatted:{title:cm(r.artist," - ")+r.title,subtitle:[r.game,r.system].filter((function(e){return e})).join(" - ")+cm(" (",r.copyright,")")},o=a.title,i=a.subtitle,l=null===(e=this.sequencer)||void 0===e?void 0:e.getCurrContext(),u=null===(t=this.sequencer)||void 0===t?void 0:t.getCurrIdx(),c={search:window.location.search};return s.a.createElement(bo,{disableClick:!0,style:{},onDrop:this.onDrop},(function(e){return s.a.createElement("div",{className:"App"},s.a.createElement(Vb,{dropzoneProps:e}),s.a.createElement(Ob,{showInfo:n.state.showInfo,infoTexts:n.state.infoTexts,toggleInfo:n.toggleInfo}),s.a.createElement(og,{handlePlayerError:n.handlePlayerError,playerError:n.state.playerError,showPlayerError:n.state.showPlayerError}),s.a.createElement(Xg,{user:n.state.user,handleLogout:n.handleLogout,handleLogin:n.handleLogin,isPhone:qa.a.phone}),s.a.createElement("div",{className:"App-main"},s.a.createElement("div",{className:"App-main-inner"},s.a.createElement("div",{className:"tab-container"},s.a.createElement(Ro,{className:"tab",activeClassName:"tab-selected",to:pv({pathname:"/"},c),exact:!0},"Search"),s.a.createElement(Ro,{className:"tab",activeClassName:"tab-selected",to:pv({pathname:"/browse"},c)},"Browse"),s.a.createElement("button",{className:n.state.showPlayerSettings?"tab tab-selected":"tab",style:{marginLeft:"auto",marginRight:0},onClick:n.toggleSettings},"Settings"))&&!1,s.a.createElement("div",{className:"App-main-content-and-settings"},s.a.createElement("div",{className:"App-main-content-area",ref:n.contentAreaRef},s.a.createElement(vo.d,null,s.a.createElement(vo.b,{path:"/",exact:!0,render:function(){return s.a.createElement(vo.a,{to:"/browse/MIDI"})}}),s.a.createElement(vo.b,{path:"/chordPlayground",exact:!0,render:function(){return s.a.createElement(Cf,null)}}),s.a.createElement(vo.b,{path:"/search",exact:!0,render:function(){return s.a.createElement(vf,{analyses:n.state.analyses})}}),s.a.createElement(vo.b,{path:["/browse/:browsePath*","/search/:searchPath*","/book/:bookPath*"],render:function(e){var t,r,a,o,i,c=e.history,d=e.match,f=e.location,m=null===(t=d.params)||void 0===t?void 0:t.searchPath,p=null===(r=d.params)||void 0===r?void 0:r.bookPath,h=m?"Nintendo":(null===(a=d.params)||void 0===a||null===(o=a.browsePath)||void 0===o?void 0:o.replace("%25","%"))||(p?Of(p).path:"");console.log("BROWSE_PATH",h),n.browsePath=h;var g=n.playContexts[h]&&n.playContexts[h][u],b=n.state.currentSongSubtune,v=g&&g.lastIndexOf("/"),y=v&&g.substring(v+1),M=n.state.analyses&&n.state.analyses[h]&&n.state.analyses[h][y]&&n.state.analyses[h][y][b];return n.contentAreaRef.current&&s.a.createElement(s.a.Fragment,null,s.a.createElement(hb,{currContext:l,currIdx:u,historyAction:c.action,locationKey:f.key,browsePath:h,searchPath:m,bookPath:p,listing:n.state.directories[h],playContext:n.playContexts[h],fetchDirectory:n.fetchDirectory,handleSongClick:n.handleSongClick,handleShufflePlay:n.handleShufflePlay,scrollContainerRef:n.contentAreaRef,favorites:n.state.faves,toggleFavorite:n.handleToggleFavorite,analyses:n.state.analyses,sequencer:n.sequencer}),(null===(i=n.state.chipStateDump)||void 0===i?void 0:i.type)&&s.a.createElement(rf,{chipStateDump:n.state.chipStateDump,getCurrentPositionMs:function(){return n.sequencer&&n.sequencer.getPlayer()?n.sequencer.getPlayer().getPositionMs():0},savedAnalysis:M,saveAnalysis:n.saveAnalysis,voiceNames:n.state.voiceNames,voiceMask:n.state.voiceMask,setVoiceMask:n.handleSetVoiceMask,analysisEnabled:n.state.analysisEnabled,seek:function(e){return n.seekRelativeInner(e,!0)},registerSeekCallback:function(e){return n.setState({seekCallback:e})},bookPath:p,pause:n.togglePause,paused:n.state.paused,loggedIn:!!n.state.user}))}}),s.a.createElement(vo.b,{path:"/settings",render:function(){return s.a.createElement(xb,{ejected:n.state.ejected,tempo:n.state.tempo,currentSongNumVoices:n.state.currentSongNumVoices,voiceMask:n.state.voiceMask,voiceNames:n.state.voiceNames,handleSetVoiceMask:n.handleSetVoiceMask,handleTempoChange:n.handleTempoChange,sequencer:n.sequencer})}}))))),!qa.a.phone&&!n.state.loading&&s.a.createElement(Qb,{audioCtx:n.audioCtx,sourceNode:n.playerNode,chipCore:n.chipCore,settingsEnabled:n.state.showPlayerSettings,handleToggleSettings:n.toggleSettings,analysisEnabled:n.state.analysisEnabled,handleToggleAnalysis:function(){return n.setState((function(e){return{analysisEnabled:!e.analysisEnabled}}))},paused:n.state.ejected||n.state.paused})),s.a.createElement(Bg,{currentSongDurationMs:n.state.currentSongDurationMs,currentSongNumSubtunes:n.state.currentSongNumSubtunes,currentSongNumVoices:n.state.currentSongNumVoices,currentSongSubtune:n.state.currentSongSubtune,ejected:n.state.ejected,faves:n.state.faves,getCurrentSongLink:n.getCurrentSongLink,handleCycleRepeat:n.handleCycleRepeat,handleCycleShuffle:n.handleCycleShuffle,handleSetVoiceMask:n.handleSetVoiceMask,handleTempoChange:n.handleTempoChange,handleTimeSliderChange:n.handleTimeSliderChange,handleToggleFavorite:n.handleToggleFavorite,handleVolumeChange:n.handleVolumeChange,imageUrl:n.state.imageUrl,infoTexts:n.state.infoTexts,nextSong:n.nextSong,nextSubtune:n.nextSubtune,paused:n.state.paused,prevSong:n.prevSong,prevSubtune:n.prevSubtune,repeat:n.state.repeat,shuffle:n.state.shuffle,sequencer:n.sequencer,showPlayerSettings:n.state.showPlayerSettings,songUrl:n.state.songUrl,subtitle:i,tempo:n.state.tempo,title:o,toggleInfo:n.toggleInfo,togglePause:n.togglePause,toggleSettings:n.toggleSettings,voiceNames:n.state.voiceNames,voiceMask:n.state.voiceMask,volume:n.state.volume}))}))}}],n=[{key:"mapSequencerStateToAppState",value:function(e){var t={ejected:"isEjected",paused:"isPaused",currentSongSubtune:"subtune",currentSongMetadata:"metadata",currentSongNumVoices:"numVoices",currentSongPositionMs:"positionMs",currentSongDurationMs:"durationMs",currentSongNumSubtunes:"numSubtunes",tempo:"tempo",voiceNames:"voiceNames",voiceMask:"voiceMask",songUrl:"url",hasPlayer:"hasPlayer",paramDefs:"paramDefs",infoTexts:"infoTexts"},r={};for(var n in t){var s=t[n];s in e&&(r[n]=e[s])}return r}}],r&&iv(t.prototype,r),n&&iv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(s.a.Component),yv=Object(vo.i)(vv);o.a.render(s.a.createElement(No,{basename:""},s.a.createElement(yv,null)),document.getElementById("root"))}]);
//# sourceMappingURL=main.acbd2521.js.map